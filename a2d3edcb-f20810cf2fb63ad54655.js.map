{"version":3,"file":"a2d3edcb-f20810cf2fb63ad54655.js","mappings":"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","sources":["webpack://blog/./node_modules/@codesandbox/sandpack-react/dist/index.mjs"],"sourcesContent":["\"use client\";\n\nimport { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { createContext, useContext, useState, useId, useRef, useCallback, useEffect, createElement, forwardRef } from 'react';\nimport { createStitches } from '@stitches/core';\nimport { dequal } from 'dequal';\nimport { normalizePath, addPackageJSONIfNeeded, loadSandpackClient, extractErrorDetails } from '@codesandbox/sandpack-client';\nimport { closeBracketsKeymap, closeBrackets } from '@codemirror/autocomplete';\nimport { defaultKeymap, historyKeymap, history, indentMore, indentLess, deleteGroupBackward } from '@codemirror/commands';\nimport { HighlightStyle, syntaxHighlighting, bracketMatching } from '@codemirror/language';\nimport { EditorState, StateEffect, EditorSelection, Annotation } from '@codemirror/state';\nimport { EditorView, ViewPlugin, Decoration, keymap, highlightSpecialChars, highlightActiveLine, lineNumbers } from '@codemirror/view';\nimport useIntersectionObserver from '@react-hook/intersection-observer';\nimport { css as css$1 } from '@codemirror/lang-css';\nimport { html } from '@codemirror/lang-html';\nimport { javascript } from '@codemirror/lang-javascript';\nimport { tags, highlightTree } from '@lezer/highlight';\nimport Anser from 'anser';\nimport { escapeCarriageReturn } from 'escape-carriage';\nimport LZString from 'lz-string';\nimport cleanSet from 'clean-set';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\n\nvar SVG = function (props) { return (jsx(\"svg\", __assign({ fill: \"currentColor\", height: \"16\", viewBox: \"0 0 16 16\", width: \"16\", xmlns: \"http://www.w3.org/2000/svg\" }, props))); };\nvar SignInIcon = function () { return (jsxs(SVG, { viewBox: \"0 0 48 48\", children: [jsx(\"title\", { children: \"Sign in\" }), jsx(\"path\", { d: \"M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h14.55v3H9v30h14.55v3Zm24.3-9.25-2.15-2.15 5.1-5.1h-17.5v-3h17.4l-5.1-5.1 2.15-2.15 8.8 8.8Z\" })] })); };\nvar SignOutIcon = function () { return (jsxs(SVG, { viewBox: \"0 0 48 48\", children: [jsx(\"title\", { children: \"Sign out\" }), jsx(\"path\", { d: \"M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h14.55v3H9v30h14.55v3Zm24.3-9.25-2.15-2.15 5.1-5.1h-17.5v-3h17.4l-5.1-5.1 2.15-2.15 8.8 8.8Z\" })] })); };\nvar RestartIcon = function () { return (jsxs(SVG, { fill: \"none\", stroke: \"currentColor\", children: [jsx(\"title\", { children: \"Restart script\" }), jsx(\"path\", { d: \"M8 2C4.68629 2 2 4.68629 2 8C2 10.0946 3.07333 11.9385 4.7 13.0118\", strokeLinecap: \"round\" }), jsx(\"path\", { d: \"M14.0005 7.9998C14.0005 5.82095 12.8391 3.91335 11.1016 2.8623\", strokeLinecap: \"round\" }), jsx(\"path\", { d: \"M14.0003 2.3335H11.167C10.8908 2.3335 10.667 2.55735 10.667 2.8335V5.66683\", strokeLinecap: \"round\" }), jsx(\"path\", { d: \"M1.99967 13.6665L4.83301 13.6665C5.10915 13.6665 5.33301 13.4426 5.33301 13.1665L5.33301 10.3332\", strokeLinecap: \"round\" }), jsx(\"path\", { d: \"M10 10L12 12L10 14\", strokeLinecap: \"round\", strokeLinejoin: \"round\" }), jsx(\"path\", { d: \"M14.667 14L12.667 14\", strokeLinecap: \"round\", strokeLinejoin: \"round\" })] })); };\nvar RunIcon = function () { return (jsxs(SVG, { children: [jsx(\"title\", { children: \"Run sandbox\" }), jsx(\"path\", { d: \"M11.0792 8.1078C11.2793 8.25007 11.27 8.55012 11.0616 8.67981L6.02535 11.8135C5.79638 11.956 5.5 11.7913 5.5 11.5216L5.5 8.40703L5.5 4.80661C5.5 4.52735 5.81537 4.36463 6.04296 4.52647L11.0792 8.1078Z\" })] })); };\nvar BackwardIcon = function () { return (jsxs(SVG, { children: [jsx(\"title\", { children: \"Click to go back\" }), jsx(\"path\", { d: \"M9.64645 12.3536C9.84171 12.5488 10.1583 12.5488 10.3536 12.3536C10.5488 12.1583 10.5488 11.8417 10.3536 11.6464L9.64645 12.3536ZM10.3536 4.35355C10.5488 4.15829 10.5488 3.84171 10.3536 3.64644C10.1583 3.45118 9.84171 3.45118 9.64645 3.64644L10.3536 4.35355ZM6.07072 7.92929L5.71716 7.57573L6.07072 7.92929ZM10.3536 11.6464L6.42427 7.71716L5.71716 8.42426L9.64645 12.3536L10.3536 11.6464ZM6.42427 8.28284L10.3536 4.35355L9.64645 3.64644L5.71716 7.57573L6.42427 8.28284ZM6.42427 7.71716C6.58048 7.87337 6.58048 8.12663 6.42427 8.28284L5.71716 7.57573C5.48285 7.81005 5.48285 8.18995 5.71716 8.42426L6.42427 7.71716Z\" })] })); };\nvar ForwardIcon = function () { return (jsxs(SVG, { children: [jsx(\"title\", { children: \"Click to go forward\" }), jsx(\"path\", { d: \"M6.35355 3.64645C6.15829 3.45118 5.84171 3.45118 5.64645 3.64645C5.45118 3.84171 5.45118 4.15829 5.64645 4.35355L6.35355 3.64645ZM5.64645 11.6464C5.45118 11.8417 5.45118 12.1583 5.64645 12.3536C5.84171 12.5488 6.15829 12.5488 6.35355 12.3536L5.64645 11.6464ZM9.92929 8.07071L10.2828 8.42426L9.92929 8.07071ZM5.64645 4.35355L9.57574 8.28284L10.2828 7.57574L6.35355 3.64645L5.64645 4.35355ZM9.57574 7.71716L5.64645 11.6464L6.35355 12.3536L10.2828 8.42426L9.57574 7.71716ZM9.57574 8.28284C9.41952 8.12663 9.41953 7.87337 9.57574 7.71716L10.2828 8.42426C10.5172 8.18995 10.5172 7.81005 10.2828 7.57574L9.57574 8.28284Z\" })] })); };\nvar RefreshIcon = function () { return (jsxs(SVG, { children: [jsx(\"title\", { children: \"Refresh preview\" }), jsx(\"path\", { clipRule: \"evenodd\", d: \"M3.83325 7.99992C3.83325 5.69867 5.69853 3.83325 7.99934 3.83325C9.81246 3.83325 11.3563 4.99195 11.9285 6.61097C11.9396 6.6425 11.9536 6.67221 11.97 6.69992H8.80005C8.52391 6.69992 8.30005 6.92378 8.30005 7.19992C8.30005 7.47606 8.52391 7.69992 8.80005 7.69992H12.5667C12.8981 7.69992 13.1667 7.43129 13.1667 7.09992V3.33325C13.1667 3.05711 12.9429 2.83325 12.6667 2.83325C12.3906 2.83325 12.1667 3.05711 12.1667 3.33325V4.94608C11.2268 3.66522 9.7106 2.83325 7.99934 2.83325C5.14613 2.83325 2.83325 5.14651 2.83325 7.99992C2.83325 10.8533 5.14613 13.1666 7.99934 13.1666C9.91218 13.1666 11.5815 12.1266 12.474 10.5836C12.6123 10.3446 12.5306 10.0387 12.2915 9.90044C12.0525 9.76218 11.7466 9.84387 11.6084 10.0829C10.8873 11.3296 9.54072 12.1666 7.99934 12.1666C5.69853 12.1666 3.83325 10.3012 3.83325 7.99992Z\", fillRule: \"evenodd\" })] })); };\nvar CleanIcon = function () { return (jsxs(SVG, { fill: \"none\", stroke: \"currentColor\", children: [jsx(\"title\", { children: \"Clean\" }), jsx(\"circle\", { cx: \"7.99998\", cy: \"8.00004\", r: \"4.66667\", strokeLinecap: \"round\" }), jsx(\"path\", { d: \"M4.66669 4.66663L11.3334 11.3333\" })] })); };\nvar ExportIcon = function () { return (jsxs(SVG, { fill: \"none\", stroke: \"currentColor\", children: [jsx(\"title\", { children: \"Open on CodeSandbox\" }), jsx(\"path\", { d: \"M6.66665 3.33337H4.33331C3.78103 3.33337 3.33331 3.78109 3.33331 4.33337V11.6667C3.33331 12.219 3.78103 12.6667 4.33331 12.6667H11.6666C12.2189 12.6667 12.6666 12.219 12.6666 11.6667V9.33337\", strokeLinecap: \"round\" }), jsx(\"path\", { d: \"M10 3.33337H12.5667C12.6219 3.33337 12.6667 3.37815 12.6667 3.43337V6.00004\", strokeLinecap: \"round\" }), jsx(\"path\", { d: \"M7.33331 8.66668L12.5333 3.46667\", strokeLinecap: \"round\" })] })); };\nvar DirectoryIconOpen = function () { return (jsxs(SVG, { children: [jsx(\"title\", { children: \"Directory\" }), jsx(\"path\", { d: \"M12.5526 12.6667H3.66675C3.2922 12.6667 2.96575 12.4608 2.79442 12.156L3.81072 8.0908C3.92201 7.64563 4.32199 7.33333 4.78086 7.33333H13.386C14.0365 7.33333 14.5139 7.94472 14.3561 8.57587L13.5228 11.9092C13.4115 12.3544 13.0115 12.6667 12.5526 12.6667Z\", fill: \"currentColor\" }), jsx(\"path\", { d: \"M13.3334 6.63333V6.33333C13.3334 5.78105 12.8857 5.33333 12.3334 5.33333H8.30286C8.10543 5.33333 7.91242 5.2749 7.74816 5.16538L6.25201 4.16795C6.08774 4.05844 5.89473 4 5.69731 4H3.66675C3.11446 4 2.66675 4.44772 2.66675 5L2.66675 11.6667C2.66675 12.219 3.11446 12.6667 3.66675 12.6667H12.5526C13.0115 12.6667 13.4115 12.3544 13.5228 11.9092L14.3561 8.57587C14.5139 7.94472 14.0365 7.33333 13.386 7.33333H4.78086C4.32199 7.33333 3.92201 7.64563 3.81072 8.0908L2.75008 12.3333\", fill: \"none\", stroke: \"currentColor\", strokeLinecap: \"round\" })] })); };\nvar DirectoryIconClosed = function () { return (jsxs(SVG, { children: [jsx(\"title\", { children: \"Directory\" }), jsx(\"path\", { d: \"M12.3334 12.6667H3.66675C3.11446 12.6667 2.66675 12.219 2.66675 11.6667V5C2.66675 4.44772 3.11446 4 3.66675 4H5.69731C5.89473 4 6.08774 4.05844 6.25201 4.16795L7.74816 5.16538C7.91242 5.2749 8.10543 5.33333 8.30286 5.33333H12.3334C12.8857 5.33333 13.3334 5.78105 13.3334 6.33333V11.6667C13.3334 12.219 12.8857 12.6667 12.3334 12.6667Z\", fill: \"currentColor\", stroke: \"currentColor\", strokeLinecap: \"round\" })] })); };\nvar FileIcon = function () { return (jsxs(SVG, { fill: \"currentColor\", children: [jsx(\"title\", { children: \"File\" }), jsx(\"path\", { clipRule: \"evenodd\", d: \"M4.5 4.33325C4.5 4.05711 4.72386 3.83325 5 3.83325H8.16675V6.56659C8.16675 6.89795 8.43538 7.16658 8.76675 7.16658H11.5V12.3333C11.5 12.6094 11.2761 12.8333 11 12.8333H5C4.72386 12.8333 4.5 12.6094 4.5 12.3333V4.33325ZM12.5 6.67568C12.5001 6.67265 12.5001 6.66962 12.5001 6.66658C12.5001 6.66355 12.5001 6.66052 12.5 6.65749V6.41413C12.5 6.01631 12.342 5.63478 12.0607 5.35347L9.97978 3.27259C9.69848 2.99129 9.31694 2.83325 8.91912 2.83325H8.66675H5C4.17157 2.83325 3.5 3.50483 3.5 4.33325V12.3333C3.5 13.1617 4.17157 13.8333 5 13.8333H11C11.8284 13.8333 12.5 13.1617 12.5 12.3333V6.67568ZM9.16675 3.89888C9.20518 3.92078 9.24085 3.94787 9.27267 3.9797L11.3536 6.06058C11.3854 6.09243 11.4125 6.12813 11.4344 6.16658H9.16675V3.89888Z\", fillRule: \"evenodd\" })] })); };\nvar CloseIcon = function () { return (jsxs(SVG, { stroke: \"currentColor\", children: [jsx(\"title\", { children: \"Close file\" }), jsx(\"path\", { d: \"M12 4L4 12\", strokeLinecap: \"round\" }), jsx(\"path\", { d: \"M4 4L12 12\", strokeLinecap: \"round\" })] })); };\nvar ConsoleIcon = function () { return (jsxs(SVG, { children: [jsx(\"title\", { children: \"Open browser console\" }), jsx(\"path\", { d: \"M5.65871 3.62037C5.44905 3.44066 5.1334 3.46494 4.95368 3.6746C4.77397 3.88427 4.79825 4.19992 5.00792 4.37963L5.65871 3.62037ZM5.00792 11.6204C4.79825 11.8001 4.77397 12.1157 4.95368 12.3254C5.1334 12.5351 5.44905 12.5593 5.65871 12.3796L5.00792 11.6204ZM9.9114 7.92407L10.2368 7.54445L9.9114 7.92407ZM5.00792 4.37963L9.586 8.3037L10.2368 7.54445L5.65871 3.62037L5.00792 4.37963ZM9.586 7.6963L5.00792 11.6204L5.65871 12.3796L10.2368 8.45555L9.586 7.6963ZM9.586 8.3037C9.39976 8.14407 9.39976 7.85594 9.586 7.6963L10.2368 8.45555C10.5162 8.2161 10.5162 7.7839 10.2368 7.54445L9.586 8.3037Z\" }), jsx(\"path\", { d: \"M10 11.5C9.72386 11.5 9.5 11.7239 9.5 12C9.5 12.2761 9.72386 12.5 10 12.5V11.5ZM14.6667 12.5C14.9428 12.5 15.1667 12.2761 15.1667 12C15.1667 11.7239 14.9428 11.5 14.6667 11.5V12.5ZM10 12.5H14.6667V11.5H10V12.5Z\" })] })); };\n\nvar _a$a;\n/**\n * @category Theme\n */\nvar defaultLight = {\n    colors: {\n        surface1: \"#ffffff\",\n        surface2: \"#EFEFEF\",\n        surface3: \"#F3F3F3\",\n        disabled: \"#C5C5C5\",\n        base: \"#323232\",\n        clickable: \"#808080\",\n        hover: \"#4D4D4D\",\n        accent: \"#3973E0\",\n        error: \"#EA3323\",\n        errorSurface: \"#FCF1F0\",\n        warning: \"#6A4516\",\n        warningSurface: \"#FEF2C0\",\n    },\n    syntax: {\n        plain: \"#151515\",\n        comment: { color: \"#999\", fontStyle: \"italic\" },\n        keyword: \"#7C5AE3\",\n        tag: \"#0971F1\",\n        punctuation: \"#3B3B3B\",\n        definition: \"#85A600\",\n        property: \"#3B3B3B\",\n        static: \"#3B3B3B\",\n        string: \"#2E6BD0\",\n    },\n    font: {\n        body: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\n        mono: '\"Fira Mono\", \"DejaVu Sans Mono\", Menlo, Consolas, \"Liberation Mono\", Monaco, \"Lucida Console\", monospace',\n        size: \"13px\",\n        lineHeight: \"20px\",\n    },\n};\n/**\n * @category Theme\n */\nvar defaultDark = {\n    colors: {\n        surface1: \"#151515\",\n        surface2: \"#252525\",\n        surface3: \"#2F2F2F\",\n        disabled: \"#4D4D4D\",\n        base: \"#808080\",\n        clickable: \"#999999\",\n        hover: \"#C5C5C5\",\n        accent: \"#E5E5E5\",\n        error: \"#FFB4A6\",\n        errorSurface: \"#690000\",\n        warning: \"#E7C400\",\n        warningSurface: \"#3A3000\",\n    },\n    syntax: {\n        plain: \"#FFFFFF\",\n        comment: { color: \"#757575\", fontStyle: \"italic\" },\n        keyword: \"#77B7D7\",\n        tag: \"#DFAB5C\",\n        punctuation: \"#ffffff\",\n        definition: \"#86D9CA\",\n        property: \"#77B7D7\",\n        static: \"#C64640\",\n        string: \"#977CDC\",\n    },\n    font: {\n        body: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\n        mono: '\"Fira Mono\", \"DejaVu Sans Mono\", Menlo, Consolas, \"Liberation Mono\", Monaco, \"Lucida Console\", monospace',\n        size: \"13px\",\n        lineHeight: \"20px\",\n    },\n};\n/**\n * @category Theme\n */\nvar SANDPACK_THEMES = {\n    light: defaultLight,\n    dark: defaultDark,\n    auto: typeof window !== \"undefined\"\n        ? ((_a$a = window === null || window === void 0 ? void 0 : window.matchMedia) === null || _a$a === void 0 ? void 0 : _a$a.call(window, \"(prefers-color-scheme: dark)\").matches)\n            ? defaultDark\n            : defaultLight\n        : defaultLight,\n};\n\nvar getFileName = function (filePath) {\n    var lastIndexOfSlash = filePath.lastIndexOf(\"/\");\n    return filePath.slice(lastIndexOfSlash + 1);\n};\nvar calculateNearestUniquePath = function (currentPath, otherPaths) {\n    var currentPathParts = (currentPath[0] === \"/\" ? currentPath.slice(1) : currentPath).split(\"/\");\n    var resultPathParts = [];\n    // If path is on root, there are no parts to loop through\n    if (currentPathParts.length === 1) {\n        resultPathParts.unshift(currentPathParts[0]);\n    }\n    else {\n        // Loop over all other paths to find a unique path\n        for (var fileIndex = 0; fileIndex < otherPaths.length; fileIndex++) {\n            // We go over each part of the path from end to start to find the closest unique directory\n            var otherPathParts = otherPaths[fileIndex].split(\"/\");\n            for (var partsFromEnd = 1; partsFromEnd <= currentPathParts.length; partsFromEnd++) {\n                var currentPathPart = currentPathParts[currentPathParts.length - partsFromEnd];\n                var otherPathPart = otherPathParts[otherPathParts.length - partsFromEnd];\n                // If this part hasn't been added to the result path, we add it here\n                if (resultPathParts.length < partsFromEnd) {\n                    resultPathParts.unshift(currentPathPart);\n                }\n                // If this part is different between the current path and other path we break\n                // as from this moment the current path is unique compared to this other path\n                if (currentPathPart !== otherPathPart) {\n                    break;\n                }\n            }\n        }\n    }\n    // Add `..` if this is a relative path\n    if (resultPathParts.length < currentPathParts.length) {\n        resultPathParts.unshift(\"..\");\n    }\n    // Join the result path parts into a path string\n    return resultPathParts.join(\"/\");\n};\n// Checks both rgb and hex colors for contrast and returns true if the color is in the dark spectrum\nvar isDarkColor = function (color) {\n    var r = 0;\n    var g = 0;\n    var b = 0;\n    if (color.startsWith(\"#\")) {\n        if (color.length < 7) {\n            return true;\n        }\n        r = parseInt(color.substr(1, 2), 16);\n        g = parseInt(color.substr(3, 2), 16);\n        b = parseInt(color.substr(5, 2), 16);\n    }\n    else {\n        var rgbValues = color\n            .replace(\"rgb(\", \"\")\n            .replace(\"rgba(\", \"\")\n            .replace(\")\", \"\")\n            .split(\",\");\n        if (rgbValues.length < 3) {\n            return true;\n        }\n        r = parseInt(rgbValues[0], 10);\n        g = parseInt(rgbValues[1], 10);\n        b = parseInt(rgbValues[2], 10);\n    }\n    var yiq = (r * 299 + g * 587 + b * 114) / 1000;\n    return yiq < 128;\n};\n// Minimal cuid-like id\nvar lastCount = 0;\nvar generateRandomId = function () {\n    var random = +(Date.now().toString(10).substr(0, 4) + lastCount++);\n    return random.toString(16);\n};\n\nvar toString = function () { return \"\"; };\nvar defineProperty = Object.getOwnPropertyDescriptors({ toString: toString });\nObject.defineProperties(toString, defineProperty);\n\nvar _a$9;\n/**\n * @category Theme\n */\nvar THEME_PREFIX = \"sp\";\n/**\n * @category Theme\n */\n// prettier-ignore\nvar createTheme = (_a$9 = createStitches({\n        prefix: THEME_PREFIX,\n    }), _a$9.createTheme), css = _a$9.css, getCssText = _a$9.getCssText, keyframes = _a$9.keyframes;\nvar defaultVariables = {\n    space: new Array(11).fill(\" \").reduce(function (acc, _, index) {\n        var _a;\n        return __assign(__assign({}, acc), (_a = {}, _a[index + 1] = \"\".concat((index + 1) * 4, \"px\"), _a));\n    }, {}),\n    border: { radius: \"4px\" },\n    layout: { height: \"300px\", headerHeight: \"40px\" },\n    transitions: { default: \"150ms ease\" },\n    zIndices: {\n        base: \"1\",\n        overlay: \"2\",\n        top: \"3\",\n    },\n};\n/**\n * @category Theme\n */\nvar standardizeStitchesTheme = function (theme) {\n    // Flat values\n    var syntaxEntries = Object.entries(theme.syntax);\n    var syntax = syntaxEntries.reduce(function (tokenAcc, _a) {\n        var _b;\n        var tokenName = _a[0], tokenValue = _a[1];\n        // Single property\n        var newValues = (_b = {}, _b[\"color-\".concat(tokenName)] = tokenValue, _b);\n        // Multiples properties\n        if (typeof tokenValue === \"object\") {\n            newValues = Object.entries(tokenValue).reduce(function (valueAcc, _a) {\n                var _b;\n                var styleProp = _a[0], styleValue = _a[1];\n                return __assign(__assign({}, valueAcc), (_b = {}, _b[\"\".concat(styleProp, \"-\").concat(tokenName)] = styleValue, _b));\n            }, {});\n        }\n        return __assign(__assign({}, tokenAcc), newValues);\n    }, {});\n    return __assign(__assign({}, defaultVariables), { colors: theme.colors, font: theme.font, syntax: syntax });\n};\n/**\n * @category Theme\n */\nvar standardizeTheme = function (inputTheme) {\n    var _a, _b, _c, _d, _e;\n    if (inputTheme === void 0) { inputTheme = \"light\"; }\n    var defaultLightThemeKey = \"default\";\n    /**\n     * Set a local theme: dark or light\n     */\n    if (typeof inputTheme === \"string\") {\n        var predefinedTheme = SANDPACK_THEMES[inputTheme];\n        if (!predefinedTheme) {\n            throw new Error(\"[sandpack-react]: invalid theme '\".concat(inputTheme, \"' provided.\"));\n        }\n        return {\n            theme: predefinedTheme,\n            id: inputTheme,\n            mode: isDarkColor(predefinedTheme.colors.surface1) ? \"dark\" : \"light\",\n        };\n    }\n    /**\n     * Fullfill the colors key, in case it's missing any key\n     */\n    var mode = isDarkColor((_b = (_a = inputTheme === null || inputTheme === void 0 ? void 0 : inputTheme.colors) === null || _a === void 0 ? void 0 : _a.surface1) !== null && _b !== void 0 ? _b : defaultLight.colors.surface1)\n        ? \"dark\"\n        : \"light\";\n    /**\n     * Figure out what's the properly default colors it should be\n     * error, warning and success colors have different values between dark and light\n     */\n    var baseTheme = mode === \"dark\" ? defaultDark : defaultLight;\n    var colorsByMode = __assign(__assign({}, baseTheme.colors), ((_c = inputTheme === null || inputTheme === void 0 ? void 0 : inputTheme.colors) !== null && _c !== void 0 ? _c : {}));\n    var syntaxByMode = __assign(__assign({}, baseTheme.syntax), ((_d = inputTheme === null || inputTheme === void 0 ? void 0 : inputTheme.syntax) !== null && _d !== void 0 ? _d : {}));\n    var fontByMode = __assign(__assign({}, baseTheme.font), ((_e = inputTheme === null || inputTheme === void 0 ? void 0 : inputTheme.font) !== null && _e !== void 0 ? _e : {}));\n    var theme = {\n        colors: colorsByMode,\n        syntax: syntaxByMode,\n        font: fontByMode,\n    };\n    var id = inputTheme\n        ? simpleHashFunction(JSON.stringify(theme))\n        : defaultLightThemeKey;\n    return {\n        theme: theme,\n        id: \"sp-\".concat(id),\n        mode: mode,\n    };\n};\nvar simpleHashFunction = function (str) {\n    var hash = 0;\n    for (var i = 0; i < str.length; hash &= hash) {\n        hash = 31 * hash + str.charCodeAt(i++);\n    }\n    return Math.abs(hash);\n};\n/**\n * The fake `css` function used to match the real `css` function usage\n * We use this for the unstyled bundle which do not need real class names\n * `css` is a factory which return a className generator, but also it be used in scenarios which `toString` will be invoked\n * so we also need to add the `toString` method to it.\n */\nvar fakeCss = function () { return \"\"; };\nfakeCss.toString = fakeCss;\n\n/**\n * <ClassNamesContext classes={{\n *     \"sp-wrapper\": \"custom-wrapper\",\n *     \"sp-layout\": \"custom-layout\",\n *     \"sp-tab-button\": \"custom-tab\",\n *  }}>\n *  ...\n * </ClassNamesContext>\n */\nvar ClassNamesContext = createContext({});\nvar ClassNamesProvider = function (_a) {\n    var children = _a.children, classes = _a.classes;\n    return (jsx(ClassNamesContext.Provider, { value: classes || {}, children: children }));\n};\nvar useClassNames = function () {\n    var contextClassNames = useContext(ClassNamesContext);\n    return function sandpackClassNames(customClassName, \n    /* eslint-disable @typescript-eslint/no-explicit-any */\n    allClassNames) {\n        if (allClassNames === void 0) { allClassNames = []; }\n        var custom = \"\".concat(THEME_PREFIX, \"-\").concat(customClassName);\n        return joinClassNames.apply(void 0, __spreadArray(__spreadArray([], allClassNames, false), [custom, contextClassNames[custom]], false));\n    };\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar joinClassNames = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return args.filter(Boolean).join(\" \");\n};\n\nvar wrapperClassName$3 = css({\n    all: \"initial\",\n    fontSize: \"$font$size\",\n    fontFamily: \"$font$body\",\n    display: \"block\",\n    boxSizing: \"border-box\",\n    textRendering: \"optimizeLegibility\",\n    WebkitTapHighlightColor: \"transparent\",\n    WebkitFontSmoothing: \"subpixel-antialiased\",\n    variants: {\n        variant: {\n            dark: { colorScheme: \"dark\" },\n            light: { colorScheme: \"light\" },\n        },\n    },\n    \"@media screen and (min-resolution: 2dppx)\": {\n        WebkitFontSmoothing: \"antialiased\",\n        MozOsxFontSmoothing: \"grayscale\",\n    },\n    \"*\": { boxSizing: \"border-box\" },\n    \".sp-wrapper:focus\": { outline: \"0\" },\n});\nvar SandpackThemeContext = React.createContext({\n    theme: defaultLight,\n    id: \"light\",\n    mode: \"light\",\n});\n/**\n * @category Theme\n */\nvar SandpackThemeProvider = function (_a) {\n    var themeFromProps = _a.theme, children = _a.children, className = _a.className, props = __rest(_a, [\"theme\", \"children\", \"className\"]);\n    var _b = React.useState(themeFromProps), prefferedTheme = _b[0], setPreferredTheme = _b[1];\n    var _c = standardizeTheme(prefferedTheme), theme = _c.theme, id = _c.id, mode = _c.mode;\n    var classNames = useClassNames();\n    var themeClassName = React.useMemo(function () {\n        return createTheme(id, standardizeStitchesTheme(theme));\n    }, [theme, id]);\n    React.useEffect(function () {\n        if (themeFromProps !== \"auto\") {\n            setPreferredTheme(themeFromProps);\n            return;\n        }\n        var colorSchemeChange = function (_a) {\n            var matches = _a.matches;\n            setPreferredTheme(matches ? \"dark\" : \"light\");\n        };\n        window\n            .matchMedia(\"(prefers-color-scheme: dark)\")\n            .addEventListener(\"change\", colorSchemeChange);\n        return function () {\n            window\n                .matchMedia(\"(prefers-color-scheme: dark)\")\n                .removeEventListener(\"change\", colorSchemeChange);\n        };\n    }, [themeFromProps]);\n    return (jsx(SandpackThemeContext.Provider, { value: { theme: theme, id: id, mode: mode }, children: jsx(\"div\", __assign({ className: classNames(\"wrapper\", [\n                themeClassName,\n                wrapperClassName$3({ variant: mode }),\n                className,\n            ]) }, props, { children: children })) }));\n};\nvar SandpackThemeConsumer = SandpackThemeContext.Consumer;\n\nvar commonFiles = {\n    \"/styles.css\": {\n        code: \"body {\\n  font-family: sans-serif;\\n  -webkit-font-smoothing: auto;\\n  -moz-font-smoothing: auto;\\n  -moz-osx-font-smoothing: grayscale;\\n  font-smoothing: auto;\\n  text-rendering: optimizeLegibility;\\n  font-smooth: always;\\n  -webkit-tap-highlight-color: transparent;\\n  -webkit-touch-callout: none;\\n}\\n\\nh1 {\\n  font-size: 1.5rem;\\n}\",\n    },\n};\n\n/**\n * @hidden\n */\nvar ASTRO_TEMPLATE = {\n    files: {\n        \"/src/styles.css\": commonFiles[\"/styles.css\"],\n        \"/src/pages/index.astro\": {\n            code: \"---\\nimport \\\"../styles.css\\\";\\nconst data = \\\"world\\\";\\n---\\n\\n<h1>Hello {data}</h1>\\n\\n<style>\\n  h1 {\\n    font-size: 1.5rem;\\n  }\\n</style>\",\n        },\n        \".env\": {\n            code: \"ASTRO_TELEMETRY_DISABLED=\\\"1\\\"\",\n        },\n        \"/package.json\": {\n            code: JSON.stringify({\n                dependencies: {\n                    astro: \"^1.6.12\",\n                    \"esbuild-wasm\": \"^0.15.16\",\n                },\n                scripts: {\n                    dev: \"astro dev\",\n                    start: \"astro dev\",\n                    build: \"astro build\",\n                    preview: \"astro preview\",\n                    astro: \"astro\",\n                },\n            }),\n        },\n    },\n    main: \"/src/pages/index.astro\",\n    environment: \"node\",\n};\n\nvar NEXTJS_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/pages/_app.js\": {\n            code: \"import '../styles.css'\\n\\nexport default function MyApp({ Component, pageProps }) {\\n  return <Component {...pageProps} />\\n}\",\n        }, \"/pages/index.js\": {\n            code: \"export default function Home({ data }) {\\n  return (\\n    <div>\\n      <h1>Hello {data}</h1>\\n    </div>\\n  );\\n}\\n  \\nexport function getServerSideProps() {\\n  return {\\n    props: { data: \\\"world\\\" },\\n  }\\n}\\n\",\n        }, \"/next.config.js\": {\n            code: \"/** @type {import('next').NextConfig} */\\nconst nextConfig = {\\n  reactStrictMode: true,\\n  swcMinify: true,\\n}\\n\\nmodule.exports = nextConfig\\n\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                name: \"my-app\",\n                version: \"0.1.0\",\n                private: true,\n                scripts: {\n                    dev: \"NEXT_TELEMETRY_DISABLED=1 next dev\",\n                    build: \"next build\",\n                    start: \"next start\",\n                    lint: \"next lint\",\n                },\n                dependencies: {\n                    next: \"12.1.6\",\n                    react: \"18.2.0\",\n                    \"react-dom\": \"18.2.0\",\n                    \"@next/swc-wasm-nodejs\": \"12.1.6\",\n                },\n            }),\n        } }),\n    main: \"/pages/index.js\",\n    environment: \"node\",\n};\n\nvar NODE_TEMPLATE = {\n    files: {\n        \"/index.js\": {\n            code: \"const http = require('http');\\n\\nconst hostname = '127.0.0.1';\\nconst port = 3000;\\n\\nconst server = http.createServer((req, res) => {\\n  res.statusCode = 200;\\n  res.setHeader('Content-Type', 'text/html');\\n  res.end('Hello world');\\n});\\n\\nserver.listen(port, hostname, () => {\\n  console.log(`Server running at http://${hostname}:${port}/`);\\n});\",\n        },\n        \"/package.json\": {\n            code: JSON.stringify({\n                dependencies: {},\n                scripts: { start: \"node index.js\" },\n                main: \"index.js\",\n            }),\n        },\n    },\n    main: \"/index.js\",\n    environment: \"node\",\n};\n\nvar VITE_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/index.js\": {\n            code: \"import \\\"./styles.css\\\";\\n\\ndocument.getElementById(\\\"app\\\").innerHTML = `\\n<h1>Hello world</h1>\\n`;\\n\",\n        }, \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <title>Vite App</title>\\n  </head>\\n  <body>\\n    <div id=\\\"app\\\"></div>\\n    <script type=\\\"module\\\" src=\\\"/index.js\\\"></script>\\n  </body>\\n</html>\\n\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                scripts: {\n                    dev: \"vite\",\n                    build: \"vite build\",\n                    preview: \"vite preview\",\n                },\n                devDependencies: {\n                    vite: \"4.1.4\",\n                    \"esbuild-wasm\": \"0.17.12\",\n                },\n            }),\n        } }),\n    main: \"/index.js\",\n    environment: \"node\",\n};\n\nvar VITE_PREACT_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/App.jsx\": {\n            code: \"export default function App() {\\n  const data = \\\"world\\\"\\n\\n  return <h1>Hello {data}</h1>\\n}\\n\",\n        }, \"/index.jsx\": {\n            code: \"import { render } from \\\"preact\\\";\\nimport \\\"./styles.css\\\";\\n\\nimport App from \\\"./App\\\";\\n\\nconst root = document.getElementById(\\\"root\\\");\\nrender(<App />, root);\\n\",\n        }, \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <title>Vite App</title>\\n  </head>\\n  <body>\\n    <div id=\\\"root\\\"></div>\\n    <script type=\\\"module\\\" src=\\\"/index.jsx\\\"></script>\\n  </body>\\n</html>\\n\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                scripts: {\n                    dev: \"vite\",\n                    build: \"vite build\",\n                    preview: \"vite preview\",\n                },\n                dependencies: {\n                    preact: \"^10.16.0\",\n                },\n                devDependencies: {\n                    \"@preact/preset-vite\": \"^2.5.0\",\n                    vite: \"4.1.4\",\n                    \"esbuild-wasm\": \"0.17.12\",\n                },\n            }),\n        }, \"/vite.config.js\": {\n            code: \"import { defineConfig } from \\\"vite\\\";\\nimport preact from '@preact/preset-vite'\\n\\n// https://vitejs.dev/config/\\nexport default defineConfig({\\n  plugins: [preact()],\\n});\\n\",\n        } }),\n    main: \"/App.jsx\",\n    environment: \"node\",\n};\n\nvar VITE_PREACT_TS_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/App.tsx\": {\n            code: \"export default function App() {\\n  const data: string = \\\"world\\\"\\n\\n  return <h1>Hello {data}</h1>\\n}\\n\",\n        }, \"/index.tsx\": {\n            code: \"import { render } from \\\"preact\\\";\\nimport \\\"./styles.css\\\";\\n\\nimport App from \\\"./App\\\";\\n\\nconst root = document.getElementById(\\\"root\\\") as HTMLElement;\\nrender(<App />, root);\\n\",\n        }, \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <title>Vite App</title>\\n  </head>\\n  <body>\\n    <div id=\\\"root\\\"></div>\\n    <script type=\\\"module\\\" src=\\\"/index.tsx\\\"></script>\\n  </body>\\n</html>\\n\",\n        }, \"/tsconfig.json\": {\n            code: JSON.stringify({\n                compilerOptions: {\n                    target: \"ESNext\",\n                    useDefineForClassFields: true,\n                    lib: [\"DOM\", \"DOM.Iterable\", \"ESNext\"],\n                    allowJs: false,\n                    skipLibCheck: true,\n                    esModuleInterop: false,\n                    allowSyntheticDefaultImports: true,\n                    strict: true,\n                    forceConsistentCasingInFileNames: true,\n                    module: \"ESNext\",\n                    moduleResolution: \"Node\",\n                    resolveJsonModule: true,\n                    isolatedModules: true,\n                    noEmit: true,\n                    jsx: \"react-jsx\",\n                    jsxImportSource: \"preact\",\n                },\n                include: [\"src\"],\n                references: [{ path: \"./tsconfig.node.json\" }],\n            }, null, 2),\n        }, \"/tsconfig.node.json\": {\n            code: JSON.stringify({\n                compilerOptions: {\n                    composite: true,\n                    module: \"ESNext\",\n                    moduleResolution: \"Node\",\n                    allowSyntheticDefaultImports: true,\n                },\n                include: [\"vite.config.ts\"],\n            }, null, 2),\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                scripts: {\n                    dev: \"vite\",\n                    build: \"tsc && vite build\",\n                    preview: \"vite preview\",\n                },\n                dependencies: {\n                    preact: \"^10.16.0\",\n                },\n                devDependencies: {\n                    \"@preact/preset-vite\": \"^2.5.0\",\n                    typescript: \"^4.9.5\",\n                    vite: \"4.1.4\",\n                    \"esbuild-wasm\": \"^0.17.12\",\n                },\n            }, null, 2),\n        }, \"/vite-env.d.ts\": {\n            code: '/// <reference types=\"vite/client\" />',\n        }, \"/vite.config.ts\": {\n            code: \"import { defineConfig } from 'vite'\\nimport preact from '@preact/preset-vite'\\n\\n// https://vitejs.dev/config/\\nexport default defineConfig({\\n  plugins: [preact()],\\n})\\n\",\n        } }),\n    main: \"/App.tsx\",\n    environment: \"node\",\n};\n\nvar VITE_REACT_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/App.jsx\": {\n            code: \"export default function App() {\\n  const data = \\\"world\\\"\\n\\n  return <h1>Hello {data}</h1>\\n}\\n\",\n        }, \"/index.jsx\": {\n            code: \"import { StrictMode } from \\\"react\\\";\\nimport { createRoot } from \\\"react-dom/client\\\";\\nimport \\\"./styles.css\\\";\\n\\nimport App from \\\"./App\\\";\\n\\nconst root = createRoot(document.getElementById(\\\"root\\\"));\\nroot.render(\\n  <StrictMode>\\n    <App />\\n  </StrictMode>\\n);\",\n        }, \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <title>Vite App</title>\\n  </head>\\n  <body>\\n    <div id=\\\"root\\\"></div>\\n    <script type=\\\"module\\\" src=\\\"/index.jsx\\\"></script>\\n  </body>\\n</html>\\n\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                scripts: {\n                    dev: \"vite\",\n                    build: \"vite build\",\n                    preview: \"vite preview\",\n                },\n                dependencies: {\n                    react: \"^18.2.0\",\n                    \"react-dom\": \"^18.2.0\",\n                },\n                devDependencies: {\n                    \"@vitejs/plugin-react\": \"3.1.0\",\n                    vite: \"4.1.4\",\n                    \"esbuild-wasm\": \"0.17.12\",\n                },\n            }),\n        }, \"/vite.config.js\": {\n            code: \"import { defineConfig } from \\\"vite\\\";\\nimport react from \\\"@vitejs/plugin-react\\\";\\n\\n// https://vitejs.dev/config/\\nexport default defineConfig({\\n  plugins: [react()],\\n});\\n\",\n        } }),\n    main: \"/App.jsx\",\n    environment: \"node\",\n};\n\nvar VITE_REACT_TS_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/App.tsx\": {\n            code: \"export default function App() {\\n  const data: string = \\\"world\\\"\\n\\n  return <h1>Hello {data}</h1>\\n}\\n\",\n        }, \"/index.tsx\": {\n            code: \"import { StrictMode } from \\\"react\\\";\\nimport { createRoot } from \\\"react-dom/client\\\";\\nimport \\\"./styles.css\\\";\\n\\nimport App from \\\"./App\\\";\\nimport React from \\\"react\\\";\\n\\nconst root = createRoot(document.getElementById(\\\"root\\\") as HTMLElement);\\nroot.render(\\n  <StrictMode>\\n    <App />\\n  </StrictMode>\\n);\\n\",\n        }, \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <title>Vite App</title>\\n  </head>\\n  <body>\\n    <div id=\\\"root\\\"></div>\\n    <script type=\\\"module\\\" src=\\\"/index.tsx\\\"></script>\\n  </body>\\n</html>\\n\",\n        }, \"/tsconfig.json\": {\n            code: JSON.stringify({\n                compilerOptions: {\n                    target: \"ESNext\",\n                    useDefineForClassFields: true,\n                    lib: [\"DOM\", \"DOM.Iterable\", \"ESNext\"],\n                    allowJs: false,\n                    skipLibCheck: true,\n                    esModuleInterop: false,\n                    allowSyntheticDefaultImports: true,\n                    strict: true,\n                    forceConsistentCasingInFileNames: true,\n                    module: \"ESNext\",\n                    moduleResolution: \"Node\",\n                    resolveJsonModule: true,\n                    isolatedModules: true,\n                    noEmit: true,\n                    jsx: \"react-jsx\",\n                },\n                include: [\"src\"],\n                references: [{ path: \"./tsconfig.node.json\" }],\n            }, null, 2),\n        }, \"/tsconfig.node.json\": {\n            code: JSON.stringify({\n                compilerOptions: {\n                    composite: true,\n                    module: \"ESNext\",\n                    moduleResolution: \"Node\",\n                    allowSyntheticDefaultImports: true,\n                },\n                include: [\"vite.config.ts\"],\n            }, null, 2),\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                scripts: {\n                    dev: \"vite\",\n                    build: \"tsc && vite build\",\n                    preview: \"vite preview\",\n                },\n                dependencies: {\n                    react: \"^18.2.0\",\n                    \"react-dom\": \"^18.2.0\",\n                },\n                devDependencies: {\n                    \"@types/react\": \"^18.0.28\",\n                    \"@types/react-dom\": \"^18.0.11\",\n                    \"@vitejs/plugin-react\": \"^3.1.0\",\n                    typescript: \"^4.9.5\",\n                    vite: \"4.1.4\",\n                    \"esbuild-wasm\": \"^0.17.12\",\n                },\n            }, null, 2),\n        }, \"/vite-env.d.ts\": {\n            code: '/// <reference types=\"vite/client\" />',\n        }, \"/vite.config.ts\": {\n            code: \"import { defineConfig } from 'vite'\\nimport react from '@vitejs/plugin-react'\\n\\n// https://vitejs.dev/config/\\nexport default defineConfig({\\n  plugins: [react()],\\n})\\n\",\n        } }),\n    main: \"/App.tsx\",\n    environment: \"node\",\n};\n\nvar VITE_SVELTE_TEMPLATE = {\n    files: {\n        \"/src/styles.css\": commonFiles[\"/styles.css\"],\n        \"/src/App.svelte\": {\n            code: \"<script>\\nconst data = \\\"world\\\";\\n</script>\\n\\n<h1>Hello {data}</h1>\\n\\n<style>\\nh1 {\\n  font-size: 1.5rem;\\n}\\n</style>\",\n        },\n        \"/src/main.js\": {\n            code: \"import App from './App.svelte'\\nimport \\\"./styles.css\\\"\\n\\nconst app = new App({\\n  target: document.getElementById('app'),\\n})\\n\\nexport default app\",\n        },\n        \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <title>Vite App</title>\\n  </head>\\n  <body>\\n    <div id=\\\"app\\\"></div>\\n    <script type=\\\"module\\\" src=\\\"/src/main.js\\\"></script>\\n  </body>\\n</html>\\n\",\n        },\n        \"/vite.config.js\": {\n            code: \"import { defineConfig } from 'vite'\\nimport { svelte } from '@sveltejs/vite-plugin-svelte'\\n\\n// https://vitejs.dev/config/\\nexport default defineConfig({\\n  plugins: [svelte()],\\n})\",\n        },\n        \"/package.json\": {\n            code: JSON.stringify({\n                type: \"module\",\n                scripts: {\n                    dev: \"vite\",\n                },\n                devDependencies: {\n                    \"@sveltejs/vite-plugin-svelte\": \"^2.0.2\",\n                    svelte: \"^3.55.1\",\n                    vite: \"4.0.4\",\n                    \"esbuild-wasm\": \"^0.17.12\",\n                },\n            }),\n        },\n    },\n    main: \"/src/App.svelte\",\n    environment: \"node\",\n};\n\nvar VITE_SVELTE_TS_TEMPLATE = {\n    files: {\n        \"/src/styles.css\": commonFiles[\"/styles.css\"],\n        \"/src/App.svelte\": {\n            code: \"<script lang=\\\"ts\\\">\\nconst data: string = \\\"world\\\";\\n</script>\\n\\n<h1>Hello {data}</h1>\\n\\n<style>\\nh1 {\\n  font-size: 1.5rem;\\n}\\n</style>\",\n        },\n        \"/src/main.ts\": {\n            code: \"import App from './App.svelte'\\nimport \\\"./styles.css\\\"\\n\\nconst app = new App({\\n  target: document.getElementById('app'),\\n})\\n\\nexport default app\",\n        },\n        \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <title>Vite App</title>\\n  </head>\\n  <body>\\n    <div id=\\\"app\\\"></div>\\n    <script type=\\\"module\\\" src=\\\"/src/main.ts\\\"></script>\\n  </body>\\n</html>\\n\",\n        },\n        \"/vite-env.d.ts\": {\n            code: \"/// <reference types=\\\"svelte\\\" />\\n/// <reference types=\\\"vite/client\\\" />\",\n        },\n        \"svelte.config.js\": {\n            code: \"import { vitePreprocess } from '@sveltejs/vite-plugin-svelte'\\n\\nexport default {\\n  // Consult https://svelte.dev/docs#compile-time-svelte-preprocess\\n  // for more information about preprocessors\\n  preprocess: vitePreprocess(),\\n}\\n\",\n        },\n        \"/vite.config.ts\": {\n            code: \"import { defineConfig } from 'vite'\\nimport { svelte } from '@sveltejs/vite-plugin-svelte'\\n\\n// https://vitejs.dev/config/\\nexport default defineConfig({\\n  plugins: [svelte()],\\n})\",\n        },\n        \"tsconfig.json\": {\n            code: JSON.stringify({\n                extends: \"@tsconfig/svelte/tsconfig.json\",\n                compilerOptions: {\n                    target: \"ESNext\",\n                    useDefineForClassFields: true,\n                    module: \"ESNext\",\n                    resolveJsonModule: true,\n                    allowJs: true,\n                    checkJs: true,\n                    isolatedModules: true,\n                },\n                include: [\n                    \"src/**/*.d.ts\",\n                    \"src/**/*.ts\",\n                    \"src/**/*.js\",\n                    \"src/**/*.svelte\",\n                ],\n                references: [{ path: \"./tsconfig.node.json\" }],\n            }, null, 2),\n        },\n        \"tsconfig.node.json\": {\n            code: JSON.stringify({\n                compilerOptions: {\n                    composite: true,\n                    module: \"ESNext\",\n                    moduleResolution: \"Node\",\n                },\n                include: [\"vite.config.ts\"],\n            }, null, 2),\n        },\n        \"/package.json\": {\n            code: JSON.stringify({\n                type: \"module\",\n                scripts: {\n                    dev: \"vite\",\n                },\n                devDependencies: {\n                    \"@sveltejs/vite-plugin-svelte\": \"^2.0.2\",\n                    \"@tsconfig/svelte\": \"^3.0.0\",\n                    svelte: \"^3.55.1\",\n                    \"svelte-check\": \"^2.10.3\",\n                    tslib: \"^2.5.0\",\n                    vite: \"4.1.4\",\n                    \"esbuild-wasm\": \"^0.17.12\",\n                },\n            }, null, 2),\n        },\n    },\n    main: \"/src/App.svelte\",\n    environment: \"node\",\n};\n\nvar VITE_VUE_TEMPLATE = {\n    files: {\n        \"/src/styles.css\": commonFiles[\"/styles.css\"],\n        \"/src/App.vue\": {\n            code: \"<script setup>\\nimport { ref } from \\\"vue\\\";\\n\\nconst data = ref(\\\"world\\\");\\n</script>\\n\\n<template>\\n  <h1>Hello {{ data }}</h1>\\n</template>\\n\\n<style>\\nh1 {\\n  font-size: 1.5rem;\\n}\\n</style>\",\n        },\n        \"/src/main.js\": {\n            code: \"import { createApp } from 'vue'\\nimport App from './App.vue'\\nimport \\\"./styles.css\\\"\\n            \\ncreateApp(App).mount('#app')            \\n\",\n        },\n        \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <title>Vite App</title>\\n  </head>\\n  <body>\\n    <div id=\\\"app\\\"></div>\\n    <script type=\\\"module\\\" src=\\\"/src/main.js\\\"></script>\\n  </body>\\n</html>\\n\",\n        },\n        \"/vite.config.js\": {\n            code: \"import { defineConfig } from 'vite'\\nimport vue from '@vitejs/plugin-vue'\\n\\n// https://vitejs.dev/config/\\nexport default defineConfig({\\n  plugins: [vue()]\\n})\\n\",\n        },\n        \"/package.json\": {\n            code: JSON.stringify({\n                scripts: {\n                    dev: \"vite\",\n                    build: \"vite build\",\n                    preview: \"vite preview\",\n                },\n                dependencies: {\n                    vue: \"^3.2.45\",\n                },\n                devDependencies: {\n                    \"@vitejs/plugin-vue\": \"3.2.0\",\n                    vite: \"4.1.4\",\n                    \"esbuild-wasm\": \"0.17.12\",\n                },\n            }),\n        },\n    },\n    main: \"/src/App.vue\",\n    environment: \"node\",\n};\n\nvar VITE_VUE_TS_TEMPLATE = {\n    files: {\n        \"/src/styles.css\": commonFiles[\"/styles.css\"],\n        \"/src/App.vue\": {\n            code: \"<script setup lang=\\\"ts\\\">\\nimport { ref } from \\\"vue\\\";\\n\\nconst data = ref<string>(\\\"world\\\");\\n</script>\\n\\n<template>\\n  <h1>Hello {{ data }}</h1>\\n</template>\\n\\n<style>\\nh1 {\\n  font-size: 1.5rem;\\n}\\n</style>\",\n        },\n        \"/src/main.ts\": {\n            code: \"import { createApp } from 'vue'\\nimport App from './App.vue'\\nimport \\\"./styles.css\\\"\\n\\ncreateApp(App).mount('#app')\\n\",\n        },\n        \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <title>Vite App</title>\\n  </head>\\n  <body>\\n    <div id=\\\"app\\\"></div>\\n    <script type=\\\"module\\\" src=\\\"/src/main.ts\\\"></script>\\n  </body>\\n</html>\\n\",\n        },\n        \"/vite-env.d.ts\": {\n            code: '/// <reference types=\"vite/client\" />',\n        },\n        \"/vite.config.ts\": {\n            code: \"import { defineConfig } from 'vite'\\nimport vue from '@vitejs/plugin-vue'\\n\\n// https://vitejs.dev/config/\\nexport default defineConfig({\\n  plugins: [vue()]\\n})\\n\",\n        },\n        \"tsconfig.json\": {\n            code: JSON.stringify({\n                compilerOptions: {\n                    target: \"ESNext\",\n                    useDefineForClassFields: true,\n                    module: \"ESNext\",\n                    moduleResolution: \"Node\",\n                    strict: true,\n                    jsx: \"preserve\",\n                    resolveJsonModule: true,\n                    isolatedModules: true,\n                    esModuleInterop: true,\n                    lib: [\"ESNext\", \"DOM\"],\n                    skipLibCheck: true,\n                    noEmit: true,\n                },\n                include: [\n                    \"src/**/*.ts\",\n                    \"src/**/*.d.ts\",\n                    \"src/**/*.tsx\",\n                    \"src/**/*.vue\",\n                ],\n                references: [{ path: \"./tsconfig.node.json\" }],\n            }, null, 2),\n        },\n        \"tsconfig.node.json\": {\n            code: JSON.stringify({\n                compilerOptions: {\n                    composite: true,\n                    module: \"ESNext\",\n                    moduleResolution: \"Node\",\n                    allowSyntheticDefaultImports: true,\n                },\n                include: [\"vite.config.ts\"],\n            }, null, 2),\n        },\n        \"/package.json\": {\n            code: JSON.stringify({\n                scripts: {\n                    dev: \"vite\",\n                    build: \"tsc && vite build\",\n                    preview: \"vite preview\",\n                },\n                dependencies: {\n                    vue: \"^3.2.47\",\n                },\n                devDependencies: {\n                    \"@vitejs/plugin-vue\": \"^4.0.0\",\n                    vite: \"4.1.4\",\n                    \"vue-tsc\": \"^1.2.0\",\n                    typescript: \"^4.9.5\",\n                    \"esbuild-wasm\": \"^0.17.12\",\n                },\n            }, null, 2),\n        },\n    },\n    main: \"/src/App.vue\",\n    environment: \"node\",\n};\n\nvar ANGULAR_TEMPLATE = {\n    files: {\n        \"/src/app/app.component.css\": commonFiles[\"/styles.css\"],\n        \"/src/app/app.component.html\": {\n            code: \"<div>\\n<h1>{{ helloWorld }}</h1>\\n</div>     \\n\",\n        },\n        \"/src/app/app.component.ts\": {\n            code: \"import { Component } from \\\"@angular/core\\\";\\n\\n@Component({\\n  selector: \\\"app-root\\\",\\n  templateUrl: \\\"./app.component.html\\\",\\n  styleUrls: [\\\"./app.component.css\\\"]\\n})\\nexport class AppComponent {\\n  helloWorld = \\\"Hello world\\\";\\n}           \\n\",\n        },\n        \"/src/app/app.module.ts\": {\n            code: \"import { BrowserModule } from \\\"@angular/platform-browser\\\";\\nimport { NgModule } from \\\"@angular/core\\\";\\n      \\nimport { AppComponent } from \\\"./app.component\\\";\\n      \\n@NgModule({\\n  declarations: [AppComponent],\\n  imports: [BrowserModule],\\n  providers: [],\\n  bootstrap: [AppComponent]\\n})\\nexport class AppModule {}       \\n\",\n        },\n        \"/src/index.html\": {\n            code: \"<!doctype html>\\n<html lang=\\\"en\\\">\\n      \\n<head>\\n  <meta charset=\\\"utf-8\\\">\\n  <title>Angular</title>\\n  <base href=\\\"/\\\">\\n      \\n  <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n  <link rel=\\\"icon\\\" type=\\\"image/x-icon\\\" href=\\\"favicon.ico\\\">\\n</head>\\n      \\n<body>\\n   <app-root></app-root>\\n</body>\\n      \\n</html>\\n\",\n        },\n        \"/src/main.ts\": {\n            code: \"import { enableProdMode } from \\\"@angular/core\\\";\\nimport { platformBrowserDynamic } from \\\"@angular/platform-browser-dynamic\\\";\\n      \\nimport { AppModule } from \\\"./app/app.module\\\";      \\n\\nplatformBrowserDynamic()\\n  .bootstrapModule(AppModule)\\n  .catch(err => console.log(err));\\n      \\n\",\n        },\n        \"/src/polyfills.ts\": {\n            code: \"import \\\"core-js/proposals/reflect-metadata\\\";   \\n      import \\\"zone.js/dist/zone\\\";\\n\",\n        },\n        \"/package.json\": {\n            code: JSON.stringify({\n                dependencies: {\n                    \"@angular/core\": \"^11.2.0\",\n                    \"@angular/platform-browser\": \"^11.2.0\",\n                    \"@angular/platform-browser-dynamic\": \"^11.2.0\",\n                    \"@angular/common\": \"^11.2.0\",\n                    \"@angular/compiler\": \"^11.2.0\",\n                    \"zone.js\": \"0.11.3\",\n                    \"core-js\": \"3.8.3\",\n                    rxjs: \"6.6.3\",\n                },\n                main: \"/src/main.ts\",\n            }),\n        },\n    },\n    main: \"/src/app/app.component.ts\",\n    environment: \"angular-cli\",\n};\n\nvar REACT_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/App.js\": {\n            code: \"export default function App() {\\n  return <h1>Hello world</h1>\\n}\\n\",\n        }, \"/index.js\": {\n            code: \"import React, { StrictMode } from \\\"react\\\";\\nimport { createRoot } from \\\"react-dom/client\\\";\\nimport \\\"./styles.css\\\";\\n\\nimport App from \\\"./App\\\";\\n\\nconst root = createRoot(document.getElementById(\\\"root\\\"));\\nroot.render(\\n  <StrictMode>\\n    <App />\\n  </StrictMode>\\n);\",\n        }, \"/public/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n    <title>Document</title>\\n  </head>\\n  <body>\\n    <div id=\\\"root\\\"></div>\\n  </body>\\n</html>\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                dependencies: {\n                    react: \"^18.0.0\",\n                    \"react-dom\": \"^18.0.0\",\n                    \"react-scripts\": \"^5.0.0\",\n                },\n                main: \"/index.js\",\n            }),\n        } }),\n    main: \"/App.js\",\n    environment: \"create-react-app\",\n};\n\nvar REACT_TYPESCRIPT_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"tsconfig.json\": {\n            code: \"{\\n  \\\"include\\\": [\\n    \\\"./**/*\\\"\\n  ],\\n  \\\"compilerOptions\\\": {\\n    \\\"strict\\\": true,\\n    \\\"esModuleInterop\\\": true,\\n    \\\"lib\\\": [ \\\"dom\\\", \\\"es2015\\\" ],\\n    \\\"jsx\\\": \\\"react-jsx\\\"\\n  }\\n}\",\n        }, \"/App.tsx\": {\n            code: \"export default function App(): JSX.Element {\\n  return <h1>Hello world</h1>\\n}\\n\",\n        }, \"/index.tsx\": {\n            code: \"import React, { StrictMode } from \\\"react\\\";\\nimport { createRoot } from \\\"react-dom/client\\\";\\nimport \\\"./styles.css\\\";\\n\\nimport App from \\\"./App\\\";\\n\\nconst root = createRoot(document.getElementById(\\\"root\\\"));\\nroot.render(\\n  <StrictMode>\\n    <App />\\n  </StrictMode>\\n);\",\n        }, \"/public/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n    <title>Document</title>\\n  </head>\\n  <body>\\n    <div id=\\\"root\\\"></div>\\n  </body>\\n</html>\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                dependencies: {\n                    react: \"^18.0.0\",\n                    \"react-dom\": \"^18.0.0\",\n                    \"react-scripts\": \"^4.0.0\",\n                },\n                devDependencies: {\n                    \"@types/react\": \"^18.0.0\",\n                    \"@types/react-dom\": \"^18.0.0\",\n                    typescript: \"^4.0.0\",\n                },\n                main: \"/index.tsx\",\n            }),\n        } }),\n    main: \"/App.tsx\",\n    environment: \"create-react-app\",\n};\n\nvar SOLID_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/App.tsx\": {\n            code: \"import { Component } from \\\"solid-js\\\";\\n\\nconst App: Component = () => {\\n  return <h1>Hello world</h1>\\n};\\n\\nexport default App;\",\n        }, \"/index.tsx\": {\n            code: \"import { render } from \\\"solid-js/web\\\";\\nimport App from \\\"./App\\\";\\n\\nimport \\\"./styles.css\\\";\\n\\nrender(() => <App />, document.getElementById(\\\"app\\\"));\",\n        }, \"/index.html\": {\n            code: \"<html>\\n<head>\\n  <title>Parcel Sandbox</title>\\n  <meta charset=\\\"UTF-8\\\" />\\n</head>\\n<body>\\n  <div id=\\\"app\\\"></div>\\n  <script src=\\\"src/index.tsx\\\"></script>\\n</body>\\n</html>\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                dependencies: {\n                    \"solid-js\": \"1.3.15\",\n                },\n                main: \"/index.tsx\",\n            }),\n        } }),\n    main: \"/App.tsx\",\n    environment: \"solid\",\n};\n\nvar SVELTE_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/App.svelte\": {\n            code: \"<style>\\n  h1 {\\n    font-size: 1.5rem;\\n  }\\n</style>\\n\\n<script>\\n  let name = 'world';\\n</script>\\n\\n<main>\\n  <h1>Hello {name}</h1>\\n</main>\",\n        }, \"/index.js\": {\n            code: \"import App from \\\"./App.svelte\\\";\\nimport \\\"./styles.css\\\";\\n\\nconst app = new App({\\n  target: document.body\\n});\\n\\nexport default app;\\n      \",\n        }, \"/public/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html>\\n  <head>\\n    <meta charset=\\\"utf8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width\\\" />\\n\\n    <title>Svelte app</title>\\n\\n    <link rel=\\\"stylesheet\\\" href=\\\"public/bundle.css\\\" />\\n  </head>\\n\\n  <body>\\n    <script src=\\\"bundle.js\\\"></script>\\n  </body>\\n</html>\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                dependencies: {\n                    svelte: \"^3.0.0\",\n                },\n                main: \"/index.js\",\n            }),\n        } }),\n    main: \"/App.svelte\",\n    environment: \"svelte\",\n};\n\nvar TEST_TYPESCRIPT_TEMPLATE = {\n    files: {\n        \"tsconfig.json\": {\n            code: \"{\\n  \\\"include\\\": [\\n    \\\"./**/*\\\"\\n  ],\\n  \\\"compilerOptions\\\": {\\n    \\\"strict\\\": true,\\n    \\\"esModuleInterop\\\": true,\\n    \\\"lib\\\": [ \\\"dom\\\", \\\"es2015\\\" ],\\n    \\\"jsx\\\": \\\"react-jsx\\\"\\n  }\\n}\",\n        },\n        \"/add.ts\": {\n            code: \"export const add = (a: number, b: number): number => a + b;\",\n        },\n        \"/add.test.ts\": {\n            code: \"import { add } from './add';\\n\\ndescribe('add', () => {\\n  test('Commutative Law of Addition', () => {\\n    expect(add(1, 2)).toBe(add(2, 1));\\n  });\\n});\",\n        },\n        \"package.json\": {\n            code: JSON.stringify({\n                dependencies: {},\n                devDependencies: { typescript: \"^4.0.0\" },\n                main: \"/add.ts\",\n            }),\n        },\n    },\n    main: \"/add.test.ts\",\n    environment: \"parcel\",\n    mode: \"tests\",\n};\n\nvar VANILLA_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/index.js\": {\n            code: \"import \\\"./styles.css\\\";\\n\\ndocument.getElementById(\\\"app\\\").innerHTML = `\\n<h1>Hello world</h1>\\n`;\\n\",\n        }, \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html>\\n\\n<head>\\n  <title>Parcel Sandbox</title>\\n  <meta charset=\\\"UTF-8\\\" />\\n</head>\\n\\n<body>\\n  <div id=\\\"app\\\"></div>\\n\\n  <script src=\\\"index.js\\\">\\n  </script>\\n</body>\\n\\n</html>\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                dependencies: {},\n                main: \"/index.js\",\n            }),\n        } }),\n    main: \"/index.js\",\n    environment: \"parcel\",\n};\n\nvar VANILLA_TYPESCRIPT_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"tsconfig.json\": {\n            code: \"{\\n  \\\"compilerOptions\\\": {\\n    \\\"strict\\\": true,\\n    \\\"module\\\": \\\"commonjs\\\",\\n    \\\"jsx\\\": \\\"preserve\\\",\\n    \\\"esModuleInterop\\\": true,\\n    \\\"sourceMap\\\": true,\\n    \\\"allowJs\\\": true,\\n    \\\"lib\\\": [\\n      \\\"es6\\\",\\n      \\\"dom\\\"\\n    ],\\n    \\\"rootDir\\\": \\\"src\\\",\\n    \\\"moduleResolution\\\": \\\"node\\\"\\n  }\\n}\",\n        }, \"/index.ts\": {\n            code: \"import \\\"./styles.css\\\";\\n\\ndocument.getElementById(\\\"app\\\").innerHTML = `\\n<h1>Hello world</h1>\\n`;\\n\",\n        }, \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html>\\n\\n<head>\\n  <title>Parcel Sandbox</title>\\n  <meta charset=\\\"UTF-8\\\" />\\n</head>\\n\\n<body>\\n  <div id=\\\"app\\\"></div>\\n\\n  <script src=\\\"index.ts\\\">\\n  </script>\\n</body>\\n\\n</html>\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                dependencies: {},\n                devDependencies: {\n                    typescript: \"^4.0.0\",\n                },\n                main: \"/index.ts\",\n            }),\n        } }),\n    main: \"/index.ts\",\n    environment: \"parcel\",\n};\n\nvar VUE_TEMPLATE = {\n    files: {\n        \"/src/styles.css\": commonFiles[\"/styles.css\"],\n        \"/src/App.vue\": {\n            code: \"<template>\\n  <h1>Hello {{ msg }}</h1>\\n</template>\\n\\n<script setup>\\nimport { ref } from 'vue';\\nconst msg = ref('world');\\n</script>\",\n        },\n        \"/src/main.js\": {\n            code: \"import { createApp } from 'vue'\\nimport App from './App.vue'\\nimport \\\"./styles.css\\\";\\n\\ncreateApp(App).mount('#app')\\n\",\n        },\n        \"/public/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"utf-8\\\" />\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1.0\\\" />\\n    <title>codesandbox</title>\\n  </head>\\n  <body>\\n    <noscript>\\n      <strong\\n        >We're sorry but codesandbox doesn't work properly without JavaScript\\n        enabled. Please enable it to continue.</strong\\n      >\\n    </noscript>\\n    <div id=\\\"app\\\"></div>\\n    <!-- built files will be auto injected -->\\n  </body>\\n</html>\\n\",\n        },\n        \"/package.json\": {\n            code: JSON.stringify({\n                name: \"vue3\",\n                version: \"0.1.0\",\n                private: true,\n                main: \"/src/main.js\",\n                scripts: {\n                    serve: \"vue-cli-service serve\",\n                    build: \"vue-cli-service build\",\n                },\n                dependencies: {\n                    \"core-js\": \"^3.26.1\",\n                    vue: \"^3.2.45\",\n                },\n                devDependencies: {\n                    \"@vue/cli-plugin-babel\": \"^5.0.8\",\n                    \"@vue/cli-service\": \"^5.0.8\",\n                },\n            }),\n        },\n    },\n    main: \"/src/App.vue\",\n    environment: \"vue-cli\",\n};\n\nvar VUE_TS_TEMPLATE = {\n    files: {\n        \"/src/styles.css\": commonFiles[\"/styles.css\"],\n        \"/src/App.vue\": {\n            code: \"<template>\\n  <h1>Hello {{ msg }}</h1>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport { ref } from 'vue';\\nconst msg = ref<string>('world');\\n</script>\",\n        },\n        \"/src/main.ts\": {\n            code: \"import { createApp } from 'vue'\\nimport App from './App.vue'\\nimport \\\"./styles.css\\\";\\n\\ncreateApp(App).mount('#app')\\n\",\n        },\n        \"/src/shims-vue.d.ts\": \"/* eslint-disable */\\ndeclare module \\\"*.vue\\\" {\\n  import type { DefineComponent } from \\\"vue\\\";\\n  const component: DefineComponent<{}, {}, any>;\\n  export default component;\\n}\",\n        \"/public/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"utf-8\\\" />\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1.0\\\" />\\n    <title>codesandbox</title>\\n  </head>\\n  <body>\\n    <noscript>\\n      <strong\\n        >We're sorry but codesandbox doesn't work properly without JavaScript\\n        enabled. Please enable it to continue.</strong\\n      >\\n    </noscript>\\n    <div id=\\\"app\\\"></div>\\n    <!-- built files will be auto injected -->\\n  </body>\\n</html>\\n\",\n        },\n        \"/package.json\": {\n            code: JSON.stringify({\n                name: \"vue3-ts\",\n                version: \"0.1.0\",\n                private: true,\n                main: \"/src/main.ts\",\n                scripts: {\n                    serve: \"vue-cli-service serve\",\n                    build: \"vue-cli-service build\",\n                },\n                dependencies: {\n                    \"core-js\": \"^3.26.1\",\n                    vue: \"^3.2.45\",\n                },\n                devDependencies: {\n                    \"@vue/cli-plugin-babel\": \"^5.0.8\",\n                    \"@vue/cli-plugin-typescript\": \"^5.0.8\",\n                    \"@vue/cli-service\": \"^5.0.8\",\n                    typescript: \"^4.9.3\",\n                },\n            }),\n        },\n        \"/tsconfig.json\": {\n            code: JSON.stringify({\n                compilerOptions: {\n                    target: \"esnext\",\n                    module: \"esnext\",\n                    strict: true,\n                    jsx: \"preserve\",\n                    moduleResolution: \"node\",\n                    experimentalDecorators: true,\n                    skipLibCheck: true,\n                    esModuleInterop: true,\n                    allowSyntheticDefaultImports: true,\n                    forceConsistentCasingInFileNames: true,\n                    useDefineForClassFields: true,\n                    sourceMap: false,\n                    baseUrl: \".\",\n                    types: [\"webpack-env\"],\n                    paths: {\n                        \"@/*\": [\"src/*\"],\n                    },\n                    lib: [\"esnext\", \"dom\", \"dom.iterable\", \"scripthost\"],\n                },\n                include: [\n                    \"src/**/*.ts\",\n                    \"src/**/*.tsx\",\n                    \"src/**/*.vue\",\n                    \"tests/**/*.ts\",\n                    \"tests/**/*.tsx\",\n                ],\n                exclude: [\"node_modules\"],\n            }),\n        },\n    },\n    main: \"/src/App.vue\",\n    environment: \"vue-cli\",\n};\n\nvar STATIC_TEMPLATE = {\n    files: __assign(__assign({}, commonFiles), { \"/index.html\": {\n            code: \"<!DOCTYPE html>\\n<html>\\n\\n<head>\\n  <title>Parcel Sandbox</title>\\n  <meta charset=\\\"UTF-8\\\" />\\n  <link rel=\\\"stylesheet\\\" href=\\\"/styles.css\\\" />\\n</head>\\n\\n<body>\\n  <h1>Hello world</h1>\\n</body>\\n\\n</html>\",\n        }, \"/package.json\": {\n            code: JSON.stringify({\n                dependencies: {},\n                main: \"/index.html\",\n            }),\n        } }),\n    main: \"/index.html\",\n    environment: \"static\",\n};\n\nvar SANDBOX_TEMPLATES = {\n    static: STATIC_TEMPLATE,\n    angular: ANGULAR_TEMPLATE,\n    react: REACT_TEMPLATE,\n    \"react-ts\": REACT_TYPESCRIPT_TEMPLATE,\n    solid: SOLID_TEMPLATE,\n    svelte: SVELTE_TEMPLATE,\n    \"test-ts\": TEST_TYPESCRIPT_TEMPLATE,\n    \"vanilla-ts\": VANILLA_TYPESCRIPT_TEMPLATE,\n    vanilla: VANILLA_TEMPLATE,\n    vue: VUE_TEMPLATE,\n    \"vue-ts\": VUE_TS_TEMPLATE,\n    node: NODE_TEMPLATE,\n    nextjs: NEXTJS_TEMPLATE,\n    vite: VITE_TEMPLATE,\n    \"vite-react\": VITE_REACT_TEMPLATE,\n    \"vite-react-ts\": VITE_REACT_TS_TEMPLATE,\n    \"vite-preact\": VITE_PREACT_TEMPLATE,\n    \"vite-preact-ts\": VITE_PREACT_TS_TEMPLATE,\n    \"vite-vue\": VITE_VUE_TEMPLATE,\n    \"vite-vue-ts\": VITE_VUE_TS_TEMPLATE,\n    \"vite-svelte\": VITE_SVELTE_TEMPLATE,\n    \"vite-svelte-ts\": VITE_SVELTE_TS_TEMPLATE,\n    astro: ASTRO_TEMPLATE,\n};\n\n/**\n * Creates a standard sandpack state given the setup,\n * options, and files props. Using this function is\n * the reliable way to ensure a consistent and predictable\n * sandpack-content throughout application\n */\nvar getSandpackStateFromProps = function (props) {\n    var _a, _b, _c, _d, _e, _f;\n    var normalizedFilesPath = normalizePath(props.files);\n    // Merge predefined template with custom setup\n    var projectSetup = combineTemplateFilesToSetup({\n        template: props.template,\n        customSetup: props.customSetup,\n        files: normalizedFilesPath,\n    });\n    // visibleFiles and activeFile override the setup flags\n    var visibleFiles = normalizePath((_b = (_a = props.options) === null || _a === void 0 ? void 0 : _a.visibleFiles) !== null && _b !== void 0 ? _b : []);\n    var activeFile = ((_c = props.options) === null || _c === void 0 ? void 0 : _c.activeFile)\n        ? resolveFile((_d = props.options) === null || _d === void 0 ? void 0 : _d.activeFile, projectSetup.files)\n        : undefined;\n    if (visibleFiles.length === 0 && normalizedFilesPath) {\n        // extract open and active files from the custom input files\n        Object.keys(normalizedFilesPath).forEach(function (filePath) {\n            var file = normalizedFilesPath[filePath];\n            if (typeof file === \"string\") {\n                visibleFiles.push(filePath);\n                return;\n            }\n            if (!activeFile && file.active) {\n                activeFile = filePath;\n                if (file.hidden === true) {\n                    // active file needs to be available even if someone sets it as hidden by accident\n                    visibleFiles.push(filePath);\n                }\n            }\n            if (!file.hidden) {\n                visibleFiles.push(filePath);\n            }\n        });\n    }\n    if (visibleFiles.length === 0) {\n        // If no files are received, use the project setup / template\n        visibleFiles = [projectSetup.main];\n    }\n    // Make sure it resolves the entry file\n    if (projectSetup.entry && !projectSetup.files[projectSetup.entry]) {\n        /* eslint-disable */\n        // @ts-ignore\n        projectSetup.entry = resolveFile(projectSetup.entry, projectSetup.files);\n        /* eslint-enable */\n    }\n    if (!activeFile && projectSetup.main) {\n        activeFile = projectSetup.main;\n    }\n    // If no activeFile is specified, use the first open file\n    if (!activeFile || !projectSetup.files[activeFile]) {\n        activeFile = visibleFiles[0];\n    }\n    // If for whatever reason the active path was not set as open, set it\n    if (!visibleFiles.includes(activeFile)) {\n        visibleFiles.push(activeFile);\n    }\n    var files = addPackageJSONIfNeeded(projectSetup.files, (_e = projectSetup.dependencies) !== null && _e !== void 0 ? _e : {}, (_f = projectSetup.devDependencies) !== null && _f !== void 0 ? _f : {}, projectSetup.entry);\n    var existOpenPath = visibleFiles.filter(function (path) { return files[path]; });\n    return {\n        visibleFiles: existOpenPath,\n        /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n        activeFile: activeFile,\n        files: files,\n        environment: projectSetup.environment,\n        shouldUpdatePreview: true,\n    };\n};\n/**\n * Given a file tree and a file, it uses a couple of rules\n * to tweak the filename to match with one of the inside of file tree\n *\n * - Adds the leading slash;\n * - Tries to find the same filename with different extensions (js only);\n * - Returns `null` if it doesn't satisfy any rule\n */\nvar resolveFile = function (path, files) {\n    var normalizedFilesPath = normalizePath(files);\n    var normalizedPath = normalizePath(path);\n    if (normalizedPath in normalizedFilesPath) {\n        return normalizedPath;\n    }\n    if (!path) {\n        return null;\n    }\n    var resolvedPath = null;\n    var index = 0;\n    var strategies = [\".js\", \".jsx\", \".ts\", \".tsx\"];\n    while (!resolvedPath && index < strategies.length) {\n        var removeExtension = normalizedPath.split(\".\")[0];\n        var attemptPath = \"\".concat(removeExtension).concat(strategies[index]);\n        if (normalizedFilesPath[attemptPath] !== undefined) {\n            resolvedPath = attemptPath;\n        }\n        index++;\n    }\n    return resolvedPath;\n};\n/**\n * The template is predefined (eg: react, vue, vanilla)\n * The setup can overwrite anything from the template\n * (eg: files, dependencies, environment, etc.)\n */\nvar combineTemplateFilesToSetup = function (_a) {\n    var files = _a.files, template = _a.template, customSetup = _a.customSetup;\n    if (!template) {\n        // If not input, default to vanilla\n        if (!customSetup) {\n            var defaultTemplate = SANDBOX_TEMPLATES.vanilla;\n            return __assign(__assign({}, defaultTemplate), { files: __assign(__assign({}, defaultTemplate.files), convertedFilesToBundlerFiles(files)) });\n        }\n        if (!files || Object.keys(files).length === 0) {\n            throw new Error(\"[sandpack-react]: without a template, you must pass at least one file\");\n        }\n        // If not template specified, use the setup entirely\n        return __assign(__assign({}, customSetup), { files: convertedFilesToBundlerFiles(files) });\n    }\n    var baseTemplate = SANDBOX_TEMPLATES[template];\n    if (!baseTemplate) {\n        throw new Error(\"[sandpack-react]: invalid template \\\"\".concat(template, \"\\\" provided\"));\n    }\n    // If no setup and not files, the template is used entirely\n    if (!customSetup && !files) {\n        return baseTemplate;\n    }\n    // Merge the setup on top of the template\n    return {\n        /**\n         * The input setup might have files in the simple form Record<string, string>\n         * so we convert them to the sandbox template format\n         */\n        files: convertedFilesToBundlerFiles(__assign(__assign({}, baseTemplate.files), files)),\n        /**\n         * Merge template dependencies and user custom dependencies.\n         * As a rule, the custom dependencies must overwrite the template ones.\n         */\n        dependencies: __assign(__assign({}, baseTemplate.dependencies), customSetup === null || customSetup === void 0 ? void 0 : customSetup.dependencies),\n        devDependencies: __assign(__assign({}, baseTemplate.devDependencies), customSetup === null || customSetup === void 0 ? void 0 : customSetup.devDependencies),\n        entry: normalizePath(customSetup === null || customSetup === void 0 ? void 0 : customSetup.entry),\n        main: baseTemplate.main,\n        environment: (customSetup === null || customSetup === void 0 ? void 0 : customSetup.environment) || baseTemplate.environment,\n    };\n};\n/**\n * Transform an regular object, which contain files to\n * an object that sandpack-client can understand\n *\n * From: Record<string, string>\n * To: Record<string, { code: string }>\n */\nvar convertedFilesToBundlerFiles = function (files) {\n    if (!files)\n        return {};\n    return Object.keys(files).reduce(function (acc, key) {\n        if (typeof files[key] === \"string\") {\n            acc[key] = { code: files[key] };\n        }\n        else {\n            acc[key] = files[key];\n        }\n        return acc;\n    }, {});\n};\n\nvar useAppState = function (props, files) {\n    var _a = useState({\n        editorState: \"pristine\",\n    }), state = _a[0], setState = _a[1];\n    var originalStateFromProps = getSandpackStateFromProps(props);\n    var editorState = dequal(originalStateFromProps.files, files)\n        ? \"pristine\"\n        : \"dirty\";\n    if (editorState !== state.editorState) {\n        setState(function (prev) { return (__assign(__assign({}, prev), { editorState: editorState })); });\n    }\n    return state;\n};\n\n/**\n * This is a hard constraint to make URLs shorter.\n * For example, this id will be used to mount SW in the iframe\n * so, to keep the URL valid, this must be an 9 character long string\n */\nvar MAX_ID_LENGTH = 9;\nvar useAsyncSandpackId = function (files) {\n    if (typeof useId === \"function\") {\n        /* eslint-disable-next-line react-hooks/rules-of-hooks */\n        var reactDomId_1 = useId();\n        return function () { return __awaiter(void 0, void 0, void 0, function () {\n            var allCode, sha;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        allCode = Object.entries(files)\n                            .map(function (path, code) { return path + \"|\" + code; })\n                            .join(\"|||\");\n                        return [4 /*yield*/, generateShortId(allCode + reactDomId_1)];\n                    case 1:\n                        sha = _a.sent();\n                        return [2 /*return*/, ensureLength(sha.replace(/:/g, \"sp\"), MAX_ID_LENGTH)];\n                }\n            });\n        }); };\n    }\n    else {\n        return function () { return ensureLength(generateRandomId(), MAX_ID_LENGTH); };\n    }\n};\nfunction ensureLength(str, length) {\n    if (str.length > length) {\n        return str.slice(0, length);\n    }\n    else {\n        return str.padEnd(length, \"s\");\n    }\n}\nfunction generateShortId(input) {\n    return __awaiter(this, void 0, void 0, function () {\n        var encoder, data, hashBuffer, hashArray;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    encoder = new TextEncoder();\n                    data = encoder.encode(input);\n                    return [4 /*yield*/, crypto.subtle.digest(\"SHA-256\", data)];\n                case 1:\n                    hashBuffer = _a.sent();\n                    hashArray = Array.from(new Uint8Array(hashBuffer));\n                    return [2 /*return*/, btoa(String.fromCharCode.apply(String, hashArray))];\n            }\n        });\n    });\n}\n\nvar BUNDLER_TIMEOUT = 40000;\nvar useClient = function (_a, filesState) {\n    var _b, _c, _d;\n    var options = _a.options, customSetup = _a.customSetup, teamId = _a.teamId, sandboxId = _a.sandboxId;\n    options !== null && options !== void 0 ? options : (options = {});\n    customSetup !== null && customSetup !== void 0 ? customSetup : (customSetup = {});\n    var initModeFromProps = (options === null || options === void 0 ? void 0 : options.initMode) || \"lazy\";\n    var _e = useState({\n        startRoute: options === null || options === void 0 ? void 0 : options.startRoute,\n        bundlerState: undefined,\n        error: null,\n        initMode: initModeFromProps,\n        reactDevTools: undefined,\n        status: ((_b = options === null || options === void 0 ? void 0 : options.autorun) !== null && _b !== void 0 ? _b : true) ? \"initial\" : \"idle\",\n    }), state = _e[0], setState = _e[1];\n    var intersectionObserverCallback = useRef();\n    var intersectionObserver = useRef(null);\n    var lazyAnchorRef = useRef(null);\n    var registeredIframes = useRef({});\n    var clients = useRef({});\n    var timeoutHook = useRef(null);\n    var unsubscribeClientListeners = useRef({});\n    var unsubscribe = useRef();\n    var queuedListeners = useRef({ global: {} });\n    var debounceHook = useRef();\n    var prevEnvironment = useRef(filesState.environment);\n    var experimental_stableServiceWorkerId = useAsyncSandpackId(filesState.files);\n    /**\n     * Callbacks\n     */\n    var createClient = useCallback(function (iframe, clientId, clientPropsOverride) { return __awaiter(void 0, void 0, void 0, function () {\n        var timeOut, shouldSetTimeout, client, _a, _b, _c, globalListeners;\n        var _d;\n        var _e, _f, _g;\n        return __generator(this, function (_h) {\n            switch (_h.label) {\n                case 0:\n                    // Clean up any existing clients that\n                    // have been created with the given id\n                    if (clients.current[clientId]) {\n                        clients.current[clientId].destroy();\n                    }\n                    options !== null && options !== void 0 ? options : (options = {});\n                    customSetup !== null && customSetup !== void 0 ? customSetup : (customSetup = {});\n                    timeOut = (_e = options === null || options === void 0 ? void 0 : options.bundlerTimeOut) !== null && _e !== void 0 ? _e : BUNDLER_TIMEOUT;\n                    if (timeoutHook.current) {\n                        clearTimeout(timeoutHook.current);\n                    }\n                    shouldSetTimeout = typeof unsubscribe.current !== \"function\";\n                    if (shouldSetTimeout) {\n                        timeoutHook.current = setTimeout(function () {\n                            unregisterAllClients();\n                            setState(function (prev) { return (__assign(__assign({}, prev), { status: \"timeout\" })); });\n                        }, timeOut);\n                    }\n                    _a = loadSandpackClient;\n                    _b = [iframe,\n                        {\n                            files: filesState.files,\n                            template: filesState.environment,\n                        }];\n                    _d = {\n                        externalResources: options.externalResources,\n                        bundlerURL: options.bundlerURL,\n                        startRoute: (_f = clientPropsOverride === null || clientPropsOverride === void 0 ? void 0 : clientPropsOverride.startRoute) !== null && _f !== void 0 ? _f : options.startRoute,\n                        fileResolver: options.fileResolver,\n                        skipEval: (_g = options.skipEval) !== null && _g !== void 0 ? _g : false,\n                        logLevel: options.logLevel,\n                        showOpenInCodeSandbox: false,\n                        showErrorScreen: true,\n                        showLoadingScreen: false,\n                        reactDevTools: state.reactDevTools,\n                        customNpmRegistries: customSetup === null || customSetup === void 0 ? void 0 : customSetup.npmRegistries,\n                        teamId: teamId,\n                        experimental_enableServiceWorker: !!(options === null || options === void 0 ? void 0 : options.experimental_enableServiceWorker)\n                    };\n                    if (!(options === null || options === void 0 ? void 0 : options.experimental_enableStableServiceWorkerId)) return [3 /*break*/, 2];\n                    return [4 /*yield*/, experimental_stableServiceWorkerId()];\n                case 1:\n                    _c = _h.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _c = undefined;\n                    _h.label = 3;\n                case 3: return [4 /*yield*/, _a.apply(void 0, _b.concat([(_d.experimental_stableServiceWorkerId = _c,\n                            _d.sandboxId = sandboxId,\n                            _d)]))];\n                case 4:\n                    client = _h.sent();\n                    if (typeof unsubscribe.current !== \"function\") {\n                        unsubscribe.current = client.listen(handleMessage);\n                    }\n                    unsubscribeClientListeners.current[clientId] =\n                        unsubscribeClientListeners.current[clientId] || {};\n                    /**\n                     * Register any potential listeners that subscribed before sandpack ran\n                     */\n                    if (queuedListeners.current[clientId]) {\n                        Object.keys(queuedListeners.current[clientId]).forEach(function (listenerId) {\n                            var listener = queuedListeners.current[clientId][listenerId];\n                            var unsubscribe = client.listen(listener);\n                            unsubscribeClientListeners.current[clientId][listenerId] =\n                                unsubscribe;\n                        });\n                        // Clear the queued listeners after they were registered\n                        queuedListeners.current[clientId] = {};\n                    }\n                    globalListeners = Object.entries(queuedListeners.current.global);\n                    globalListeners.forEach(function (_a) {\n                        var listenerId = _a[0], listener = _a[1];\n                        var unsubscribe = client.listen(listener);\n                        unsubscribeClientListeners.current[clientId][listenerId] = unsubscribe;\n                        /**\n                         * Important: Do not clean the global queue\n                         * Instead of cleaning the queue, keep it there for the\n                         * following clients that might be created\n                         */\n                    });\n                    clients.current[clientId] = client;\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [filesState.environment, filesState.files, state.reactDevTools]);\n    var unregisterAllClients = useCallback(function () {\n        Object.keys(clients.current).map(unregisterBundler);\n        if (typeof unsubscribe.current === \"function\") {\n            unsubscribe.current();\n            unsubscribe.current = undefined;\n        }\n    }, []);\n    var runSandpack = useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, Promise.all(Object.entries(registeredIframes.current).map(function (_a) {\n                        var clientId = _a[0], _b = _a[1], iframe = _b.iframe, _c = _b.clientPropsOverride, clientPropsOverride = _c === void 0 ? {} : _c;\n                        return __awaiter(void 0, void 0, void 0, function () {\n                            return __generator(this, function (_d) {\n                                switch (_d.label) {\n                                    case 0: return [4 /*yield*/, createClient(iframe, clientId, clientPropsOverride)];\n                                    case 1:\n                                        _d.sent();\n                                        return [2 /*return*/];\n                                }\n                            });\n                        });\n                    }))];\n                case 1:\n                    _a.sent();\n                    setState(function (prev) { return (__assign(__assign({}, prev), { error: null, status: \"running\" })); });\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [createClient]);\n    intersectionObserverCallback.current = function (entries) {\n        if (entries.some(function (entry) { return entry.isIntersecting; })) {\n            runSandpack();\n        }\n        else {\n            unregisterAllClients();\n        }\n    };\n    var initializeSandpackIframe = useCallback(function () {\n        var _a, _b, _c;\n        var autorun = (_a = options === null || options === void 0 ? void 0 : options.autorun) !== null && _a !== void 0 ? _a : true;\n        if (!autorun) {\n            return;\n        }\n        var observerOptions = (_b = options === null || options === void 0 ? void 0 : options.initModeObserverOptions) !== null && _b !== void 0 ? _b : {\n            rootMargin: \"1000px 0px\",\n        };\n        if (intersectionObserver.current && lazyAnchorRef.current) {\n            (_c = intersectionObserver.current) === null || _c === void 0 ? void 0 : _c.unobserve(lazyAnchorRef.current);\n        }\n        if (lazyAnchorRef.current && state.initMode === \"lazy\") {\n            // If any component registered a lazy anchor ref component, use that for the intersection observer\n            intersectionObserver.current = new IntersectionObserver(function (entries) {\n                var _a, _b;\n                if (entries.some(function (entry) { return entry.isIntersecting; })) {\n                    // Trigger it once\n                    if (entries.some(function (entry) { return entry.isIntersecting; }) &&\n                        lazyAnchorRef.current) {\n                        (_a = intersectionObserverCallback.current) === null || _a === void 0 ? void 0 : _a.call(intersectionObserverCallback, entries);\n                        (_b = intersectionObserver.current) === null || _b === void 0 ? void 0 : _b.unobserve(lazyAnchorRef.current);\n                    }\n                }\n            }, observerOptions);\n            intersectionObserver.current.observe(lazyAnchorRef.current);\n        }\n        else if (lazyAnchorRef.current && state.initMode === \"user-visible\") {\n            intersectionObserver.current = new IntersectionObserver(function (entries) {\n                var _a;\n                (_a = intersectionObserverCallback.current) === null || _a === void 0 ? void 0 : _a.call(intersectionObserverCallback, entries);\n            }, observerOptions);\n            intersectionObserver.current.observe(lazyAnchorRef.current);\n        }\n        else {\n            runSandpack();\n        }\n    }, [\n        options === null || options === void 0 ? void 0 : options.autorun,\n        options === null || options === void 0 ? void 0 : options.initModeObserverOptions,\n        runSandpack,\n        state.initMode,\n        unregisterAllClients,\n    ]);\n    var registerBundler = useCallback(function (iframe, clientId, clientPropsOverride) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    // Store the iframe info so it can be\n                    // used later to manually run sandpack\n                    registeredIframes.current[clientId] = {\n                        iframe: iframe,\n                        clientPropsOverride: clientPropsOverride,\n                    };\n                    if (!(state.status === \"running\")) return [3 /*break*/, 2];\n                    return [4 /*yield*/, createClient(iframe, clientId, clientPropsOverride)];\n                case 1:\n                    _a.sent();\n                    _a.label = 2;\n                case 2: return [2 /*return*/];\n            }\n        });\n    }); }, [createClient, state.status]);\n    var unregisterBundler = function (clientId) {\n        var _a, _b;\n        var client = clients.current[clientId];\n        if (client) {\n            client.destroy();\n            (_a = client.iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.location.replace(\"about:blank\");\n            client.iframe.removeAttribute(\"src\");\n            delete clients.current[clientId];\n        }\n        else {\n            delete registeredIframes.current[clientId];\n        }\n        if (timeoutHook.current) {\n            clearTimeout(timeoutHook.current);\n        }\n        var unsubscribeQueuedClients = Object.values((_b = unsubscribeClientListeners.current[clientId]) !== null && _b !== void 0 ? _b : {});\n        // Unsubscribing all listener registered\n        unsubscribeQueuedClients.forEach(function (listenerOfClient) {\n            var listenerFunctions = Object.values(listenerOfClient);\n            listenerFunctions.forEach(function (unsubscribe) { return unsubscribe(); });\n        });\n        // Keep running if it still have clients\n        var status = Object.keys(clients.current).length > 0 ? \"running\" : \"idle\";\n        setState(function (prev) { return (__assign(__assign({}, prev), { status: status })); });\n    };\n    var handleMessage = function (msg) {\n        if (msg.type === \"start\") {\n            setState(function (prev) { return (__assign(__assign({}, prev), { error: null })); });\n        }\n        else if (msg.type === \"state\") {\n            setState(function (prev) { return (__assign(__assign({}, prev), { bundlerState: msg.state })); });\n        }\n        else if ((msg.type === \"done\" && !msg.compilatonError) ||\n            msg.type === \"connected\") {\n            if (timeoutHook.current) {\n                clearTimeout(timeoutHook.current);\n            }\n            setState(function (prev) { return (__assign(__assign({}, prev), { error: null })); });\n        }\n        else if (msg.type === \"action\" && msg.action === \"show-error\") {\n            if (timeoutHook.current) {\n                clearTimeout(timeoutHook.current);\n            }\n            setState(function (prev) { return (__assign(__assign({}, prev), { error: extractErrorDetails(msg) })); });\n        }\n        else if (msg.type === \"action\" &&\n            msg.action === \"notification\" &&\n            msg.notificationType === \"error\") {\n            setState(function (prev) { return (__assign(__assign({}, prev), { error: { message: msg.title } })); });\n        }\n    };\n    var registerReactDevTools = function (value) {\n        setState(function (prev) { return (__assign(__assign({}, prev), { reactDevTools: value })); });\n    };\n    var recompileMode = (_c = options === null || options === void 0 ? void 0 : options.recompileMode) !== null && _c !== void 0 ? _c : \"delayed\";\n    var recompileDelay = (_d = options === null || options === void 0 ? void 0 : options.recompileDelay) !== null && _d !== void 0 ? _d : 200;\n    var dispatchMessage = function (message, clientId) {\n        if (state.status !== \"running\") {\n            console.warn(\"[sandpack-react]: dispatch cannot be called while in idle mode\");\n            return;\n        }\n        if (clientId) {\n            clients.current[clientId].dispatch(message);\n        }\n        else {\n            Object.values(clients.current).forEach(function (client) {\n                client.dispatch(message);\n            });\n        }\n    };\n    var addListener = function (listener, clientId) {\n        if (clientId) {\n            if (clients.current[clientId]) {\n                var unsubscribeListener = clients.current[clientId].listen(listener);\n                return unsubscribeListener;\n            }\n            else {\n                /**\n                 * When listeners are added before the client is instantiated, they are stored with an unique id\n                 * When the client is eventually instantiated, the listeners are registered on the spot\n                 * Their unsubscribe functions are stored in unsubscribeClientListeners for future cleanup\n                 */\n                var listenerId_1 = generateRandomId();\n                queuedListeners.current[clientId] =\n                    queuedListeners.current[clientId] || {};\n                unsubscribeClientListeners.current[clientId] =\n                    unsubscribeClientListeners.current[clientId] || {};\n                queuedListeners.current[clientId][listenerId_1] = listener;\n                var unsubscribeListener = function () {\n                    if (queuedListeners.current[clientId][listenerId_1]) {\n                        /**\n                         * Unsubscribe was called before the client was instantiated\n                         * common example - a component with autorun=false that unmounted\n                         */\n                        delete queuedListeners.current[clientId][listenerId_1];\n                    }\n                    else if (unsubscribeClientListeners.current[clientId][listenerId_1]) {\n                        /**\n                         * unsubscribe was called for a listener that got added before the client was instantiated\n                         * call the unsubscribe function and remove it from memory\n                         */\n                        unsubscribeClientListeners.current[clientId][listenerId_1]();\n                        delete unsubscribeClientListeners.current[clientId][listenerId_1];\n                    }\n                };\n                return unsubscribeListener;\n            }\n        }\n        else {\n            // Push to the **global** queue\n            var listenerId_2 = generateRandomId();\n            queuedListeners.current.global[listenerId_2] = listener;\n            // Add to the current clients\n            var clientsList = Object.values(clients.current);\n            var currentClientUnsubscribeListeners_1 = clientsList.map(function (client) {\n                return client.listen(listener);\n            });\n            var unsubscribeListener = function () {\n                // Unsubscribing from the clients already created\n                currentClientUnsubscribeListeners_1.forEach(function (unsubscribe) {\n                    return unsubscribe();\n                });\n                delete queuedListeners.current.global[listenerId_2];\n                // Unsubscribe in case it was added later from `global`\n                Object.values(unsubscribeClientListeners.current).forEach(function (client) {\n                    var _a;\n                    (_a = client === null || client === void 0 ? void 0 : client[listenerId_2]) === null || _a === void 0 ? void 0 : _a.call(client);\n                });\n            };\n            return unsubscribeListener;\n        }\n    };\n    /**\n     * Effects\n     */\n    useEffect(function watchFileChanges() {\n        if (state.status !== \"running\" || !filesState.shouldUpdatePreview) {\n            return;\n        }\n        /**\n         * When the environment changes, Sandpack needs to make sure\n         * to create a new client and the proper bundler\n         */\n        if (prevEnvironment.current !== filesState.environment) {\n            prevEnvironment.current = filesState.environment;\n            Object.entries(clients.current).forEach(function (_a) {\n                var key = _a[0], client = _a[1];\n                registerBundler(client.iframe, key);\n            });\n        }\n        if (recompileMode === \"immediate\") {\n            Object.values(clients.current).forEach(function (client) {\n                /**\n                 * Avoid concurrency\n                 */\n                if (client.status === \"done\") {\n                    client.updateSandbox({\n                        files: filesState.files,\n                        template: filesState.environment,\n                    });\n                }\n            });\n        }\n        if (recompileMode === \"delayed\") {\n            if (typeof window === \"undefined\")\n                return;\n            window.clearTimeout(debounceHook.current);\n            debounceHook.current = window.setTimeout(function () {\n                Object.values(clients.current).forEach(function (client) {\n                    /**\n                     * Avoid concurrency\n                     */\n                    if (client.status === \"done\") {\n                        client.updateSandbox({\n                            files: filesState.files,\n                            template: filesState.environment,\n                        });\n                    }\n                });\n            }, recompileDelay);\n        }\n        return function () {\n            window.clearTimeout(debounceHook.current);\n        };\n    }, [\n        filesState.files,\n        filesState.environment,\n        filesState.shouldUpdatePreview,\n        recompileDelay,\n        recompileMode,\n        registerBundler,\n        state.status,\n    ]);\n    useEffect(function watchInitMode() {\n        if (initModeFromProps !== state.initMode) {\n            setState(function (prev) { return (__assign(__assign({}, prev), { initMode: initModeFromProps })); });\n            initializeSandpackIframe();\n        }\n    }, [initModeFromProps, initializeSandpackIframe, state.initMode]);\n    useEffect(function () {\n        return function unmountClient() {\n            if (typeof unsubscribe.current === \"function\") {\n                unsubscribe.current();\n            }\n            if (timeoutHook.current) {\n                clearTimeout(timeoutHook.current);\n            }\n            if (debounceHook.current) {\n                clearTimeout(debounceHook.current);\n            }\n            if (intersectionObserver.current) {\n                intersectionObserver.current.disconnect();\n            }\n        };\n    }, []);\n    return [\n        state,\n        {\n            clients: clients.current,\n            initializeSandpackIframe: initializeSandpackIframe,\n            runSandpack: runSandpack,\n            registerBundler: registerBundler,\n            unregisterBundler: unregisterBundler,\n            registerReactDevTools: registerReactDevTools,\n            addListener: addListener,\n            dispatchMessage: dispatchMessage,\n            lazyAnchorRef: lazyAnchorRef,\n            unsubscribeClientListenersRef: unsubscribeClientListeners,\n            queuedListenersRef: queuedListeners,\n        },\n    ];\n};\n\nvar useFiles = function (props) {\n    var originalStateFromProps = getSandpackStateFromProps(props);\n    var _a = useState(originalStateFromProps), state = _a[0], setState = _a[1];\n    var isMountedRef = useRef(false);\n    useEffect(function () {\n        if (isMountedRef.current) {\n            setState(getSandpackStateFromProps(props));\n        }\n        else {\n            isMountedRef.current = true;\n        }\n    }, [props.files, props.customSetup, props.template]);\n    var updateFile = function (pathOrFiles, code, shouldUpdatePreview) {\n        if (shouldUpdatePreview === void 0) { shouldUpdatePreview = true; }\n        setState(function (prev) {\n            var _a;\n            var files = prev.files;\n            if (typeof pathOrFiles === \"string\" && typeof code === \"string\") {\n                files = __assign(__assign({}, files), (_a = {}, _a[pathOrFiles] = __assign(__assign({}, files[pathOrFiles]), { code: code }), _a));\n            }\n            else if (typeof pathOrFiles === \"object\") {\n                files = __assign(__assign({}, files), convertedFilesToBundlerFiles(pathOrFiles));\n            }\n            return __assign(__assign({}, prev), { files: normalizePath(files), shouldUpdatePreview: shouldUpdatePreview });\n        });\n    };\n    var operations = {\n        openFile: function (path) {\n            setState(function (_a) {\n                var visibleFiles = _a.visibleFiles, rest = __rest(_a, [\"visibleFiles\"]);\n                var newPaths = visibleFiles.includes(path)\n                    ? visibleFiles\n                    : __spreadArray(__spreadArray([], visibleFiles, true), [path], false);\n                return __assign(__assign({}, rest), { activeFile: path, visibleFiles: newPaths });\n            });\n        },\n        resetFile: function (path) {\n            setState(function (prevState) {\n                var _a;\n                return (__assign(__assign({}, prevState), { files: __assign(__assign({}, prevState.files), (_a = {}, _a[path] = originalStateFromProps.files[path], _a)) }));\n            });\n        },\n        resetAllFiles: function () {\n            setState(function (prev) { return (__assign(__assign({}, prev), { files: originalStateFromProps.files })); });\n        },\n        setActiveFile: function (activeFile) {\n            if (state.files[activeFile]) {\n                setState(function (prev) { return (__assign(__assign({}, prev), { activeFile: activeFile })); });\n            }\n        },\n        updateCurrentFile: function (code, shouldUpdatePreview) {\n            if (shouldUpdatePreview === void 0) { shouldUpdatePreview = true; }\n            updateFile(state.activeFile, code, shouldUpdatePreview);\n        },\n        updateFile: updateFile,\n        addFile: updateFile,\n        closeFile: function (path) {\n            if (state.visibleFiles.length === 1) {\n                return;\n            }\n            setState(function (_a) {\n                var visibleFiles = _a.visibleFiles, activeFile = _a.activeFile, prev = __rest(_a, [\"visibleFiles\", \"activeFile\"]);\n                var indexOfRemovedPath = visibleFiles.indexOf(path);\n                var newPaths = visibleFiles.filter(function (openPath) { return openPath !== path; });\n                return __assign(__assign({}, prev), { activeFile: path === activeFile\n                        ? indexOfRemovedPath === 0\n                            ? visibleFiles[1]\n                            : visibleFiles[indexOfRemovedPath - 1]\n                        : activeFile, visibleFiles: newPaths });\n            });\n        },\n        deleteFile: function (path, shouldUpdatePreview) {\n            if (shouldUpdatePreview === void 0) { shouldUpdatePreview = true; }\n            setState(function (_a) {\n                var visibleFiles = _a.visibleFiles, files = _a.files, activeFile = _a.activeFile, rest = __rest(_a, [\"visibleFiles\", \"files\", \"activeFile\"]);\n                var newFiles = __assign({}, files);\n                delete newFiles[path];\n                var remainingVisibleFiles = visibleFiles.filter(function (openPath) { return openPath !== path; });\n                var deletedLastVisibleFile = remainingVisibleFiles.length === 0;\n                if (deletedLastVisibleFile) {\n                    var nextFile = Object.keys(files)[Object.keys(files).length - 1];\n                    return __assign(__assign({}, rest), { visibleFiles: [nextFile], activeFile: nextFile, files: newFiles, shouldUpdatePreview: shouldUpdatePreview });\n                }\n                return __assign(__assign({}, rest), { visibleFiles: remainingVisibleFiles, activeFile: path === activeFile\n                        ? remainingVisibleFiles[remainingVisibleFiles.length - 1]\n                        : activeFile, files: newFiles, shouldUpdatePreview: shouldUpdatePreview });\n            });\n        },\n    };\n    return [\n        __assign(__assign({}, state), { visibleFilesFromProps: originalStateFromProps.visibleFiles }),\n        operations,\n    ];\n};\n\nvar Sandpack$1 = React.createContext(null);\nvar SandpackProvider = function (props) {\n    var _a, _b, _c;\n    var children = props.children, options = props.options, style = props.style, className = props.className, theme = props.theme;\n    var _d = useFiles(props), fileState = _d[0], fileOperations = _d[1];\n    var _e = useClient(props, fileState), clientState = _e[0], _f = _e[1], dispatchMessage = _f.dispatchMessage, addListener = _f.addListener, clientOperations = __rest(_f, [\"dispatchMessage\", \"addListener\"]);\n    var appState = useAppState(props, fileState.files);\n    React.useEffect(function () {\n        clientOperations.initializeSandpackIframe();\n    }, []);\n    return (jsx(Sandpack$1.Provider, { value: __assign(__assign(__assign(__assign(__assign(__assign({}, fileState), clientState), appState), fileOperations), clientOperations), { autoReload: (_b = (_a = props.options) === null || _a === void 0 ? void 0 : _a.autoReload) !== null && _b !== void 0 ? _b : true, teamId: props === null || props === void 0 ? void 0 : props.teamId, exportOptions: (_c = props === null || props === void 0 ? void 0 : props.customSetup) === null || _c === void 0 ? void 0 : _c.exportOptions, listen: addListener, dispatch: dispatchMessage }), children: jsx(ClassNamesProvider, { classes: options === null || options === void 0 ? void 0 : options.classes, children: jsx(SandpackThemeProvider, { className: className, style: style, theme: theme, children: children }) }) }));\n};\n/**\n * @category Provider\n */\nvar SandpackConsumer = Sandpack$1.Consumer;\n\n/**\n * @category Hooks\n */\nfunction useSandpack() {\n    var sandpack = React.useContext(Sandpack$1);\n    if (sandpack === null) {\n        throw new Error(\"[sandpack-react]: \\\"useSandpack\\\" must be wrapped by a \\\"SandpackProvider\\\"\");\n    }\n    var dispatch = sandpack.dispatch, listen = sandpack.listen, rest = __rest(sandpack, [\"dispatch\", \"listen\"]);\n    return {\n        sandpack: __assign({}, rest),\n        dispatch: dispatch,\n        listen: listen,\n    };\n}\n\n/**\n * This returns the current state of the active file\n * and a method to update its content.\n *\n * @category Hooks\n */\nvar useActiveCode = function () {\n    var _a, _b, _c;\n    var sandpack = useSandpack().sandpack;\n    return {\n        code: (_a = sandpack.files[sandpack.activeFile]) === null || _a === void 0 ? void 0 : _a.code,\n        readOnly: (_c = (_b = sandpack.files[sandpack.activeFile]) === null || _b === void 0 ? void 0 : _b.readOnly) !== null && _c !== void 0 ? _c : false,\n        updateCode: sandpack.updateCurrentFile,\n    };\n};\n\nvar _a$8, _b$2, _c;\nvar iconStandaloneClassName = css({\n    svg: { margin: \"auto\" },\n});\nvar buttonClassName = css((_a$8 = {\n        appearance: \"none\",\n        outline: \"none\",\n        display: \"flex\",\n        alignItems: \"center\",\n        fontSize: \"inherit\",\n        fontFamily: \"inherit\",\n        backgroundColor: \"transparent\",\n        transition: \"color $default, background $default\",\n        cursor: \"pointer\",\n        color: \"$colors$clickable\",\n        border: 0,\n        textDecoration: \"none\",\n        \"&:disabled\": { color: \"$colors$disabled\" },\n        \"&:hover:not(:disabled,[data-active='true'])\": { color: \"$colors$hover\" },\n        '&[data-active=\"true\"]': { color: \"$colors$accent\" },\n        svg: {\n            minWidth: \"$space$4\",\n            width: \"$space$4\",\n            height: \"$space$4\",\n        }\n    },\n    _a$8[\"&.\".concat(iconStandaloneClassName)] = {\n        padding: \"$space$1\",\n        height: \"$space$7\",\n        display: \"flex\",\n    },\n    // If there's a children besides the icon\n    _a$8[\"&.\".concat(iconStandaloneClassName, \"&:not(:has(span))\")] = {\n        width: \"$space$7\",\n    },\n    _a$8[\"&.\".concat(iconStandaloneClassName, \"&:has(svg + span)\")] = {\n        paddingRight: \"$space$3\",\n        paddingLeft: \"$space$2\",\n        gap: \"$space$1\",\n    },\n    _a$8));\nvar roundedButtonClassName = css({\n    backgroundColor: \"$colors$surface2\",\n    borderRadius: \"99999px\",\n    border: \"1px solid $colors$surface3\",\n    '&[data-active=\"true\"]': {\n        color: \"$colors$surface1\",\n        background: \"$colors$accent\",\n    },\n    \"&:hover:not(:disabled,[data-active='true'])\": {\n        backgroundColor: \"$colors$surface3\",\n    },\n});\nvar iconClassName = css({ padding: 0 });\nvar fadeIn = keyframes({\n    \"0%\": {\n        opacity: 0,\n    },\n    \"100%\": {\n        opacity: 1,\n    },\n});\nvar absoluteClassName = css({\n    position: \"absolute\",\n    bottom: \"0\",\n    left: \"0\",\n    right: \"0\",\n    top: \"0\",\n    margin: \"0\",\n    overflow: \"auto\",\n    height: \"100%\",\n    zIndex: \"$top\",\n});\nvar errorClassName = css((_b$2 = {\n        whiteSpace: \"pre-wrap\",\n        padding: \"$space$10\",\n        backgroundColor: \"$colors$surface1\",\n        display: \"flex\",\n        gap: \"$space$2\",\n        flexDirection: \"column\"\n    },\n    _b$2[\".\".concat(buttonClassName)] = {\n        width: \"auto\",\n        gap: \"$space$2\",\n        padding: \"0 $space$3 0 $space$2\",\n        marginTop: \"$space$1\",\n    },\n    _b$2.variants = {\n        solidBg: {\n            true: {\n                backgroundColor: \"$colors$errorSurface\",\n            },\n        },\n    },\n    _b$2));\nvar errorBundlerClassName = css((_c = {\n        padding: \"$space$10\",\n        backgroundColor: \"$colors$surface1\"\n    },\n    _c[\".\".concat(buttonClassName)] = {\n        marginTop: \"$space$6\",\n        width: \"auto\",\n        gap: \"$space$2\",\n        padding: \"0 $space$3 0 $space$2\",\n    },\n    _c));\nvar errorMessageClassName = css({\n    animation: \"\".concat(fadeIn, \" 150ms ease\"),\n    color: \"$colors$error\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"$space$3\",\n    variants: {\n        errorCode: { true: { fontFamily: \"$font$mono\" } },\n    },\n    a: {\n        color: \"inherit\",\n    },\n    p: {\n        margin: 0,\n    },\n});\n\nvar _a$7;\nvar tabsClassName = css({\n    borderBottom: \"1px solid $colors$surface2\",\n    background: \"$colors$surface1\",\n});\nvar tabsScrollableClassName = css({\n    padding: \"0 $space$2\",\n    overflow: \"auto\",\n    display: \"flex\",\n    flexWrap: \"nowrap\",\n    alignItems: \"stretch\",\n    minHeight: \"40px\",\n    marginBottom: \"-1px\",\n});\nvar closeButtonClassName = css({\n    padding: \"0 $space$1 0 $space$1\",\n    borderRadius: \"$border$radius\",\n    marginLeft: \"$space$1\",\n    width: \"$space$5\",\n    visibility: \"hidden\",\n    svg: {\n        width: \"$space$3\",\n        height: \"$space$3\",\n        display: \"block\",\n        position: \"relative\",\n        top: 1,\n    },\n});\nvar tabButton = css((_a$7 = {\n        padding: \"0 $space$2\",\n        height: \"$layout$headerHeight\",\n        whiteSpace: \"nowrap\",\n        \"&:focus\": { outline: \"none\" }\n    },\n    _a$7[\"&:hover > .\".concat(closeButtonClassName)] = { visibility: \"unset\" },\n    _a$7));\n/**\n * FileTabs is a list of all open files, the active file, and its state.\n */\nvar FileTabs = function (_a) {\n    var closableTabs = _a.closableTabs, className = _a.className, props = __rest(_a, [\"closableTabs\", \"className\"]);\n    var sandpack = useSandpack().sandpack;\n    var classNames = useClassNames();\n    var activeFile = sandpack.activeFile, visibleFiles = sandpack.visibleFiles, setActiveFile = sandpack.setActiveFile;\n    var handleCloseFile = function (ev) {\n        ev.stopPropagation();\n        var tabElm = ev.target.closest(\"[data-active]\");\n        var pathToClose = tabElm === null || tabElm === void 0 ? void 0 : tabElm.getAttribute(\"title\");\n        if (!pathToClose) {\n            return;\n        }\n        sandpack.closeFile(pathToClose);\n    };\n    var getTriggerText = function (currentPath) {\n        var documentFileName = getFileName(currentPath);\n        var pathsWithDuplicateFileNames = visibleFiles.reduce(function (prev, curr) {\n            if (curr === currentPath) {\n                return prev;\n            }\n            var fileName = getFileName(curr);\n            if (fileName === documentFileName) {\n                prev.push(curr);\n                return prev;\n            }\n            return prev;\n        }, []);\n        if (pathsWithDuplicateFileNames.length === 0) {\n            return documentFileName;\n        }\n        else {\n            return calculateNearestUniquePath(currentPath, pathsWithDuplicateFileNames);\n        }\n    };\n    return (jsx(\"div\", __assign({ className: classNames(\"tabs\", [tabsClassName, className]), translate: \"no\" }, props, { children: jsx(\"div\", { \"aria-label\": \"Select active file\", className: classNames(\"tabs-scrollable-container\", [\n                tabsScrollableClassName,\n            ]), role: \"tablist\", children: visibleFiles.map(function (filePath) { return (jsxs(\"button\", { \"aria-selected\": filePath === activeFile, className: classNames(\"tab-button\", [buttonClassName, tabButton]), \"data-active\": filePath === activeFile, onClick: function () { return setActiveFile(filePath); }, role: \"tab\", title: filePath, type: \"button\", children: [getTriggerText(filePath), closableTabs && visibleFiles.length > 1 && (jsx(\"span\", { className: classNames(\"close-button\", [closeButtonClassName]), onClick: handleCloseFile, children: jsx(CloseIcon, {}) }))] }, filePath)); }) }) })));\n};\n\nvar RoundedButton = function (_a) {\n    var onClick = _a.onClick, className = _a.className, children = _a.children;\n    var classNames = useClassNames();\n    return (jsx(\"button\", { className: classNames(\"button\", [\n            classNames(\"icon-standalone\"),\n            buttonClassName,\n            iconStandaloneClassName,\n            roundedButtonClassName,\n            className,\n        ]), onClick: onClick, type: \"button\", children: children }));\n};\n\nvar runButtonClassName = css({\n    position: \"absolute\",\n    bottom: \"$space$2\",\n    right: \"$space$2\",\n    paddingRight: \"$space$3\",\n});\nvar RunButton$1 = function (_a) {\n    _a.className; var onClick = _a.onClick, props = __rest(_a, [\"className\", \"onClick\"]);\n    var sandpack = useSandpack().sandpack;\n    return (jsxs(RoundedButton, __assign({ className: runButtonClassName.toString(), onClick: function (event) {\n            sandpack.runSandpack();\n            onClick === null || onClick === void 0 ? void 0 : onClick(event);\n        } }, props, { children: [jsx(RunIcon, {}), jsx(\"span\", { children: \"Run\" })] })));\n};\n\nvar _a$6;\nvar stackClassName = css((_a$6 = {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        position: \"relative\",\n        backgroundColor: \"$colors$surface1\",\n        gap: 1\n    },\n    _a$6[\"&:has(.\".concat(THEME_PREFIX, \"-stack)\")] = {\n        backgroundColor: \"$colors$surface2\",\n    },\n    _a$6));\nvar SandpackStack = function (_a) {\n    var className = _a.className, props = __rest(_a, [\"className\"]);\n    var classNames = useClassNames();\n    return (jsx(\"div\", __assign({ className: classNames(\"stack\", [stackClassName, className]) }, props)));\n};\n\n/**\n * @category Hooks\n */\nvar useSandpackTheme = function () {\n    var _a = React.useContext(SandpackThemeContext), theme = _a.theme, id = _a.id, mode = _a.mode;\n    return { theme: theme, themeId: id, themeMode: mode };\n};\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar shallowEqual = function (a, b) {\n    if (a.length !== b.length)\n        return false;\n    var result = true;\n    for (var index = 0; index < a.length; index++) {\n        if (a[index] !== b[index]) {\n            result = false;\n            break;\n        }\n    }\n    return result;\n};\n\nvar getCodeMirrorPosition = function (doc, _a) {\n    var line = _a.line, column = _a.column;\n    return doc.line(line).from + (column !== null && column !== void 0 ? column : 0) - 1;\n};\nvar getEditorTheme = function () {\n    return EditorView.theme({\n        \"&\": {\n            backgroundColor: \"var(--\".concat(THEME_PREFIX, \"-colors-surface1)\"),\n            color: \"var(--\".concat(THEME_PREFIX, \"-syntax-color-plain)\"),\n            height: \"100%\",\n        },\n        \".cm-matchingBracket, .cm-nonmatchingBracket, &.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket\": {\n            color: \"inherit\",\n            backgroundColor: \"rgba(128,128,128,.25)\",\n            backgroundBlendMode: \"difference\",\n        },\n        \"&.cm-editor.cm-focused\": {\n            outline: \"none\",\n        },\n        \".cm-activeLine\": {\n            backgroundColor: \"var(--\".concat(THEME_PREFIX, \"-colors-surface3)\"),\n            borderRadius: \"var(--\".concat(THEME_PREFIX, \"-border-radius)\"),\n        },\n        \".cm-errorLine\": {\n            backgroundColor: \"var(--\".concat(THEME_PREFIX, \"-colors-errorSurface)\"),\n            borderRadius: \"var(--\".concat(THEME_PREFIX, \"-border-radius)\"),\n        },\n        \".cm-content\": {\n            caretColor: \"var(--\".concat(THEME_PREFIX, \"-colors-accent)\"),\n            padding: \"0 var(--\".concat(THEME_PREFIX, \"-space-4)\"),\n        },\n        \".cm-scroller\": {\n            fontFamily: \"var(--\".concat(THEME_PREFIX, \"-font-mono)\"),\n            lineHeight: \"var(--\".concat(THEME_PREFIX, \"-font-lineHeight)\"),\n        },\n        \".cm-gutters\": {\n            backgroundColor: \"var(--\".concat(THEME_PREFIX, \"-colors-surface1)\"),\n            color: \"var(--\".concat(THEME_PREFIX, \"-colors-disabled)\"),\n            border: \"none\",\n            paddingLeft: \"var(--\".concat(THEME_PREFIX, \"-space-1)\"),\n        },\n        \".cm-gutter.cm-lineNumbers\": {\n            fontSize: \".6em\",\n        },\n        \".cm-lineNumbers .cm-gutterElement\": {\n            lineHeight: \"var(--\".concat(THEME_PREFIX, \"-font-lineHeight)\"),\n            minWidth: \"var(--\".concat(THEME_PREFIX, \"-space-5)\"),\n        },\n        \".cm-content .cm-line\": { paddingLeft: \"var(--\".concat(THEME_PREFIX, \"-space-1)\") },\n        \".cm-content.cm-readonly .cm-line\": { paddingLeft: 0 },\n    });\n};\nvar classNameToken = function (name) {\n    return \"\".concat(THEME_PREFIX, \"-syntax-\").concat(name);\n};\nvar styleTokens = function () {\n    var syntaxHighLightTokens = [\n        \"string\",\n        \"plain\",\n        \"comment\",\n        \"keyword\",\n        \"definition\",\n        \"punctuation\",\n        \"property\",\n        \"tag\",\n        \"static\",\n    ];\n    return syntaxHighLightTokens.reduce(function (acc, token) {\n        var _a;\n        return __assign(__assign({}, acc), (_a = {}, _a[\".\".concat(classNameToken(token))] = {\n            color: \"$syntax$color$\".concat(token),\n            fontStyle: \"$syntax$fontStyle$\".concat(token),\n        }, _a));\n    }, {});\n};\nvar getSyntaxHighlight = function (theme) {\n    return HighlightStyle.define([\n        { tag: tags.link, textDecoration: \"underline\" },\n        { tag: tags.emphasis, fontStyle: \"italic\" },\n        { tag: tags.strong, fontWeight: \"bold\" },\n        {\n            tag: tags.keyword,\n            class: classNameToken(\"keyword\"),\n        },\n        {\n            tag: [tags.atom, tags.number, tags.bool],\n            class: classNameToken(\"static\"),\n        },\n        {\n            tag: tags.variableName,\n            class: classNameToken(\"plain\"),\n        },\n        {\n            // Standard tags, e.g <h1 />\n            tag: tags.standard(tags.tagName),\n            class: classNameToken(\"tag\"),\n        },\n        {\n            tag: [\n                // Highlight function call\n                tags.function(tags.variableName),\n                // Highlight function definition differently (eg: functional component def in React)\n                tags.definition(tags.function(tags.variableName)),\n                // \"Custom tags\", meaning React component\n                tags.tagName,\n            ],\n            class: classNameToken(\"definition\"),\n        },\n        {\n            tag: tags.propertyName,\n            class: classNameToken(\"property\"),\n        },\n        {\n            tag: [tags.literal, tags.inserted],\n            class: classNameToken(theme.syntax.string ? \"string\" : \"static\"),\n        },\n        {\n            tag: tags.punctuation,\n            class: classNameToken(\"punctuation\"),\n        },\n        {\n            tag: [tags.comment, tags.quote],\n            class: classNameToken(\"comment\"),\n        },\n    ]);\n};\nvar getLanguageFromFile = function (filePath, fileType, additionalLanguages) {\n    if (!filePath && !fileType)\n        return \"javascript\";\n    var extension = fileType;\n    if (!extension && filePath) {\n        var extensionDotIndex = filePath.lastIndexOf(\".\");\n        extension = filePath.slice(extensionDotIndex + 1);\n    }\n    for (var _i = 0, additionalLanguages_1 = additionalLanguages; _i < additionalLanguages_1.length; _i++) {\n        var additionalLanguage = additionalLanguages_1[_i];\n        if (extension === additionalLanguage.name ||\n            additionalLanguage.extensions.includes(extension || \"\")) {\n            return additionalLanguage.name;\n        }\n    }\n    switch (extension) {\n        case \"ts\":\n        case \"tsx\":\n            return \"typescript\";\n        case \"html\":\n        case \"svelte\":\n        case \"vue\":\n        case \"astro\":\n            return \"html\";\n        case \"css\":\n        case \"less\":\n        case \"scss\":\n            return \"css\";\n        case \"js\":\n        case \"jsx\":\n        case \"json\":\n        default:\n            return \"javascript\";\n    }\n};\nvar getCodeMirrorLanguage = function (extension, additionalLanguages) {\n    var options = {\n        javascript: javascript({ jsx: true, typescript: false }),\n        typescript: javascript({ jsx: true, typescript: true }),\n        html: html(),\n        css: css$1(),\n    };\n    for (var _i = 0, additionalLanguages_2 = additionalLanguages; _i < additionalLanguages_2.length; _i++) {\n        var additionalLanguage = additionalLanguages_2[_i];\n        if (extension === additionalLanguage.name) {\n            return additionalLanguage.language;\n        }\n    }\n    return options[extension];\n};\nvar useCombinedRefs = function () {\n    var refs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        refs[_i] = arguments[_i];\n    }\n    return React.useCallback(function (element) {\n        return refs.forEach(function (ref) {\n            if (!ref) {\n                return;\n            }\n            // Ref can have two types - a function or an object. We treat each case.\n            if (typeof ref === \"function\") {\n                return ref(element);\n            }\n            // As per https://github.com/facebook/react/issues/13029\n            // it should be fine to set current this way.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            ref.current = element;\n        });\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    refs);\n};\n\nfunction highlightDecorators(positions) {\n    return ViewPlugin.fromClass(/** @class */ (function () {\n        function class_1(view) {\n            this.decorations = this.getDecoration(view);\n        }\n        class_1.prototype.update = function (update) {\n            return;\n        };\n        class_1.prototype.getDecoration = function (view) {\n            if (!positions)\n                return Decoration.none;\n            var rangesDecorators = positions.map(function (item) {\n                var _a, _b, _c;\n                var lineDeco = Decoration.line({\n                    attributes: { class: (_a = item.className) !== null && _a !== void 0 ? _a : \"\" },\n                });\n                var markDeco = Decoration.mark({\n                    class: (_b = item.className) !== null && _b !== void 0 ? _b : \"\",\n                    attributes: (_c = item.elementAttributes) !== null && _c !== void 0 ? _c : undefined,\n                });\n                var positionLineStart = getCodeMirrorPosition(view.state.doc, {\n                    line: item.line,\n                    column: item.startColumn,\n                }) + 1;\n                if (item.startColumn && item.endColumn) {\n                    var positionLineEnd = getCodeMirrorPosition(view.state.doc, {\n                        line: item.line,\n                        column: item.endColumn,\n                    }) + 1;\n                    return markDeco.range(positionLineStart, positionLineEnd);\n                }\n                return lineDeco.range(positionLineStart);\n            });\n            return Decoration.set(rangesDecorators);\n        };\n        return class_1;\n    }()), {\n        decorations: function (v) { return v.decorations; },\n    });\n}\n\nfunction highlightInlineError() {\n    return activeLineHighlighter;\n}\nvar lineDeco = Decoration.line({ attributes: { class: \"cm-errorLine\" } });\nvar activeLineHighlighter = ViewPlugin.fromClass(/** @class */ (function () {\n    function class_1() {\n        this.decorations = Decoration.none;\n    }\n    class_1.prototype.update = function (update) {\n        var _this = this;\n        update.transactions.forEach(function (trans) {\n            // @ts-ignore\n            var errorValue = trans.annotation(\"show-error\");\n            if (errorValue !== undefined) {\n                var position = getCodeMirrorPosition(update.view.state.doc, {\n                    line: errorValue,\n                }) + 1;\n                _this.decorations = Decoration.set([lineDeco.range(position)]);\n                // @ts-ignore\n            }\n            else if (trans.annotation(\"remove-errors\")) {\n                _this.decorations = Decoration.none;\n            }\n        });\n    };\n    return class_1;\n}()), {\n    decorations: function (v) { return v.decorations; },\n});\n\nvar _a$5, _b$1;\nvar placeholderClassName = css({\n    margin: \"0\",\n    display: \"block\",\n    fontFamily: \"$font$mono\",\n    fontSize: \"$font$size\",\n    color: \"$syntax$color$plain\",\n    lineHeight: \"$font$lineHeight\",\n});\nvar tokensClassName = css(styleTokens());\nvar editorClassName = css((_a$5 = {\n        flex: 1,\n        position: \"relative\",\n        overflow: \"auto\",\n        background: \"$colors$surface1\",\n        \".cm-scroller\": {\n            padding: \"$space$4 0\",\n        }\n    },\n    _a$5[\".\".concat(placeholderClassName)] = {\n        padding: \"$space$4 0\",\n    },\n    /**\n     * For iOS: prevent browser zoom when clicking on sandbox.\n     * Does NOT apply to code blocks.\n     */\n    _a$5[\"@media screen and (max-width: 768px)\"] = {\n        \"@supports (-webkit-overflow-scrolling: touch)\": {\n            \".cm-content\": { fontSize: \"16px\" },\n        },\n    },\n    _a$5));\nvar cmClassName = css({\n    margin: \"0\",\n    outline: \"none\",\n    height: \"100%\",\n});\nvar readOnlyClassName = css((_b$1 = {\n        fontFamily: \"$font$mono\",\n        fontSize: \"0.8em\",\n        position: \"absolute\",\n        right: \"$space$2\",\n        bottom: \"$space$2\",\n        zIndex: \"$top\",\n        color: \"$colors$clickable\",\n        backgroundColor: \"$colors$surface2\",\n        borderRadius: \"99999px\",\n        padding: \"calc($space$1 / 2) $space$2\"\n    },\n    _b$1[\"& + .\".concat(buttonClassName)] = {\n        right: \"calc($space$11 * 2)\",\n    },\n    _b$1));\n\nvar useSyntaxHighlight = function (_a) {\n    var langSupport = _a.langSupport, highlightTheme = _a.highlightTheme, _b = _a.code, code = _b === void 0 ? \"\" : _b;\n    var tree = langSupport.language.parser.parse(code);\n    var offSet = 0;\n    var codeElementsRender = [];\n    var addElement = function (to, className) {\n        if (to > offSet) {\n            var children = code.slice(offSet, to);\n            codeElementsRender.push(className\n                ? createElement(\"span\", {\n                    children: children,\n                    className: className,\n                    key: \"\".concat(to).concat(offSet),\n                })\n                : children);\n            offSet = to;\n        }\n    };\n    highlightTree(tree, highlightTheme, function (from, to, className) {\n        addElement(from, \"\");\n        addElement(to, className);\n    });\n    /**\n     * The language parse doesn't look consistent.\n     * The final syntax highlight used by CodeMirror\n     * includes an end empty line, and the parse here doesn't,\n     * so let's add it manually.\n     */\n    if (offSet < code.length && (code === null || code === void 0 ? void 0 : code.includes(\"\\n\"))) {\n        codeElementsRender.push(\"\\n\\n\");\n    }\n    return codeElementsRender;\n};\n\nvar CodeMirror = React.forwardRef(function (_a, ref) {\n    var _b = _a.code, code = _b === void 0 ? \"\" : _b, filePath = _a.filePath, fileType = _a.fileType, onCodeUpdate = _a.onCodeUpdate, _c = _a.showLineNumbers, showLineNumbers = _c === void 0 ? false : _c, _d = _a.showInlineErrors, showInlineErrors = _d === void 0 ? false : _d, _e = _a.wrapContent, wrapContent = _e === void 0 ? false : _e, _f = _a.editorState, editorState = _f === void 0 ? \"pristine\" : _f, _g = _a.readOnly, readOnly = _g === void 0 ? false : _g, _h = _a.showReadOnly, showReadOnly = _h === void 0 ? true : _h, decorators = _a.decorators, _j = _a.initMode, initMode = _j === void 0 ? \"lazy\" : _j, _k = _a.extensions, extensions = _k === void 0 ? [] : _k, _l = _a.extensionsKeymap, extensionsKeymap = _l === void 0 ? [] : _l, _m = _a.additionalLanguages, additionalLanguages = _m === void 0 ? [] : _m;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var wrapper = React.useRef(null);\n    var combinedRef = useCombinedRefs(wrapper, ref);\n    var cmView = React.useRef();\n    var _o = useSandpackTheme(), theme = _o.theme, themeId = _o.themeId;\n    var _p = React.useState(code), internalCode = _p[0], setInternalCode = _p[1];\n    var _q = React.useState(initMode === \"immediate\"), shouldInitEditor = _q[0], setShouldInitEditor = _q[1];\n    var classNames = useClassNames();\n    var _r = useSandpack(), listen = _r.listen, autoReload = _r.sandpack.autoReload;\n    var prevExtension = React.useRef([]);\n    var prevExtensionKeymap = React.useRef([]);\n    var isIntersecting = useIntersectionObserver(wrapper, {\n        rootMargin: \"600px 0px\",\n        threshold: 0.2,\n    }).isIntersecting;\n    React.useImperativeHandle(ref, function () { return ({\n        getCodemirror: function () { return cmView.current; },\n    }); });\n    React.useEffect(function () {\n        var mode = initMode === \"lazy\" || initMode === \"user-visible\";\n        if (mode && isIntersecting) {\n            setShouldInitEditor(true);\n        }\n    }, [initMode, isIntersecting]);\n    var languageExtension = getLanguageFromFile(filePath, fileType, additionalLanguages);\n    var langSupport = getCodeMirrorLanguage(languageExtension, additionalLanguages);\n    var highlightTheme = getSyntaxHighlight(theme);\n    var syntaxHighlightRender = useSyntaxHighlight({\n        langSupport: langSupport,\n        highlightTheme: highlightTheme,\n        code: code,\n    });\n    // decorators need to be sorted by `line`, otherwise it will throw error\n    // see https://github.com/codesandbox/sandpack/issues/383\n    var sortedDecorators = React.useMemo(function () {\n        return decorators\n            ? decorators.sort(function (d1, d2) { return d1.line - d2.line; })\n            : decorators;\n    }, [decorators]);\n    React.useEffect(function () {\n        if (!wrapper.current || !shouldInitEditor)\n            return;\n        var parentDiv = wrapper.current;\n        var existingPlaceholder = parentDiv.querySelector(\".sp-pre-placeholder\");\n        if (existingPlaceholder) {\n            parentDiv.removeChild(existingPlaceholder);\n        }\n        var view = new EditorView({\n            doc: code,\n            extensions: [],\n            parent: parentDiv,\n            dispatch: function (tr) {\n                view.update([tr]);\n                if (tr.docChanged) {\n                    var newCode = tr.newDoc.sliceString(0, tr.newDoc.length);\n                    setInternalCode(newCode);\n                    onCodeUpdate === null || onCodeUpdate === void 0 ? void 0 : onCodeUpdate(newCode);\n                }\n            },\n        });\n        view.contentDOM.setAttribute(\"data-gramm\", \"false\");\n        view.contentDOM.setAttribute(\"data-lt-active\", \"false\");\n        view.contentDOM.setAttribute(\"aria-label\", filePath ? \"Code Editor for \".concat(getFileName(filePath)) : \"Code Editor\");\n        if (readOnly) {\n            view.contentDOM.classList.add(\"cm-readonly\");\n        }\n        else {\n            view.contentDOM.setAttribute(\"tabIndex\", \"-1\");\n        }\n        cmView.current = view;\n        return function () {\n            var _a;\n            (_a = cmView.current) === null || _a === void 0 ? void 0 : _a.destroy();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [shouldInitEditor]);\n    React.useEffect(function () {\n        if (cmView.current) {\n            var customCommandsKeymap = [\n                {\n                    key: \"Tab\",\n                    run: function (view) {\n                        var _a, _b;\n                        indentMore(view);\n                        var customKey = extensionsKeymap.find(function (_a) {\n                            var key = _a.key;\n                            return key === \"Tab\";\n                        });\n                        return (_b = (_a = customKey === null || customKey === void 0 ? void 0 : customKey.run) === null || _a === void 0 ? void 0 : _a.call(customKey, view)) !== null && _b !== void 0 ? _b : true;\n                    },\n                },\n                {\n                    key: \"Shift-Tab\",\n                    run: function (view) {\n                        var _a, _b;\n                        indentLess({ state: view.state, dispatch: view.dispatch });\n                        var customKey = extensionsKeymap.find(function (_a) {\n                            var key = _a.key;\n                            return key === \"Shift-Tab\";\n                        });\n                        return (_b = (_a = customKey === null || customKey === void 0 ? void 0 : customKey.run) === null || _a === void 0 ? void 0 : _a.call(customKey, view)) !== null && _b !== void 0 ? _b : true;\n                    },\n                },\n                {\n                    key: \"Escape\",\n                    run: function () {\n                        if (readOnly)\n                            return true;\n                        if (wrapper.current) {\n                            wrapper.current.focus();\n                        }\n                        return true;\n                    },\n                },\n                {\n                    key: \"mod-Backspace\",\n                    run: deleteGroupBackward,\n                },\n            ];\n            var extensionList = __spreadArray(__spreadArray([\n                highlightSpecialChars(),\n                history(),\n                closeBrackets()\n            ], extensions, true), [\n                keymap.of(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], closeBracketsKeymap, true), defaultKeymap, true), historyKeymap, true), customCommandsKeymap, true), extensionsKeymap, true)),\n                langSupport,\n                getEditorTheme(),\n                syntaxHighlighting(highlightTheme),\n            ], false);\n            if (readOnly) {\n                extensionList.push(EditorState.readOnly.of(true));\n                extensionList.push(EditorView.editable.of(false));\n            }\n            else {\n                extensionList.push(bracketMatching());\n                extensionList.push(highlightActiveLine());\n            }\n            if (sortedDecorators) {\n                extensionList.push(highlightDecorators(sortedDecorators));\n            }\n            if (wrapContent) {\n                extensionList.push(EditorView.lineWrapping);\n            }\n            if (showLineNumbers) {\n                extensionList.push(lineNumbers());\n            }\n            if (showInlineErrors) {\n                extensionList.push(highlightInlineError());\n            }\n            // Add new hightlight decorators\n            cmView.current.dispatch({\n                effects: StateEffect.reconfigure.of(extensionList),\n            });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        shouldInitEditor,\n        sortedDecorators,\n        showLineNumbers,\n        wrapContent,\n        themeId,\n        readOnly,\n        autoReload,\n    ]);\n    React.useEffect(function applyExtensions() {\n        var view = cmView.current;\n        var dependenciesAreDiff = !shallowEqual(extensions, prevExtension.current) ||\n            !shallowEqual(extensionsKeymap, prevExtensionKeymap.current);\n        if (view && dependenciesAreDiff) {\n            view.dispatch({\n                effects: StateEffect.appendConfig.of(extensions),\n            });\n            view.dispatch({\n                effects: StateEffect.appendConfig.of(keymap.of(__spreadArray([], extensionsKeymap, true))),\n            });\n            prevExtension.current = extensions;\n            prevExtensionKeymap.current = extensionsKeymap;\n        }\n    }, [extensions, extensionsKeymap]);\n    React.useEffect(function () {\n        // When the user clicks on a tab button on a larger screen\n        // Avoid autofocus on mobile as it leads to a bad experience and an unexpected layout shift\n        if (cmView.current &&\n            editorState === \"dirty\" &&\n            window.matchMedia(\"(min-width: 768px)\").matches) {\n            cmView.current.contentDOM.focus();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    // Update editor when code passed as prop from outside sandpack changes\n    React.useEffect(function () {\n        if (cmView.current && typeof code === \"string\" && code !== internalCode) {\n            var view = cmView.current;\n            var selection = view.state.selection.ranges.some(function (_a) {\n                var to = _a.to, from = _a.from;\n                return to > code.length || from > code.length;\n            })\n                ? EditorSelection.cursor(code.length)\n                : view.state.selection;\n            var changes = { from: 0, to: view.state.doc.length, insert: code };\n            view.dispatch({ changes: changes, selection: selection });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [code]);\n    React.useEffect(function messageToInlineError() {\n        if (!showInlineErrors)\n            return;\n        var unsubscribe = listen(function (message) {\n            var view = cmView.current;\n            if (message.type === \"success\") {\n                view === null || view === void 0 ? void 0 : view.dispatch({\n                    // @ts-ignore\n                    annotations: [new Annotation(\"remove-errors\", true)],\n                });\n            }\n            else if (message.type === \"action\" &&\n                message.action === \"show-error\" &&\n                message.path === filePath &&\n                message.line) {\n                view === null || view === void 0 ? void 0 : view.dispatch({\n                    // @ts-ignore\n                    annotations: [new Annotation(\"show-error\", message.line)],\n                });\n            }\n        });\n        return function () { return unsubscribe(); };\n    }, [listen, showInlineErrors]);\n    var handleContainerKeyDown = function (evt) {\n        if (evt.key === \"Enter\" && cmView.current) {\n            evt.preventDefault();\n            cmView.current.contentDOM.focus();\n        }\n    };\n    var gutterLineOffset = function () {\n        // padding-left\n        var offset = 4;\n        if (showLineNumbers) {\n            // line-number-gutter-width + gutter-padding\n            offset += 6;\n        }\n        // line-padding\n        if (!readOnly) {\n            offset += 1;\n        }\n        return \"var(--\".concat(THEME_PREFIX, \"-space-\").concat(offset, \")\");\n    };\n    if (readOnly) {\n        return (jsxs(Fragment, { children: [jsx(\"pre\", { ref: combinedRef, className: classNames(\"cm\", [\n                        classNames(editorState),\n                        classNames(languageExtension),\n                        cmClassName,\n                        tokensClassName,\n                    ]), translate: \"no\", children: jsx(\"code\", { className: classNames(\"pre-placeholder\", [placeholderClassName]), style: { marginLeft: gutterLineOffset() }, children: syntaxHighlightRender }) }), readOnly && showReadOnly && (jsx(\"span\", __assign({ className: classNames(\"read-only\", [readOnlyClassName]) }, ({}), { children: \"Read-only\" })))] }));\n    }\n    return (jsx(\"div\", { ref: combinedRef, \"aria-autocomplete\": \"list\", \"aria-label\": filePath ? \"Code Editor for \".concat(getFileName(filePath)) : \"Code Editor\", \"aria-multiline\": \"true\", className: classNames(\"cm\", [\n            classNames(editorState),\n            classNames(languageExtension),\n            cmClassName,\n            tokensClassName,\n        ]), onKeyDown: handleContainerKeyDown, role: \"textbox\", tabIndex: 0, translate: \"no\", suppressHydrationWarning: true, children: jsx(\"pre\", { className: classNames(\"pre-placeholder\", [placeholderClassName]), style: { marginLeft: gutterLineOffset() }, children: syntaxHighlightRender }) }));\n});\n\nvar SandpackCodeEditor = forwardRef(function (_a, ref) {\n    var showTabs = _a.showTabs, _b = _a.showLineNumbers, showLineNumbers = _b === void 0 ? false : _b, _c = _a.showInlineErrors, showInlineErrors = _c === void 0 ? false : _c, _d = _a.showRunButton, showRunButton = _d === void 0 ? true : _d, _e = _a.wrapContent, wrapContent = _e === void 0 ? false : _e, _f = _a.closableTabs, closableTabs = _f === void 0 ? false : _f, initMode = _a.initMode, extensions = _a.extensions, extensionsKeymap = _a.extensionsKeymap, readOnly = _a.readOnly, showReadOnly = _a.showReadOnly, additionalLanguages = _a.additionalLanguages, className = _a.className, props = __rest(_a, [\"showTabs\", \"showLineNumbers\", \"showInlineErrors\", \"showRunButton\", \"wrapContent\", \"closableTabs\", \"initMode\", \"extensions\", \"extensionsKeymap\", \"readOnly\", \"showReadOnly\", \"additionalLanguages\", \"className\"]);\n    var sandpack = useSandpack().sandpack;\n    var _g = useActiveCode(), code = _g.code, updateCode = _g.updateCode, readOnlyFile = _g.readOnly;\n    var activeFile = sandpack.activeFile, status = sandpack.status, editorState = sandpack.editorState;\n    var shouldShowTabs = showTabs !== null && showTabs !== void 0 ? showTabs : sandpack.visibleFiles.length > 1;\n    var classNames = useClassNames();\n    var handleCodeUpdate = function (newCode, shouldUpdatePreview) {\n        if (shouldUpdatePreview === void 0) { shouldUpdatePreview = true; }\n        updateCode(newCode, shouldUpdatePreview);\n    };\n    return (jsxs(SandpackStack, __assign({ className: classNames(\"editor\", [className]) }, props, { children: [shouldShowTabs && jsx(FileTabs, { closableTabs: closableTabs }), jsxs(\"div\", { className: classNames(\"code-editor\", [editorClassName]), children: [jsx(CodeMirror, { ref: ref, additionalLanguages: additionalLanguages, code: code, editorState: editorState, extensions: extensions, extensionsKeymap: extensionsKeymap, filePath: activeFile, initMode: initMode || sandpack.initMode, onCodeUpdate: function (newCode) { var _a; return handleCodeUpdate(newCode, (_a = sandpack.autoReload) !== null && _a !== void 0 ? _a : true); }, readOnly: readOnly || readOnlyFile, showInlineErrors: showInlineErrors, showLineNumbers: showLineNumbers, showReadOnly: showReadOnly, wrapContent: wrapContent }, activeFile), showRunButton && (!sandpack.autoReload || status === \"idle\") ? (jsx(RunButton$1, {})) : null] })] })));\n});\n\nvar SandpackCodeViewer = React.forwardRef(function (_a, ref) {\n    var showTabs = _a.showTabs, showLineNumbers = _a.showLineNumbers, decorators = _a.decorators, propCode = _a.code, initMode = _a.initMode, wrapContent = _a.wrapContent, additionalLanguages = _a.additionalLanguages, props = __rest(_a, [\"showTabs\", \"showLineNumbers\", \"decorators\", \"code\", \"initMode\", \"wrapContent\", \"additionalLanguages\"]);\n    var sandpack = useSandpack().sandpack;\n    var code = useActiveCode().code;\n    var classNames = useClassNames();\n    var shouldShowTabs = showTabs !== null && showTabs !== void 0 ? showTabs : sandpack.visibleFiles.length > 1;\n    return (jsxs(SandpackStack, __assign({ className: classNames(\"editor-viewer\") }, props, { children: [shouldShowTabs ? jsx(FileTabs, {}) : null, jsx(\"div\", { className: classNames(\"code-editor\", [editorClassName]), children: jsx(CodeMirror, { ref: ref, additionalLanguages: additionalLanguages, code: propCode !== null && propCode !== void 0 ? propCode : code, decorators: decorators, filePath: sandpack.activeFile, initMode: initMode || sandpack.initMode, showLineNumbers: showLineNumbers, showReadOnly: false, wrapContent: wrapContent, readOnly: true }) }), sandpack.status === \"idle\" ? jsx(RunButton$1, {}) : null] })));\n});\n\nvar _a$4, _b;\nvar layoutClassName = css((_a$4 = {\n        border: \"1px solid $colors$surface2\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        alignItems: \"stretch\",\n        borderRadius: \"$border$radius\",\n        overflow: \"hidden\",\n        position: \"relative\",\n        backgroundColor: \"$colors$surface2\",\n        gap: 1\n    },\n    _a$4[\"> .\".concat(stackClassName)] = {\n        flexGrow: 1,\n        flexShrink: 1,\n        flexBasis: \"0\",\n        height: \"$layout$height\",\n        overflow: \"hidden\",\n        \"@media print\": {\n            height: \"auto\",\n            display: \"block\",\n        },\n        \"@media screen and (max-width: 768px)\": (_b = {},\n            _b[\"&:not(.\".concat(THEME_PREFIX, \"-preview, .\").concat(THEME_PREFIX, \"-editor, .\").concat(THEME_PREFIX, \"-preset-column)\")] = {\n                height: \"calc($layout$height / 2)\",\n            },\n            /* triggers the layout break at the 768px breakpoint, not when the component is less then 700px */\n            _b.minWidth = \"100%;\",\n            _b),\n    },\n    _a$4[\"> .\".concat(THEME_PREFIX, \"-file-explorer\")] = {\n        flex: 0.2,\n        minWidth: 200,\n        \"@media screen and (max-width: 768px)\": {\n            flex: 1,\n        },\n    },\n    _a$4));\nvar SandpackLayout = React.forwardRef(function (_a, ref) {\n    var children = _a.children, className = _a.className, props = __rest(_a, [\"children\", \"className\"]);\n    var sandpack = useSandpack().sandpack;\n    var classNames = useClassNames();\n    var combinedRef = useCombinedRefs(sandpack.lazyAnchorRef, ref);\n    return (jsx(\"div\", __assign({ ref: combinedRef, className: classNames(\"layout\", [layoutClassName, className]) }, props, { children: children })));\n});\n\n/**\n * @category Hooks\n */\nvar useErrorMessage = function () {\n    var _a;\n    var sandpack = useSandpack().sandpack;\n    var error = sandpack.error;\n    return (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : null;\n};\n\nvar FADE_ANIMATION_DURATION = 200;\n/**\n * @category Hooks\n */\nvar useLoadingOverlayState = function (clientId, externalLoading) {\n    var _a = useSandpack(), sandpack = _a.sandpack, listen = _a.listen;\n    var _b = React.useState(\"LOADING\"), state = _b[0], setState = _b[1];\n    /**\n     * Sandpack listener\n     */\n    React.useEffect(function () {\n        var unsubscribe = listen(function (message) {\n            if (message.type === \"start\" && message.firstLoad === true) {\n                setState(\"LOADING\");\n            }\n            if (message.type === \"done\") {\n                setState(function (prev) {\n                    return prev === \"LOADING\" ? \"PRE_FADING\" : \"HIDDEN\";\n                });\n            }\n        }, clientId);\n        return function () {\n            unsubscribe();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [clientId, sandpack.status === \"idle\"]);\n    /**\n     * Fading transient state\n     */\n    React.useEffect(function () {\n        var fadeTimeout;\n        if (state === \"PRE_FADING\" && !externalLoading) {\n            setState(\"FADING\");\n        }\n        else if (state === \"FADING\") {\n            fadeTimeout = setTimeout(function () { return setState(\"HIDDEN\"); }, FADE_ANIMATION_DURATION);\n        }\n        return function () {\n            clearTimeout(fadeTimeout);\n        };\n    }, [state, externalLoading]);\n    if (sandpack.status === \"timeout\") {\n        return \"TIMEOUT\";\n    }\n    if (sandpack.status !== \"running\") {\n        return \"HIDDEN\";\n    }\n    return state;\n};\n\n/**\n * @category Hooks\n */\nvar useSandpackNavigation = function (clientId) {\n    var dispatch = useSandpack().dispatch;\n    return {\n        refresh: function () { return dispatch({ type: \"refresh\" }, clientId); },\n        back: function () { return dispatch({ type: \"urlback\" }, clientId); },\n        forward: function () { return dispatch({ type: \"urlforward\" }, clientId); },\n    };\n};\n\nfunction getTranspiledCode(sandpack) {\n    var _a, _b;\n    var activeFile = sandpack.activeFile, bundlerState = sandpack.bundlerState;\n    if (bundlerState == null) {\n        return null;\n    }\n    var tModule = bundlerState.transpiledModules[activeFile + \":\"];\n    return (_b = (_a = tModule === null || tModule === void 0 ? void 0 : tModule.source) === null || _a === void 0 ? void 0 : _a.compiledCode) !== null && _b !== void 0 ? _b : null;\n}\n/**\n * @category Hooks\n */\nvar useTranspiledCode = function () {\n    var sandpack = useSandpack().sandpack;\n    if (sandpack.status !== \"running\") {\n        return null;\n    }\n    return getTranspiledCode(sandpack);\n};\n\n/**\n * It registers a new sandpack client and returns its instance,\n * listeners, and dispatch function. Using it when creating a custom\n * component to interact directly with the client is recommended.\n * For other cases, use `useSandpack` instead.\n *\n * @category Hooks\n */\nvar useSandpackClient = function (clientPropsOverride) {\n    var _a = useSandpack(), sandpack = _a.sandpack, listen = _a.listen, dispatch = _a.dispatch;\n    var iframeRef = React.useRef(null);\n    var clientId = React.useRef(generateRandomId());\n    React.useEffect(function () {\n        var iframeElement = iframeRef.current;\n        var clientIdValue = clientId.current;\n        if (iframeElement !== null) {\n            sandpack.registerBundler(iframeElement, clientIdValue, clientPropsOverride);\n        }\n        return function () { return sandpack.unregisterBundler(clientIdValue); };\n    }, []);\n    var getClient = function () {\n        return sandpack.clients[clientId.current] || null;\n    };\n    return {\n        sandpack: sandpack,\n        getClient: getClient,\n        clientId: clientId.current,\n        iframe: iframeRef,\n        listen: function (listener) {\n            return listen(listener, clientId.current);\n        },\n        dispatch: function (message) { return dispatch(message, clientId.current); },\n    };\n};\n\n/**\n * @category Hooks\n */\nvar useSandpackShell = function (clientId) {\n    var dispatch = useSandpack().dispatch;\n    return {\n        restart: function () { return dispatch({ type: \"shell/restart\" }, clientId); },\n        openPreview: function () { return dispatch({ type: \"shell/openPreview\" }, clientId); },\n    };\n};\n\nvar mapProgressMessage = function (originalMessage, firstTotalPending) {\n    var _a;\n    switch (originalMessage.state) {\n        case \"downloading_manifest\":\n            return \"[1/3] Downloading manifest\";\n        case \"downloaded_module\":\n            return \"[2/3] Downloaded \".concat(originalMessage.name, \" (\").concat(firstTotalPending - originalMessage.totalPending, \"/\").concat(firstTotalPending, \")\");\n        case \"starting_command\":\n            return \"[3/3] Starting command\";\n        case \"command_running\":\n            return \"[3/3] Running \\\"\".concat((_a = originalMessage.command) === null || _a === void 0 ? void 0 : _a.trim(), \"\\\"\");\n    }\n};\nvar useSandpackPreviewProgress = function (props) {\n    var _a = React.useState(false), isReady = _a[0], setIsReady = _a[1];\n    var _b = React.useState(), totalDependencies = _b[0], setTotalDependencies = _b[1];\n    var _c = React.useState(null), loadingMessage = _c[0], setLoadingMessage = _c[1];\n    var timeout = props === null || props === void 0 ? void 0 : props.timeout;\n    var clientId = props === null || props === void 0 ? void 0 : props.clientId;\n    var listen = useSandpack().listen;\n    React.useEffect(function () {\n        var timer;\n        var unsubscribe = listen(function (message) {\n            if (message.type === \"start\" && message.firstLoad) {\n                setIsReady(false);\n            }\n            if (timeout) {\n                timer = setTimeout(function () {\n                    setLoadingMessage(null);\n                }, timeout);\n            }\n            if (message.type === \"dependencies\") {\n                setLoadingMessage(function () {\n                    switch (message.data.state) {\n                        case \"downloading_manifest\":\n                            return \"[1/3] Downloading manifest\";\n                        case \"downloaded_module\":\n                            return \"[2/3] Downloaded \".concat(message.data.name, \" (\").concat(message.data.progress, \"/\").concat(message.data.total, \")\");\n                        case \"starting\":\n                            return \"[3/3] Starting\";\n                    }\n                    return null;\n                });\n            }\n            else if (message.type === \"shell/progress\" && !isReady) {\n                if (!totalDependencies && message.data.state === \"downloaded_module\") {\n                    setTotalDependencies(message.data.totalPending);\n                }\n                if (totalDependencies !== undefined) {\n                    setLoadingMessage(mapProgressMessage(message.data, totalDependencies));\n                }\n            }\n            if (message.type === \"done\" && message.compilatonError === false) {\n                setLoadingMessage(null);\n                setIsReady(true);\n                clearTimeout(timer);\n            }\n        }, clientId);\n        return function () {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            unsubscribe();\n        };\n    }, [clientId, isReady, totalDependencies, timeout]);\n    return loadingMessage;\n};\n\nvar MAX_MESSAGE_COUNT$1 = 400 * 2;\nvar useSandpackShellStdout = function (_a) {\n    var clientId = _a.clientId, _b = _a.maxMessageCount, maxMessageCount = _b === void 0 ? MAX_MESSAGE_COUNT$1 : _b; _a.resetOnPreviewRestart;\n    var _d = React.useState([]), logs = _d[0], setLogs = _d[1];\n    var listen = useSandpack().listen;\n    React.useEffect(function () {\n        var unsubscribe = listen(function (message) {\n            if (message.type === \"start\") {\n                setLogs([]);\n            }\n            else if (message.type === \"stdout\" &&\n                message.payload.data &&\n                Boolean(message.payload.data.trim())) {\n                setLogs(function (prev) {\n                    var messages = __spreadArray(__spreadArray([], prev, true), [\n                        { data: message.payload.data, id: generateRandomId() },\n                    ], false);\n                    while (messages.length > maxMessageCount) {\n                        messages.shift();\n                    }\n                    return messages;\n                });\n            }\n        }, clientId);\n        return unsubscribe;\n    }, [maxMessageCount, clientId]);\n    return { logs: logs, reset: function () { return setLogs([]); } };\n};\n\nvar mapBundlerErrors = function (originalMessage) {\n    var errorMessage = originalMessage.replace(\"[sandpack-client]: \", \"\");\n    if (/process.exit/.test(errorMessage)) {\n        var exitCode = errorMessage.match(/process.exit\\((\\d+)\\)/);\n        if (!exitCode)\n            return errorMessage;\n        // Crash\n        if (Number(exitCode[1]) === 0) {\n            return \"Server is not running, would you like to start it again?\";\n        }\n        return \"Server has crashed with status code \".concat(exitCode[1], \", would you like to restart the server?\");\n    }\n    return errorMessage;\n};\nvar ErrorOverlay = function (props) {\n    var children = props.children, className = props.className, otherProps = __rest(props, [\"children\", \"className\"]);\n    var errorMessage = useErrorMessage();\n    var restart = useSandpackShell().restart;\n    var classNames = useClassNames();\n    var _a = useSandpack().sandpack, runSandpack = _a.runSandpack, teamId = _a.teamId;\n    var dispatch = useSandpack().dispatch;\n    if (!errorMessage && !children) {\n        return null;\n    }\n    var isSandpackBundlerError = errorMessage === null || errorMessage === void 0 ? void 0 : errorMessage.startsWith(\"[sandpack-client]\");\n    var privateDependencyError = errorMessage === null || errorMessage === void 0 ? void 0 : errorMessage.includes(\"NPM_REGISTRY_UNAUTHENTICATED_REQUEST\");\n    var onSignIn = function () {\n        if (teamId) {\n            dispatch({ type: \"sign-in\", teamId: teamId });\n        }\n    };\n    if (privateDependencyError) {\n        return (jsxs(\"div\", __assign({ className: classNames(\"overlay\", [\n                classNames(\"error\"),\n                absoluteClassName,\n                errorBundlerClassName,\n                className,\n            ]) }, props, { children: [jsx(\"p\", { className: classNames(\"error-message\", [errorMessageClassName]), children: jsx(\"strong\", { children: \"Unable to fetch required dependency.\" }) }), jsx(\"div\", { className: classNames(\"error-message\", [errorMessageClassName]), children: jsxs(\"p\", { children: [\"Authentication required. Please sign in to your account (make sure to allow pop-ups to this page) and try again. If the issue persists, contact\", \" \", jsx(\"a\", { href: \"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error\", children: \"support\" }), \" \", \"for further assistance.\"] }) }), jsx(\"div\", { children: jsxs(\"button\", { className: classNames(\"button\", [\n                            buttonClassName,\n                            iconStandaloneClassName,\n                            roundedButtonClassName,\n                        ]), onClick: onSignIn, children: [jsx(SignInIcon, {}), jsx(\"span\", { children: \"Sign in\" })] }) })] })));\n    }\n    if (isSandpackBundlerError && errorMessage) {\n        return (jsx(\"div\", __assign({ className: classNames(\"overlay\", [\n                classNames(\"error\"),\n                absoluteClassName,\n                errorBundlerClassName,\n                className,\n            ]) }, otherProps, { children: jsxs(\"div\", { className: classNames(\"error-message\", [errorMessageClassName]), children: [jsx(\"p\", { className: classNames(\"error-title\", [css({ fontWeight: \"bold\" })]), children: \"Couldn't connect to server\" }), jsx(\"p\", { children: mapBundlerErrors(errorMessage) }), jsx(\"div\", { children: jsxs(\"button\", { className: classNames(\"button\", [\n                                classNames(\"icon-standalone\"),\n                                buttonClassName,\n                                iconStandaloneClassName,\n                                roundedButtonClassName,\n                            ]), onClick: function () {\n                                restart();\n                                runSandpack();\n                            }, title: \"Restart script\", type: \"button\", children: [jsx(RestartIcon, {}), \" \", jsx(\"span\", { children: \"Restart\" })] }) })] }) })));\n    }\n    return (jsxs(\"div\", __assign({ className: classNames(\"overlay\", [\n            classNames(\"error\"),\n            absoluteClassName,\n            errorClassName({ solidBg: true }),\n            className,\n        ]), translate: \"no\" }, otherProps, { children: [jsx(\"p\", { className: classNames(\"error-message\", [errorMessageClassName]), children: jsx(\"strong\", { children: \"Something went wrong\" }) }), jsx(\"p\", { className: classNames(\"error-message\", [\n                    errorMessageClassName({ errorCode: true }),\n                ]), children: errorMessage || children })] })));\n};\n\n/**\n * Stole from https://github.com/nteract/ansi-to-react/blob/master/src/index.ts\n */\n/**\n * Converts ANSI strings into JSON output.\n * @name ansiToJSON\n * @function\n * @param {String} input The input string.\n * @param {boolean} use_classes If `true`, HTML classes will be appended\n *                              to the HTML output.\n * @return {Array} The parsed input.\n */\nfunction ansiToJSON(input, use_classes) {\n    if (use_classes === void 0) { use_classes = false; }\n    input = escapeCarriageReturn(fixBackspace(input));\n    return Anser.ansiToJson(input, {\n        json: true,\n        remove_empty: true,\n        use_classes: use_classes,\n    });\n}\n/**\n * Create a class string.\n * @name createClass\n * @function\n * @param {AnserJsonEntry} bundle\n * @return {String} class name(s)\n */\nfunction createClass(bundle) {\n    var classNames = \"\";\n    if (bundle.bg) {\n        classNames += \"\".concat(bundle.bg, \"-bg \");\n    }\n    if (bundle.fg) {\n        classNames += \"\".concat(bundle.fg, \"-fg \");\n    }\n    if (bundle.decoration) {\n        classNames += \"ansi-\".concat(bundle.decoration, \" \");\n    }\n    if (classNames === \"\") {\n        return null;\n    }\n    classNames = classNames.substring(0, classNames.length - 1);\n    return classNames;\n}\n/**\n * Create the style attribute.\n * @name createStyle\n * @function\n * @param {AnserJsonEntry} bundle\n * @return {Object} returns the style object\n */\nfunction createStyle(bundle) {\n    var style = {};\n    if (bundle.bg) {\n        style.backgroundColor = \"rgb(\".concat(bundle.bg, \")\");\n    }\n    if (bundle.fg) {\n        style.color = \"rgb(\".concat(bundle.fg, \")\");\n    }\n    switch (bundle.decoration) {\n        case \"bold\":\n            style.fontWeight = \"bold\";\n            break;\n        case \"dim\":\n            style.opacity = \"0.5\";\n            break;\n        case \"italic\":\n            style.fontStyle = \"italic\";\n            break;\n        case \"hidden\":\n            style.visibility = \"hidden\";\n            break;\n        case \"strikethrough\":\n            style.textDecoration = \"line-through\";\n            break;\n        case \"underline\":\n            style.textDecoration = \"underline\";\n            break;\n        case \"blink\":\n            style.textDecoration = \"blink\";\n            break;\n    }\n    return style;\n}\n/**\n * Converts an Anser bundle into a React Node.\n * @param linkify whether links should be converting into clickable anchor tags.\n * @param useClasses should render the span with a class instead of style.\n * @param bundle Anser output.\n * @param key\n */\nfunction convertBundleIntoReact(linkify, useClasses, bundle, key) {\n    var style = useClasses ? null : createStyle(bundle);\n    var className = useClasses ? createClass(bundle) : null;\n    if (!linkify) {\n        return React.createElement(\"span\", { style: style, key: key, className: className }, bundle.content);\n    }\n    var content = [];\n    var linkRegex = /(\\s|^)(https?:\\/\\/(?:www\\.|(?!www))[^\\s.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/g;\n    var index = 0;\n    var match;\n    while ((match = linkRegex.exec(bundle.content)) !== null) {\n        var pre = match[1], url = match[2];\n        var startIndex = match.index + pre.length;\n        if (startIndex > index) {\n            content.push(bundle.content.substring(index, startIndex));\n        }\n        // Make sure the href we generate from the link is fully qualified. We assume http\n        // if it starts with a www because many sites don't support https\n        var href = url.startsWith(\"www.\") ? \"http://\".concat(url) : url;\n        content.push(React.createElement(\"a\", {\n            key: index,\n            href: href,\n            target: \"_blank\",\n        }, \"\".concat(url)));\n        index = linkRegex.lastIndex;\n    }\n    if (index < bundle.content.length) {\n        content.push(bundle.content.substring(index));\n    }\n    return React.createElement(\"span\", { style: style, key: key, className: className }, content);\n}\nfunction Ansi(props) {\n    var className = props.className, useClasses = props.useClasses, children = props.children, linkify = props.linkify;\n    return React.createElement(\"code\", { className: className }, ansiToJSON(children !== null && children !== void 0 ? children : \"\", useClasses !== null && useClasses !== void 0 ? useClasses : false).map(convertBundleIntoReact.bind(null, linkify !== null && linkify !== void 0 ? linkify : false, useClasses !== null && useClasses !== void 0 ? useClasses : false)));\n}\n// This is copied from the Jupyter Classic source code\n// notebook/static/base/js/utils.js to handle \\b in a way\n// that is **compatible with Jupyter classic**.   One can\n// argue that this behavior is questionable:\n//   https://stackoverflow.com/questions/55440152/multiple-b-doesnt-work-as-expected-in-jupyter#\nfunction fixBackspace(txt) {\n    var tmp = txt;\n    do {\n        txt = tmp;\n        // Cancel out anything-but-newline followed by backspace\n        // eslint-disable-next-line no-control-regex\n        tmp = txt.replace(/[^\\n]\\x08/gm, \"\");\n    } while (tmp.length < txt.length);\n    return txt;\n}\n\nvar StdoutList = function (_a) {\n    var data = _a.data;\n    var classNames = useClassNames();\n    return (jsx(Fragment, { children: data.map(function (_a) {\n            var data = _a.data, id = _a.id;\n            return (jsx(\"div\", { className: classNames(\"console-item\", [consoleItemClassName$1]), children: jsx(Ansi, { children: data }) }, id));\n        }) }));\n};\nvar consoleItemClassName$1 = css({\n    width: \"100%\",\n    padding: \"$space$3 $space$2\",\n    fontSize: \".85em\",\n    position: \"relative\",\n    whiteSpace: \"pre\",\n    \"&:not(:first-child):after\": {\n        content: \"\",\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        height: 1,\n        background: \"$colors$surface3\",\n    },\n});\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar getParameters = function (parameters) {\n    return LZString.compressToBase64(JSON.stringify(parameters))\n        .replace(/\\+/g, \"-\") // Convert '+' to '-'\n        .replace(/\\//g, \"_\") // Convert '/' to '_'\n        .replace(/=+$/, \"\");\n}; /* Remove ending '='*/\nvar CSB_URL = \"https://codesandbox.io/api/v1/sandboxes/define\";\nvar getFileParameters = function (files, environment) {\n    var normalizedFiles = Object.keys(files).reduce(function (prev, next) {\n        var _a;\n        var fileName = next.replace(\"/\", \"\");\n        var value = {\n            content: files[next].code,\n            isBinary: false,\n        };\n        return __assign(__assign({}, prev), (_a = {}, _a[fileName] = value, _a));\n    }, {});\n    return getParameters(__assign({ files: normalizedFiles }, (environment ? { template: environment } : null)));\n};\nvar UnstyledOpenInCodeSandboxButton = function (props) {\n    var sandpack = useSandpack().sandpack;\n    if (sandpack.exportOptions) {\n        return jsx(ExportToWorkspaceButton, __assign({ state: sandpack }, props));\n    }\n    return jsx(RegularExportButton, __assign({ state: sandpack }, props));\n};\nvar ExportToWorkspaceButton = function (_a) {\n    var children = _a.children, state = _a.state, props = __rest(_a, [\"children\", \"state\"]);\n    var submit = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var normalizedFiles, response, data;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!((_a = state.exportOptions) === null || _a === void 0 ? void 0 : _a.apiToken)) {\n                        throw new Error(\"Missing `apiToken` property\");\n                    }\n                    normalizedFiles = Object.keys(state.files).reduce(function (prev, next) {\n                        var _a;\n                        var fileName = next.replace(\"/\", \"\");\n                        return __assign(__assign({}, prev), (_a = {}, _a[fileName] = state.files[next], _a));\n                    }, {});\n                    return [4 /*yield*/, fetch(\"https://api.codesandbox.io/sandbox\", {\n                            method: \"POST\",\n                            body: JSON.stringify({\n                                template: state.environment,\n                                files: normalizedFiles,\n                                privacy: state.exportOptions.privacy === \"public\" ? 0 : 2,\n                            }),\n                            headers: {\n                                Authorization: \"Bearer \".concat(state.exportOptions.apiToken),\n                                \"Content-Type\": \"application/json\",\n                                \"X-CSB-API-Version\": \"2023-07-01\",\n                            },\n                        })];\n                case 1:\n                    response = _b.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    data = _b.sent();\n                    window.open(\"https://codesandbox.io/p/sandbox/\".concat(data.data.alias, \"?file=/\").concat(state.activeFile, \"&utm-source=storybook-addon\"), \"_blank\");\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    return (jsx(\"button\", __assign({ onClick: submit, title: \"Export to workspace in CodeSandbox\", type: \"button\" }, props, { children: children })));\n};\nvar RegularExportButton = function (_a) {\n    var _b, _c, _d;\n    var children = _a.children, state = _a.state, props = __rest(_a, [\"children\", \"state\"]);\n    var formRef = React.useRef(null);\n    var _e = React.useState(), paramsValues = _e[0], setParamsValues = _e[1];\n    React.useEffect(function debounce() {\n        var timer = setTimeout(function () {\n            var params = getFileParameters(state.files, state.environment);\n            var searchParams = new URLSearchParams({\n                parameters: params,\n                query: new URLSearchParams({\n                    file: state.activeFile,\n                    utm_medium: \"sandpack\",\n                }).toString(),\n            });\n            setParamsValues(searchParams);\n        }, 600);\n        return function () {\n            clearTimeout(timer);\n        };\n    }, [state.activeFile, state.environment, state.files]);\n    /**\n     * This is a safe limit to avoid too long requests (401),\n     * as all parameters are attached in the URL\n     */\n    if (((_d = (_c = (_b = paramsValues === null || paramsValues === void 0 ? void 0 : paramsValues.get) === null || _b === void 0 ? void 0 : _b.call(paramsValues, \"parameters\")) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 1500) {\n        return (jsxs(\"button\", __assign({ onClick: function () { var _a; return (_a = formRef.current) === null || _a === void 0 ? void 0 : _a.submit(); }, title: \"Open in CodeSandbox\", type: \"button\" }, props, { children: [jsxs(\"form\", { ref: formRef, action: CSB_URL, method: \"POST\", style: { visibility: \"hidden\" }, target: \"_blank\", children: [jsx(\"input\", { name: \"environment\", type: \"hidden\", value: state.environment === \"node\" ? \"server\" : state.environment }), Array.from(paramsValues, function (_a) {\n                            var key = _a[0], value = _a[1];\n                            return (jsx(\"input\", { name: key, type: \"hidden\", value: value }, key));\n                        })] }), children] })));\n    }\n    return (jsx(\"a\", __assign({ href: \"\".concat(CSB_URL, \"?\").concat(paramsValues === null || paramsValues === void 0 ? void 0 : paramsValues.toString(), \"&environment=\").concat(state.environment === \"node\" ? \"server\" : state.environment), rel: \"noreferrer noopener\", target: \"_blank\", title: \"Open in CodeSandbox\" }, props, { children: children })));\n};\n\nvar OpenInCodeSandboxButton = function () {\n    var classNames = useClassNames();\n    return (jsxs(UnstyledOpenInCodeSandboxButton, { className: classNames(\"button\", [\n            classNames(\"icon-standalone\"),\n            buttonClassName,\n            iconStandaloneClassName,\n            roundedButtonClassName,\n        ]), children: [jsx(ExportIcon, {}), jsx(\"span\", { children: \"Open Sandbox\" })] }));\n};\n\nvar _a$3;\nvar cubeClassName = css({\n    transform: \"translate(-4px, 9px) scale(0.13, 0.13)\",\n    \"*\": { position: \"absolute\", width: \"96px\", height: \"96px\" },\n});\nvar wrapperClassName$2 = css((_a$3 = {\n        position: \"absolute\",\n        right: \"$space$2\",\n        bottom: \"$space$2\",\n        zIndex: \"$top\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"$border$radius\"\n    },\n    _a$3[\".\".concat(cubeClassName)] = { display: \"flex\" },\n    _a$3[\".sp-button.\".concat(buttonClassName)] = { display: \"none\" },\n    _a$3[\"&:hover .sp-button.\".concat(buttonClassName)] = { display: \"flex\" },\n    _a$3[\"&:hover .sp-button.\".concat(buttonClassName, \" > span\")] = { display: \"none\" },\n    _a$3[\"&:hover .\".concat(cubeClassName)] = { display: \"none\" },\n    _a$3));\nvar cubeRotate = keyframes({\n    \"0%\": {\n        transform: \"rotateX(-25.5deg) rotateY(45deg)\",\n    },\n    \"100%\": {\n        transform: \"rotateX(-25.5deg) rotateY(405deg)\",\n    },\n});\nvar sidesClassNames = css({\n    animation: \"\".concat(cubeRotate, \" 1s linear infinite\"),\n    animationFillMode: \"forwards\",\n    transformStyle: \"preserve-3d\",\n    transform: \"rotateX(-25.5deg) rotateY(45deg)\",\n    \"*\": {\n        border: \"10px solid $colors$clickable\",\n        borderRadius: \"8px\",\n        background: \"$colors$surface1\",\n    },\n    \".top\": {\n        transform: \"rotateX(90deg) translateZ(44px)\",\n        transformOrigin: \"50% 50%\",\n    },\n    \".bottom\": {\n        transform: \"rotateX(-90deg) translateZ(44px)\",\n        transformOrigin: \"50% 50%\",\n    },\n    \".front\": {\n        transform: \"rotateY(0deg) translateZ(44px)\",\n        transformOrigin: \"50% 50%\",\n    },\n    \".back\": {\n        transform: \"rotateY(-180deg) translateZ(44px)\",\n        transformOrigin: \"50% 50%\",\n    },\n    \".left\": {\n        transform: \"rotateY(-90deg) translateZ(44px)\",\n        transformOrigin: \"50% 50%\",\n    },\n    \".right\": {\n        transform: \"rotateY(90deg) translateZ(44px)\",\n        transformOrigin: \"50% 50%\",\n    },\n});\nvar Loading = function (_a) {\n    var className = _a.className, showOpenInCodeSandbox = _a.showOpenInCodeSandbox, props = __rest(_a, [\"className\", \"showOpenInCodeSandbox\"]);\n    var classNames = useClassNames();\n    return (jsxs(\"div\", __assign({ className: classNames(\"cube-wrapper\", [wrapperClassName$2, className]), title: \"Open in CodeSandbox\" }, props, { children: [showOpenInCodeSandbox && jsx(OpenInCodeSandboxButton, {}), jsx(\"div\", { className: classNames(\"cube\", [cubeClassName]), children: jsxs(\"div\", { className: classNames(\"sides\", [sidesClassNames]), children: [jsx(\"div\", { className: \"top\" }), jsx(\"div\", { className: \"right\" }), jsx(\"div\", { className: \"bottom\" }), jsx(\"div\", { className: \"left\" }), jsx(\"div\", { className: \"front\" }), jsx(\"div\", { className: \"back\" })] }) })] })));\n};\n\nvar loadingClassName = css({\n    backgroundColor: \"$colors$surface1\",\n});\nvar LoadingOverlay = function (_a) {\n    var clientId = _a.clientId, loading = _a.loading, className = _a.className, style = _a.style, showOpenInCodeSandbox = _a.showOpenInCodeSandbox, props = __rest(_a, [\"clientId\", \"loading\", \"className\", \"style\", \"showOpenInCodeSandbox\"]);\n    var classNames = useClassNames();\n    var _b = useSandpack().sandpack, runSandpack = _b.runSandpack, environment = _b.environment;\n    var _c = React.useState(false), shouldShowStdout = _c[0], setShouldShowStdout = _c[1];\n    var loadingOverlayState = useLoadingOverlayState(clientId, loading);\n    var progressMessage = useSandpackPreviewProgress({ clientId: clientId });\n    var stdoutData = useSandpackShellStdout({ clientId: clientId }).logs;\n    React.useEffect(function () {\n        var timer;\n        if (progressMessage === null || progressMessage === void 0 ? void 0 : progressMessage.includes(\"Running\")) {\n            timer = setTimeout(function () {\n                setShouldShowStdout(true);\n            }, 3000);\n        }\n        return function () {\n            if (timer) {\n                clearTimeout(timer);\n            }\n        };\n    }, [progressMessage]);\n    if (loadingOverlayState === \"HIDDEN\") {\n        return null;\n    }\n    if (loadingOverlayState === \"TIMEOUT\") {\n        return (jsx(\"div\", __assign({ className: classNames(\"overlay\", [\n                classNames(\"error\"),\n                absoluteClassName,\n                errorClassName,\n                errorBundlerClassName,\n                className,\n            ]) }, props, { children: jsxs(\"div\", { className: classNames(\"error-message\", [errorMessageClassName]), children: [jsx(\"p\", { className: classNames(\"error-title\", [css({ fontWeight: \"bold\" })]), children: \"Couldn't connect to server\" }), jsx(\"div\", { className: classNames(\"error-message\", [errorMessageClassName]), children: jsxs(\"p\", { children: [\"This means sandpack cannot connect to the runtime or your network is having some issues. Please check the network tab in your browser and try again. If the problem persists, report it via\", \" \", jsx(\"a\", { href: \"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error\", children: \"email\" }), \" \", \"or submit an issue on\", \" \", jsx(\"a\", { href: \"https://github.com/codesandbox/sandpack/issues\", rel: \"noreferrer noopener\", target: \"_blank\", children: \"GitHub.\" })] }) }), jsxs(\"p\", { className: classNames(\"error-message\", [\n                            errorMessageClassName({ errorCode: true }),\n                        ]), children: [\"ENV: \", environment, jsx(\"br\", {}), \"ERROR: TIME_OUT\"] }), jsx(\"div\", { children: jsxs(\"button\", { className: classNames(\"button\", [\n                                classNames(\"icon-standalone\"),\n                                buttonClassName,\n                                iconStandaloneClassName,\n                                roundedButtonClassName,\n                            ]), onClick: runSandpack, title: \"Restart script\", type: \"button\", children: [jsx(RestartIcon, {}), \" \", jsx(\"span\", { children: \"Try again\" })] }) })] }) })));\n    }\n    var stillLoading = loadingOverlayState === \"LOADING\" || loadingOverlayState === \"PRE_FADING\";\n    return (jsxs(Fragment, { children: [jsxs(\"div\", __assign({ className: classNames(\"overlay\", [\n                    classNames(\"loading\"),\n                    absoluteClassName,\n                    loadingClassName,\n                    className,\n                ]), style: __assign(__assign({}, style), { opacity: stillLoading ? 1 : 0, transition: \"opacity \".concat(FADE_ANIMATION_DURATION, \"ms ease-out\") }) }, props, { children: [shouldShowStdout && (jsx(\"div\", { className: stdoutPreview.toString(), children: jsx(StdoutList, { data: stdoutData }) })), jsx(Loading, { showOpenInCodeSandbox: showOpenInCodeSandbox })] })), progressMessage && (jsx(\"div\", { className: progressClassName$1.toString(), children: jsx(\"p\", { children: progressMessage }) }))] }));\n};\nvar stdoutPreview = css({\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    bottom: \"$space$8\",\n    overflow: \"auto\",\n    opacity: 0.5,\n    overflowX: \"hidden\",\n});\nvar progressClassName$1 = css({\n    position: \"absolute\",\n    left: \"$space$5\",\n    bottom: \"$space$4\",\n    zIndex: \"$top\",\n    color: \"$colors$clickable\",\n    animation: \"\".concat(fadeIn, \" 150ms ease\"),\n    fontFamily: \"$font$mono\",\n    fontSize: \".8em\",\n    width: \"75%\",\n    p: {\n        whiteSpace: \"nowrap\",\n        margin: 0,\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n    },\n});\n\nvar DependenciesProgress = function (_a) {\n    var clientId = _a.clientId;\n    var progressMessage = useSandpackPreviewProgress({\n        timeout: 3000,\n        clientId: clientId,\n    });\n    if (!progressMessage) {\n        return null;\n    }\n    return (jsx(\"div\", { className: progressClassName.toString(), children: jsx(\"p\", { children: progressMessage }) }));\n};\nvar progressClassName = css({\n    position: \"absolute\",\n    left: \"$space$5\",\n    bottom: \"$space$4\",\n    zIndex: \"$top\",\n    color: \"$colors$clickable\",\n    animation: \"\".concat(fadeIn, \" 150ms ease\"),\n    fontFamily: \"$font$mono\",\n    fontSize: \".8em\",\n    width: \"75%\",\n    p: {\n        whiteSpace: \"nowrap\",\n        margin: 0,\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n    },\n});\n\nvar explorerClassName = css({\n    borderRadius: \"0\",\n    width: \"100%\",\n    padding: 0,\n    marginBottom: \"$space$2\",\n    span: {\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n    },\n    svg: {\n        marginRight: \"$space$1\",\n    },\n});\nvar File = function (_a) {\n    var selectFile = _a.selectFile, path = _a.path, active = _a.active, onClick = _a.onClick, depth = _a.depth, isDirOpen = _a.isDirOpen;\n    var classNames = useClassNames();\n    var onClickButton = function (event) {\n        if (selectFile) {\n            selectFile(path);\n        }\n        onClick === null || onClick === void 0 ? void 0 : onClick(event);\n    };\n    var fileName = path.split(\"/\").filter(Boolean).pop();\n    var getIcon = function () {\n        if (selectFile)\n            return jsx(FileIcon, {});\n        return isDirOpen ? jsx(DirectoryIconOpen, {}) : jsx(DirectoryIconClosed, {});\n    };\n    return (jsxs(\"button\", { className: classNames(\"button\", [\n            classNames(\"explorer\"),\n            buttonClassName,\n            explorerClassName,\n        ]), \"data-active\": active, onClick: onClickButton, style: { paddingLeft: 18 * depth + \"px\" }, title: fileName, type: \"button\", children: [getIcon(), jsx(\"span\", { children: fileName })] }));\n};\n\nvar Directory = function (_a) {\n    var prefixedPath = _a.prefixedPath, files = _a.files, selectFile = _a.selectFile, activeFile = _a.activeFile, depth = _a.depth, autoHiddenFiles = _a.autoHiddenFiles, visibleFiles = _a.visibleFiles, initialCollapsedFolder = _a.initialCollapsedFolder;\n    var _b = React.useState(!(initialCollapsedFolder === null || initialCollapsedFolder === void 0 ? void 0 : initialCollapsedFolder.includes(prefixedPath))), open = _b[0], setOpen = _b[1];\n    var toggle = function () { return setOpen(function (prev) { return !prev; }); };\n    return (jsxs(\"div\", { children: [jsx(File, { depth: depth, isDirOpen: open, onClick: toggle, path: prefixedPath + \"/\" }), open && (jsx(ModuleList, { activeFile: activeFile, autoHiddenFiles: autoHiddenFiles, depth: depth + 1, files: files, initialCollapsedFolder: initialCollapsedFolder, prefixedPath: prefixedPath, selectFile: selectFile, visibleFiles: visibleFiles }))] }, prefixedPath));\n};\n\nvar fromPropsToModules = function (_a) {\n    var autoHiddenFiles = _a.autoHiddenFiles, visibleFiles = _a.visibleFiles, files = _a.files, prefixedPath = _a.prefixedPath;\n    var hasVisibleFilesOption = visibleFiles.length > 0;\n    /**\n     * When visibleFiles or activeFile are set, the hidden and active flags on the files prop are ignored.\n     */\n    var filterByHiddenProperty = autoHiddenFiles && !hasVisibleFilesOption;\n    var filterByVisibleFilesOption = autoHiddenFiles && !!hasVisibleFilesOption;\n    var fileListWithoutPrefix = Object.keys(files)\n        .filter(function (filePath) {\n        var _a;\n        var isValidatedPath = filePath.startsWith(prefixedPath);\n        if (filterByVisibleFilesOption) {\n            return isValidatedPath && visibleFiles.includes(filePath);\n        }\n        if (filterByHiddenProperty) {\n            return isValidatedPath && !((_a = files[filePath]) === null || _a === void 0 ? void 0 : _a.hidden);\n        }\n        return isValidatedPath;\n    })\n        .map(function (file) { return file.substring(prefixedPath.length); });\n    var directories = new Set(fileListWithoutPrefix\n        .filter(function (file) { return file.includes(\"/\"); })\n        .map(function (file) { return \"\".concat(prefixedPath).concat(file.split(\"/\")[0], \"/\"); }));\n    var modules = fileListWithoutPrefix\n        .filter(function (file) { return !file.includes(\"/\"); })\n        .map(function (file) { return \"\".concat(prefixedPath).concat(file); });\n    return { directories: Array.from(directories), modules: modules };\n};\n\nvar ModuleList = function (_a) {\n    var _b = _a.depth, depth = _b === void 0 ? 0 : _b, activeFile = _a.activeFile, selectFile = _a.selectFile, prefixedPath = _a.prefixedPath, files = _a.files, autoHiddenFiles = _a.autoHiddenFiles, visibleFiles = _a.visibleFiles, initialCollapsedFolder = _a.initialCollapsedFolder;\n    var _c = fromPropsToModules({\n        visibleFiles: visibleFiles,\n        autoHiddenFiles: autoHiddenFiles,\n        prefixedPath: prefixedPath,\n        files: files,\n    }), directories = _c.directories, modules = _c.modules;\n    return (jsxs(\"div\", { children: [directories.map(function (dir) { return (jsx(Directory, { activeFile: activeFile, autoHiddenFiles: autoHiddenFiles, depth: depth, files: files, initialCollapsedFolder: initialCollapsedFolder, prefixedPath: dir, selectFile: selectFile, visibleFiles: visibleFiles }, dir)); }), modules.map(function (file) { return (jsx(File, { active: activeFile === file, depth: depth, path: file, selectFile: selectFile }, file)); })] }));\n};\n\nvar fileExplorerClassName = css({\n    padding: \"$space$3\",\n    overflow: \"auto\",\n    height: \"100%\",\n});\nvar SandpackFileExplorer = function (_a) {\n    var className = _a.className, _b = _a.autoHiddenFiles, autoHiddenFiles = _b === void 0 ? false : _b, _c = _a.initialCollapsedFolder, initialCollapsedFolder = _c === void 0 ? [] : _c, props = __rest(_a, [\"className\", \"autoHiddenFiles\", \"initialCollapsedFolder\"]);\n    var _d = useSandpack(), _e = _d.sandpack, status = _e.status, updateFile = _e.updateFile, deleteFile = _e.deleteFile, activeFile = _e.activeFile, files = _e.files, openFile = _e.openFile, visibleFilesFromProps = _e.visibleFilesFromProps, listen = _d.listen;\n    var classNames = useClassNames();\n    React.useEffect(function watchFSFilesChanges() {\n        if (status !== \"running\")\n            return;\n        var unsubscribe = listen(function (message) {\n            if (message.type === \"fs/change\") {\n                updateFile(message.path, message.content, false);\n            }\n            if (message.type === \"fs/remove\") {\n                deleteFile(message.path, false);\n            }\n        });\n        return unsubscribe;\n    }, [status]);\n    var orderedFiles = Object.keys(files)\n        .sort()\n        .reduce(function (obj, key) {\n        obj[key] = files[key];\n        return obj;\n    }, {});\n    return (jsx(\"div\", __assign({ className: classNames(\"file-explorer\", [stackClassName, className]) }, props, { children: jsx(\"div\", { className: classNames(\"file-explorer-list\", [fileExplorerClassName]), children: jsx(ModuleList, { activeFile: activeFile, autoHiddenFiles: autoHiddenFiles, files: orderedFiles, initialCollapsedFolder: initialCollapsedFolder, prefixedPath: \"/\", selectFile: openFile, visibleFiles: visibleFilesFromProps }) }) })));\n};\n\nvar splitUrl = function (url) {\n    var match = url.match(/(https?:\\/\\/.*?)\\//);\n    if (match && match[1]) {\n        return [match[1], url.replace(match[1], \"\")];\n    }\n    return [url, \"/\"];\n};\n\nvar navigatorClassName = css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: \"$layout$headerHeight\",\n    borderBottom: \"1px solid $colors$surface2\",\n    padding: \"$space$3 $space$2\",\n    background: \"$colors$surface1\",\n});\nvar inputClassName = css({\n    backgroundColor: \"$colors$surface2\",\n    color: \"$colors$clickable\",\n    padding: \"$space$1 $space$3\",\n    borderRadius: \"99999px\",\n    border: \"1px solid $colors$surface2\",\n    height: \"24px\",\n    lineHeight: \"24px\",\n    fontSize: \"inherit\",\n    outline: \"none\",\n    flex: 1,\n    marginLeft: \"$space$4\",\n    width: \"0\",\n    transition: \"background $transitions$default\",\n    \"&:hover\": {\n        backgroundColor: \"$colors$surface3\",\n    },\n    \"&:focus\": {\n        backgroundColor: \"$surface1\",\n        border: \"1px solid $colors$accent\",\n        color: \"$colors$base\",\n    },\n});\nvar Navigator = function (_a) {\n    var _b;\n    var clientId = _a.clientId, onURLChange = _a.onURLChange, className = _a.className, startRoute = _a.startRoute, props = __rest(_a, [\"clientId\", \"onURLChange\", \"className\", \"startRoute\"]);\n    var _c = React.useState(\"\"), baseUrl = _c[0], setBaseUrl = _c[1];\n    var _d = useSandpack(), sandpack = _d.sandpack, dispatch = _d.dispatch, listen = _d.listen;\n    var _e = React.useState((_b = startRoute !== null && startRoute !== void 0 ? startRoute : sandpack.startRoute) !== null && _b !== void 0 ? _b : \"/\"), relativeUrl = _e[0], setRelativeUrl = _e[1];\n    var _f = React.useState(false), backEnabled = _f[0], setBackEnabled = _f[1];\n    var _g = React.useState(false), forwardEnabled = _g[0], setForwardEnabled = _g[1];\n    var classNames = useClassNames();\n    React.useEffect(function () {\n        var unsub = listen(function (message) {\n            if (message.type === \"urlchange\") {\n                var url = message.url, back = message.back, forward = message.forward;\n                var _a = splitUrl(url), newBaseUrl = _a[0], newRelativeUrl = _a[1];\n                setBaseUrl(newBaseUrl);\n                setRelativeUrl(newRelativeUrl);\n                setBackEnabled(back);\n                setForwardEnabled(forward);\n            }\n        }, clientId);\n        return function () { return unsub(); };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    var handleInputChange = function (e) {\n        var path = e.target.value.startsWith(\"/\")\n            ? e.target.value\n            : \"/\".concat(e.target.value);\n        setRelativeUrl(path);\n    };\n    var handleKeyDown = function (e) {\n        if (e.code === \"Enter\") {\n            //  Enter\n            e.preventDefault();\n            e.stopPropagation();\n            if (typeof onURLChange === \"function\") {\n                onURLChange(baseUrl + e.currentTarget.value);\n            }\n        }\n    };\n    var handleRefresh = function () {\n        dispatch({ type: \"refresh\" });\n    };\n    var handleBack = function () {\n        dispatch({ type: \"urlback\" });\n    };\n    var handleForward = function () {\n        dispatch({ type: \"urlforward\" });\n    };\n    var buttonsClassNames = classNames(\"button\", [\n        classNames(\"icon\"),\n        buttonClassName,\n        iconClassName,\n        css({\n            minWidth: \"$space$6\",\n            justifyContent: \"center\",\n        }),\n    ]);\n    return (jsxs(\"div\", __assign({ className: classNames(\"navigator\", [navigatorClassName, className]) }, props, { children: [jsx(\"button\", { \"aria-label\": \"Go back one page\", className: buttonsClassNames, disabled: !backEnabled, onClick: handleBack, type: \"button\", children: jsx(BackwardIcon, {}) }), jsx(\"button\", { \"aria-label\": \"Go forward one page\", className: buttonsClassNames, disabled: !forwardEnabled, onClick: handleForward, type: \"button\", children: jsx(ForwardIcon, {}) }), jsx(\"button\", { \"aria-label\": \"Refresh page\", className: buttonsClassNames, onClick: handleRefresh, type: \"button\", children: jsx(RefreshIcon, {}) }), jsx(\"input\", { \"aria-label\": \"Current Sandpack URL\", className: classNames(\"input\", [inputClassName]), name: \"Current Sandpack URL\", onChange: handleInputChange, onKeyDown: handleKeyDown, type: \"text\", value: relativeUrl })] })));\n};\n\nvar _a$2;\nvar previewClassName = css((_a$2 = {\n        flex: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        background: \"white\",\n        overflow: \"auto\",\n        position: \"relative\"\n    },\n    _a$2[\".\".concat(THEME_PREFIX, \"-bridge-frame\")] = {\n        border: 0,\n        position: \"absolute\",\n        left: \"$space$2\",\n        bottom: \"$space$2\",\n        zIndex: \"$top\",\n        height: 12,\n        width: \"30%\",\n        mixBlendMode: \"multiply\",\n        pointerEvents: \"none\",\n    },\n    _a$2));\nvar previewIframe = css({\n    border: \"0\",\n    outline: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    minHeight: \"160px\",\n    maxHeight: \"2000px\",\n    flex: 1,\n});\nvar previewActionsClassName$1 = css({\n    display: \"flex\",\n    position: \"absolute\",\n    bottom: \"$space$2\",\n    right: \"$space$2\",\n    zIndex: \"$overlay\",\n    gap: \"$space$2\",\n});\nvar SandpackPreview = React.forwardRef(function (_a, ref) {\n    var _b = _a.showNavigator, showNavigator = _b === void 0 ? false : _b, _c = _a.showRefreshButton, showRefreshButton = _c === void 0 ? true : _c, _d = _a.showOpenInCodeSandbox, showOpenInCodeSandbox = _d === void 0 ? true : _d, _e = _a.showSandpackErrorOverlay, showSandpackErrorOverlay = _e === void 0 ? true : _e; _a.showOpenNewtab; var _g = _a.showRestartButton, showRestartButton = _g === void 0 ? true : _g, _h = _a.actionsChildren, actionsChildren = _h === void 0 ? jsx(Fragment, {}) : _h, children = _a.children, className = _a.className, _j = _a.startRoute, startRoute = _j === void 0 ? \"/\" : _j, props = __rest(_a, [\"showNavigator\", \"showRefreshButton\", \"showOpenInCodeSandbox\", \"showSandpackErrorOverlay\", \"showOpenNewtab\", \"showRestartButton\", \"actionsChildren\", \"children\", \"className\", \"startRoute\"]);\n    var _k = useSandpackClient({ startRoute: startRoute }), sandpack = _k.sandpack, listen = _k.listen, iframe = _k.iframe, getClient = _k.getClient, clientId = _k.clientId, dispatch = _k.dispatch;\n    var _l = React.useState(null), iframeComputedHeight = _l[0], setComputedAutoHeight = _l[1];\n    var status = sandpack.status;\n    var refresh = useSandpackNavigation(clientId).refresh;\n    var restart = useSandpackShell(clientId).restart;\n    var classNames = useClassNames();\n    React.useEffect(function () {\n        var unsubscribe = listen(function (message) {\n            if (message.type === \"resize\") {\n                setComputedAutoHeight(message.height);\n            }\n        });\n        return unsubscribe;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    React.useImperativeHandle(ref, function () { return ({\n        clientId: clientId,\n        getClient: getClient,\n    }); }, [getClient, clientId]);\n    var handleNewURL = function (newUrl) {\n        if (!iframe.current) {\n            return;\n        }\n        iframe.current.src = newUrl;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    };\n    return (jsxs(SandpackStack, __assign({ className: classNames(\"preview\", [className]) }, props, { children: [showNavigator && (jsx(Navigator, { clientId: clientId, onURLChange: handleNewURL, startRoute: startRoute })), jsxs(\"div\", { className: classNames(\"preview-container\", [previewClassName]), children: [jsx(\"iframe\", { ref: iframe, className: classNames(\"preview-iframe\", [previewIframe]), style: {\n                            // set height based on the content only in auto mode\n                            // and when the computed height was returned by the bundler\n                            height: iframeComputedHeight ? iframeComputedHeight : undefined,\n                        }, title: \"Sandpack Preview\" }), jsxs(\"div\", { className: classNames(\"preview-actions\", [previewActionsClassName$1]), children: [actionsChildren, showRestartButton && sandpack.environment === \"node\" && (jsx(RoundedButton, { onClick: restart, children: jsx(RestartIcon, {}) })), !showNavigator && showRefreshButton && status === \"running\" && (jsx(RoundedButton, { onClick: refresh, children: jsx(RefreshIcon, {}) })), sandpack.teamId && (jsx(\"button\", { className: classNames(\"button\", [\n                                    classNames(\"icon-standalone\"),\n                                    buttonClassName,\n                                    iconStandaloneClassName,\n                                    roundedButtonClassName,\n                                ]), onClick: function () { return dispatch({ type: \"sign-out\" }); }, title: \"Sign out\", type: \"button\", children: jsx(SignOutIcon, {}) })), showOpenInCodeSandbox && jsx(OpenInCodeSandboxButton, {})] }), jsx(LoadingOverlay, { clientId: clientId, showOpenInCodeSandbox: showOpenInCodeSandbox }), showSandpackErrorOverlay && jsx(ErrorOverlay, {}), children] })] })));\n});\n\nvar _a$1;\nvar transpiledCodeClassName = css((_a$1 = {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        position: \"relative\",\n        overflow: \"auto\",\n        minHeight: \"160px\",\n        flex: 1\n    },\n    _a$1[\".\".concat(THEME_PREFIX, \"-stack\")] = {\n        height: \"100%\",\n    },\n    _a$1));\nvar SandpackTranspiledCode = function (_a) {\n    var className = _a.className, props = __rest(_a, [\"className\"]);\n    var sandpack = useSandpack().sandpack;\n    var transpiledCode = useTranspiledCode();\n    var classNames = useClassNames();\n    var hiddenIframeRef = React.useRef(null);\n    React.useEffect(function () {\n        var hiddenIframe = hiddenIframeRef.current;\n        if (hiddenIframe) {\n            sandpack.registerBundler(hiddenIframe, \"hidden\");\n        }\n        return function () {\n            sandpack.unregisterBundler(\"hidden\");\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return (jsxs(\"div\", __assign({ className: classNames(\"transpiled-code\", [\n            stackClassName,\n            transpiledCodeClassName,\n            className,\n        ]) }, props, { children: [jsx(SandpackCodeViewer, __assign({ code: transpiledCode !== null && transpiledCode !== void 0 ? transpiledCode : \"\", initMode: sandpack.initMode }, props)), jsx(\"iframe\", { ref: hiddenIframeRef, style: { display: \"none\" }, title: \"transpiled sandpack code\" }), jsx(ErrorOverlay, {}), jsx(LoadingOverlay, { clientId: \"hidden\", showOpenInCodeSandbox: false })] })));\n};\n\nvar wrapperClassName$1 = css({\n    justifyContent: \"space-between\",\n    borderBottom: \"1px solid $colors$surface2\",\n    padding: \"0 $space$2\",\n    fontFamily: \"$font$mono\",\n    height: \"$layout$headerHeight\",\n    minHeight: \"$layout$headerHeight\",\n    overflowX: \"auto\",\n    whiteSpace: \"nowrap\",\n});\nvar flexClassName$1 = css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: \"$space$2\",\n});\nvar Header$1 = function (_a) {\n    var status = _a.status, suiteOnly = _a.suiteOnly, setSuiteOnly = _a.setSuiteOnly, setVerbose = _a.setVerbose, verbose = _a.verbose, watchMode = _a.watchMode, setWatchMode = _a.setWatchMode, showSuitesOnly = _a.showSuitesOnly, showWatchButton = _a.showWatchButton, showVerboseButton = _a.showVerboseButton, hideTestsAndSupressLogs = _a.hideTestsAndSupressLogs;\n    var classNames = useClassNames();\n    var buttonsClassName = classNames(\"test-header-button\", [\n        buttonClassName,\n        roundedButtonClassName,\n        css({ padding: \"$space$1 $space$3\" }),\n    ]);\n    return (jsxs(\"div\", { className: classNames(\"test-header\", [wrapperClassName$1, flexClassName$1]), children: [jsx(\"div\", { className: classNames(\"test-header-wrapper\", [flexClassName$1]), children: jsxs(\"p\", { className: classNames(\"test-header-title\", [\n                        css({\n                            lineHeight: 1,\n                            margin: 0,\n                            color: \"$colors$base\",\n                            fontSize: \"$font$size\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: \"$space$2\",\n                        }),\n                    ]), children: [jsx(ConsoleIcon, {}), \"Tests\"] }) }), jsxs(\"div\", { className: classNames(\"test-header-actions\", [flexClassName$1]), children: [showSuitesOnly && (jsx(\"button\", { className: buttonsClassName, \"data-active\": suiteOnly, disabled: status === \"initialising\", onClick: setSuiteOnly, type: \"button\", children: \"Suite only\" })), showVerboseButton && (jsx(\"button\", { className: buttonsClassName, \"data-active\": verbose, disabled: status === \"initialising\" || hideTestsAndSupressLogs, onClick: setVerbose, type: \"button\", children: \"Verbose\" })), showWatchButton && (jsx(\"button\", { className: buttonsClassName, \"data-active\": watchMode, disabled: status === \"initialising\", onClick: setWatchMode, type: \"button\", children: \"Watch\" }))] })] }));\n};\n\nvar RunButton = function (_a) {\n    var onClick = _a.onClick;\n    return (jsx(RoundedButton, { onClick: onClick, title: \"Run tests\", children: jsx(RunIcon, {}) }));\n};\n\nvar setTestTheme = function (isDark) { return ({\n    \"--test-pass\": isDark ? \"#18df16\" : \"#15c213\",\n    \"--test-fail\": isDark ? \"#df162b\" : \"#c21325\",\n    \"--test-skip\": isDark ? \"#eace2b\" : \"#c2a813\",\n    \"--test-run\": isDark ? \"#eace2b\" : \"#c2a813\",\n    \"--test-title\": isDark ? \"#3fbabe\" : \"#256c6f\",\n}); };\nvar color = css({\n    variants: {\n        status: {\n            pass: { color: \"var(--test-pass)\" },\n            fail: { color: \"var(--test-fail)\" },\n            skip: { color: \"var(--test-skip)\" },\n            title: { color: \"var(--test-title)\" },\n        },\n    },\n});\nvar passTextClassName = color({ status: \"pass\" });\nvar failTextClassName = color({ status: \"fail\" });\nvar skipTextClassName = color({ status: \"skip\" });\nvar titleTextClassName = color({ status: \"title\" });\nvar background = css({\n    variants: {\n        status: {\n            pass: { background: \"var(--test-pass)\", color: \"$colors$surface1\" },\n            fail: { background: \"var(--test-fail)\", color: \"$colors$surface1\" },\n            run: { background: \"var(--test-run)\", color: \"$colors$surface1\" },\n        },\n    },\n});\nvar runBackgroundClassName = background({ status: \"run\" });\nvar passBackgroundClassName = background({ status: \"pass\" });\nvar failBackgroundClassName = background({ status: \"fail\" });\n\nvar testContainerClassName = css({\n    marginLeft: \"$space$4\",\n});\nvar containerClassName$4 = css({\n    marginBottom: \"$space$2\",\n    color: \"$colors$clickable\",\n});\nvar testClassName = css({\n    marginBottom: \"$space$2\",\n    color: \"$colors$hover\",\n});\nvar durationClassName = css({\n    marginLeft: \"$space$2\",\n});\nvar gapRightClassName = css({\n    marginRight: \"$space$2\",\n});\nvar Tests = function (_a) {\n    var tests = _a.tests; _a.style;\n    var classNames = useClassNames();\n    return (jsx(\"div\", { className: classNames(\"test\", [testContainerClassName]), children: tests.map(function (test) { return (jsxs(\"div\", { className: classNames(\"test-result\", [containerClassName$4]), children: [test.status === \"pass\" && (jsx(\"span\", { className: classNames(\"test-pass-text\", [\n                        passTextClassName,\n                        gapRightClassName,\n                    ]), children: \"\\u2713\" })), test.status === \"fail\" && (jsx(\"span\", { className: classNames(\"test-fail-text\", [\n                        failTextClassName,\n                        gapRightClassName,\n                    ]), children: \"\\u2715\" })), test.status === \"idle\" && (jsx(\"span\", { className: classNames(\"test-idle-text\", [\n                        skipTextClassName,\n                        gapRightClassName,\n                    ]), children: \"\\u25CB\" })), jsx(\"span\", { className: classNames(\"test-name-text\", [testClassName]), children: test.name }), test.duration !== undefined && (jsxs(\"span\", { className: classNames(\"test-duration-text\", [durationClassName]), children: [\"(\", test.duration, \" ms)\"] }))] }, test.name)); }) }));\n};\n\nvar getTests = function (block) {\n    var _a;\n    var _b, _c;\n    return (_a = Object.values((_b = block.tests) !== null && _b !== void 0 ? _b : {})).concat.apply(_a, Object.values((_c = block.describes) !== null && _c !== void 0 ? _c : {}).map(getTests));\n};\nvar getFailingTests = function (block) {\n    return getTests(block).filter(function (t) { return t.status === \"fail\"; });\n};\nvar getAllTestResults = function (specs) {\n    return specs.map(getSpecTestResults).reduce(function (acc, stats) {\n        return {\n            pass: acc.pass + stats.pass,\n            fail: acc.fail + stats.fail,\n            skip: acc.skip + stats.skip,\n            total: acc.total + stats.total,\n        };\n    }, { pass: 0, skip: 0, fail: 0, total: 0 });\n};\nvar getSpecTestResults = function (spec) {\n    return getTests(spec).reduce(function (acc, test) {\n        return {\n            pass: test.status === \"pass\" ? acc.pass + 1 : acc.pass,\n            fail: test.status === \"fail\" ? acc.fail + 1 : acc.fail,\n            skip: test.status === \"idle\" || test.status === \"running\"\n                ? acc.skip + 1\n                : acc.skip,\n            total: acc.total + 1,\n        };\n    }, { pass: 0, fail: 0, skip: 0, total: 0 });\n};\nvar getAllSuiteResults = function (specs) {\n    return specs\n        .filter(function (spec) {\n        var _a, _b;\n        return Object.values((_a = spec.describes) !== null && _a !== void 0 ? _a : {}).length > 0 ||\n            Object.values((_b = spec.tests) !== null && _b !== void 0 ? _b : {}).length > 0;\n    })\n        .map(getSpecTestResults)\n        .reduce(function (acc, stats) {\n        return {\n            pass: acc.pass + (stats.fail === 0 ? 1 : 0),\n            fail: acc.fail + (stats.fail > 0 ? 1 : 0),\n            total: acc.total + 1,\n        };\n    }, { pass: 0, fail: 0, total: 0 });\n};\nvar getDuration = function (specs) {\n    return flatMap(specs, getTests).reduce(function (acc, test) { return acc + (test.duration || 0); }, 0);\n};\nvar isEmpty = function (block) {\n    var _a, _b;\n    return Object.values((_a = block.describes) !== null && _a !== void 0 ? _a : {}).length === 0 &&\n        Object.values((_b = block.tests) !== null && _b !== void 0 ? _b : {}).length === 0;\n};\nvar splitTail = function (as) {\n    var lastIndex = as.length - 1;\n    var head = as.slice(0, lastIndex);\n    var tail = as[lastIndex];\n    return [head, tail];\n};\nvar flatMap = function (as, f) {\n    return as.map(f).reduce(function (acc, next) { return acc.concat(next); }, []);\n};\nvar set = function (path, value) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function (object) {\n        return cleanSet(object, path, value);\n    };\n};\n\nvar nameClassName = css({\n    color: \"$colors$hover\",\n    marginBottom: \"$space$2\",\n});\nvar containerClassName$3 = css({\n    marginLeft: \"$space$4\",\n});\nvar Describes = function (_a) {\n    var describes = _a.describes;\n    var classNames = useClassNames();\n    return (jsx(Fragment, { children: describes.map(function (describe) {\n            var _a, _b;\n            if (isEmpty(describe)) {\n                return null;\n            }\n            var tests = Object.values((_a = describe.tests) !== null && _a !== void 0 ? _a : {});\n            var describes = Object.values((_b = describe.describes) !== null && _b !== void 0 ? _b : {});\n            return (jsxs(\"div\", { className: classNames(\"test-describe\", [containerClassName$3]), children: [jsx(\"div\", { className: classNames(\"test-name\", [nameClassName]), children: describe.name }), jsx(Tests, { tests: tests }), jsx(Describes, { describes: describes })] }, describe.name));\n        }) }));\n};\n\nvar containerClassName$2 = css({\n    color: \"$colors$hover\",\n    fontSize: \"$font$size\",\n    padding: \"$space$2\",\n    whiteSpace: \"pre-wrap\",\n});\nvar FormattedError = function (_a) {\n    var error = _a.error, path = _a.path;\n    var classNames = useClassNames();\n    return (jsx(\"div\", { className: classNames(\"test-error\", [containerClassName$2]), dangerouslySetInnerHTML: { __html: formatDiffMessage(error, path) } }));\n};\nvar escapeHtml = function (unsafe) {\n    return unsafe\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&#039;\");\n};\nvar formatDiffMessage = function (error, path) {\n    var finalMessage = \"\";\n    if (error.matcherResult) {\n        finalMessage = \"<span>\".concat(escapeHtml(error.message)\n            .replace(/(expected)/m, \"<span class=\\\"\".concat(passTextClassName, \"\\\">$1</span>\"))\n            .replace(/(received)/m, \"<span class=\\\"\".concat(failTextClassName, \"\\\">$1</span>\"))\n            .replace(/(Difference:)/m, \"<span>$1</span>\")\n            .replace(/(Expected:)(.*)/m, \"<span>$1</span><span class=\\\"\".concat(passTextClassName, \"\\\">$2</span>\"))\n            .replace(/(Received:)(.*)/m, \"<span>$1</span><span class=\\\"\".concat(failTextClassName, \"\\\">$2</span>\"))\n            .replace(/^(-.*)/gm, \"<span class=\\\"\".concat(failTextClassName, \"\\\">$1</span>\"))\n            .replace(/^(\\+.*)/gm, \"<span class=\\\"\".concat(passTextClassName, \"\\\">$1</span>\")), \"</span>\");\n    }\n    else {\n        finalMessage = escapeHtml(error.message);\n    }\n    if (error.mappedErrors &&\n        error.mappedErrors[0] &&\n        error.mappedErrors[0].fileName.endsWith(path) &&\n        error.mappedErrors[0]._originalScriptCode) {\n        var mappedError = error.mappedErrors[0];\n        var _originalScriptCode = mappedError._originalScriptCode || [];\n        var widestNumber_1 = Math.max.apply(Math, _originalScriptCode.map(function (code) { return (code.lineNumber + \"\").length; })) + 2;\n        var margin_1 = Array.from({ length: widestNumber_1 }).map(function () { return \" \"; });\n        finalMessage += \"<br />\";\n        finalMessage += \"<br />\";\n        finalMessage += \"<div>\";\n        _originalScriptCode\n            .filter(function (s) { return s.content.trim(); })\n            .forEach(function (code) {\n            var currentLineMargin = (code.lineNumber + \"\").length;\n            var newMargin = __spreadArray([], margin_1, true);\n            newMargin.length -= currentLineMargin;\n            if (code.highlight) {\n                newMargin.length -= 2;\n            }\n            var toBeIndex = code.content.indexOf(\".to\");\n            var toBeMargin = Array.from({ length: margin_1.length + toBeIndex - (widestNumber_1 - 1) }, function () { return \" \"; });\n            var content = escapeHtml(code.content)\n                .replace(/(describe|test|it)(\\()(&#039;|&quot;|`)(.*)(&#039;|&quot;|`)/m, \"<span>$1$2$3</span><span class=\\\"\".concat(titleTextClassName, \"\\\">$4</span><span>$5</span>\"))\n                .replace(/(expect\\()(.*)(\\)\\..*)(to[\\w\\d]*)(\\()(.*)(\\))/m, \"<span>$1</span><span class=\\\"\".concat(failTextClassName, \"\\\">$2</span><span>$3</span><span style=\\\"text-decoration: underline; font-weight: 900\\\">$4</span><span>$5</span><span class=\\\"\").concat(passTextClassName, \"\\\">$6</span><span>$7</span>\"));\n            finalMessage +=\n                \"<div \".concat(code.highlight ? \"style=\\\"font-weight:200;\\\"\" : \"\", \">\") +\n                    (code.highlight\n                        ? \"<span class=\\\"\".concat(failTextClassName, \"\\\">></span> \")\n                        : \"\") +\n                    newMargin.join(\"\") +\n                    escapeHtml(\"\" + code.lineNumber) +\n                    \" | \" +\n                    content +\n                    \"</div>\" +\n                    (code.highlight\n                        ? \"<div>\" +\n                            margin_1.join(\"\") +\n                            \" | \" +\n                            toBeMargin.join(\"\") +\n                            \"<span class=\\\"\".concat(failTextClassName, \"\\\">^</span>\") +\n                            \"</div>\"\n                        : \"\");\n        });\n        finalMessage += \"</div>\";\n    }\n    return finalMessage.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\n};\n\nvar fileContainer = css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: \"$space$2\",\n});\nvar gapBottomClassName$1 = css({\n    marginBottom: \"$space$2\",\n});\nvar failTestClassName = css({\n    fontWeight: \"bold\",\n});\nvar labelClassName$1 = css({\n    borderRadius: \"calc($border$radius / 2)\",\n});\nvar specLabelClassName = css({\n    padding: \"$space$1 $space$2\",\n    fontFamily: \"$font$mono\",\n    textTransform: \"uppercase\",\n    marginRight: \"$space$2\",\n});\nvar filePathButtonClassName = css({\n    fontFamily: \"$font$mono\",\n    cursor: \"pointer\",\n    display: \"inline-block\",\n});\nvar filePathClassName = css({\n    color: \"$colors$clickable\",\n    textDecorationStyle: \"dotted\",\n    textDecorationLine: \"underline\",\n});\nvar fileNameClassName = css({\n    color: \"$colors$hover\",\n    fontWeight: \"bold\",\n    textDecorationStyle: \"dotted\",\n    textDecorationLine: \"underline\",\n});\nvar Specs = function (_a) {\n    var specs = _a.specs, openSpec = _a.openSpec, status = _a.status, verbose = _a.verbose, hideTestsAndSupressLogs = _a.hideTestsAndSupressLogs;\n    var classNames = useClassNames();\n    return (jsx(Fragment, { children: specs.map(function (spec) {\n            if (spec.error) {\n                return (jsxs(\"div\", { className: classNames(\"test-spec\", [gapBottomClassName$1]), children: [jsx(SpecLabel, { className: classNames(\"test-spec-error\", [\n                                labelClassName$1,\n                                failBackgroundClassName,\n                            ]), children: \"Error\" }), jsx(FilePath, { onClick: function () { return openSpec(spec.name); }, path: spec.name }), jsx(FormattedError, { error: spec.error, path: spec.name })] }, spec.name));\n            }\n            if (isEmpty(spec)) {\n                return null;\n            }\n            var tests = Object.values(spec.tests);\n            var describes = Object.values(spec.describes);\n            var stats = getSpecTestResults(spec);\n            return (jsxs(\"div\", { className: classNames(\"test-spec-name\", [gapBottomClassName$1]), children: [jsxs(\"div\", { className: classNames(\"test-spec-name-container\", [\n                            fileContainer,\n                        ]), children: [status === \"complete\" ? (stats.fail > 0 ? (jsx(SpecLabel, { className: classNames(\"test-spec-complete\", [\n                                    labelClassName$1,\n                                    failBackgroundClassName,\n                                ]), children: \"Fail\" })) : (jsx(SpecLabel, { className: classNames(\"test-spec-pass\", [\n                                    labelClassName$1,\n                                    passBackgroundClassName,\n                                ]), children: \"Pass\" }))) : (jsx(SpecLabel, { className: classNames(\"test-spec-run\", [\n                                    labelClassName$1,\n                                    runBackgroundClassName,\n                                ]), children: \"Run\" })), jsx(FilePath, { onClick: function () {\n                                    if (!hideTestsAndSupressLogs) {\n                                        openSpec(spec.name);\n                                    }\n                                }, path: spec.name })] }), verbose && !hideTestsAndSupressLogs && jsx(Tests, { tests: tests }), verbose && !hideTestsAndSupressLogs && (jsx(Describes, { describes: describes })), !hideTestsAndSupressLogs &&\n                        getFailingTests(spec).map(function (test) {\n                            return (jsxs(\"div\", { className: classNames(\"test-spec-error\", [\n                                    gapBottomClassName$1,\n                                ]), children: [jsxs(\"div\", { className: classNames(\"test-spec-error-text\", [\n                                            failTestClassName,\n                                            failTextClassName,\n                                        ]), children: [\"\\u25CF \", test.blocks.join(\"  \"), \" \\u203A \", test.name] }), test.errors.map(function (e) { return (jsx(FormattedError, { error: e, path: test.path }, \"failing-\".concat(test.name, \"-error\"))); })] }, \"failing-\".concat(test.name)));\n                        })] }, spec.name));\n        }) }));\n};\nvar SpecLabel = function (_a) {\n    var children = _a.children, className = _a.className;\n    var classNames = useClassNames();\n    return (jsx(\"span\", { className: classNames(\"test-spec-label\", [specLabelClassName, className]), children: children }));\n};\nvar FilePath = function (_a) {\n    var onClick = _a.onClick, path = _a.path;\n    var parts = path.split(\"/\");\n    var basePath = parts.slice(0, parts.length - 1).join(\"/\") + \"/\";\n    var fileName = parts[parts.length - 1];\n    var classNames = useClassNames();\n    return (jsxs(\"button\", { className: classNames(\"test-filename\", [\n            buttonClassName,\n            filePathButtonClassName,\n        ]), onClick: onClick, type: \"button\", children: [jsx(\"span\", { className: classNames(\"test-filename-base\", [filePathClassName]), children: basePath }), jsx(\"span\", { className: classNames(\"test-filename-file\", [fileNameClassName]), children: fileName })] }));\n};\n\nvar gapBottomClassName = css({\n    marginBottom: \"$space$2\",\n});\nvar labelClassName = css({\n    fontWeight: \"bold\",\n    color: \"$colors$hover\",\n    whiteSpace: \"pre-wrap\",\n});\nvar containerClassName$1 = css({\n    fontWeight: \"bold\",\n    color: \"$colors$clickable\",\n});\nvar Summary = function (_a) {\n    var suites = _a.suites, tests = _a.tests, duration = _a.duration;\n    var widestLabel = \"Test suites: \";\n    var withMargin = function (label) {\n        var difference = widestLabel.length - label.length;\n        var margin = Array.from({ length: difference }, function () { return \" \"; }).join(\"\");\n        return label + margin;\n    };\n    var classNames = useClassNames();\n    return (jsxs(\"div\", { className: classNames(\"test-summary\", [containerClassName$1]), children: [jsxs(\"div\", { className: classNames(\"test-summary\", [gapBottomClassName]), children: [jsx(\"span\", { className: classNames(\"test-summary-suites-label\", [labelClassName]), children: widestLabel }), suites.fail > 0 && (jsxs(\"span\", { className: classNames(\"test-summary-suites-fail\", [\n                            failTextClassName,\n                        ]), children: [suites.fail, \" failed,\", \" \"] })), suites.pass > 0 && (jsxs(\"span\", { className: classNames(\"test-summary-suites-pass\", [\n                            passTextClassName,\n                        ]), children: [suites.pass, \" passed,\", \" \"] })), jsxs(\"span\", { children: [suites.total, \" total\"] })] }), jsxs(\"div\", { className: classNames(\"test-summary\", [gapBottomClassName]), children: [jsx(\"span\", { className: classNames(\"test-summary-label\", [labelClassName]), children: withMargin(\"Tests:\") }), tests.fail > 0 && (jsxs(\"span\", { className: classNames(\"test-summary-fail\", [failTextClassName]), children: [tests.fail, \" failed,\", \" \"] })), tests.skip > 0 && (jsxs(\"span\", { className: classNames(\"test-summary-skip\", [skipTextClassName]), children: [tests.skip, \" skipped,\", \" \"] })), tests.pass > 0 && (jsxs(\"span\", { className: classNames(\"test-summary-pass\", [passTextClassName]), children: [tests.pass, \" passed,\", \" \"] })), jsxs(\"span\", { children: [tests.total, \" total\"] })] }), jsxs(\"div\", { className: classNames(\"test-summary-curation\", [labelClassName]), children: [withMargin(\"Time:\"), duration / 1000, \"s\"] })] }));\n};\n\nvar previewActionsClassName = css({\n    display: \"flex\",\n    position: \"absolute\",\n    bottom: \"$space$2\",\n    right: \"$space$2\",\n    zIndex: \"$overlay\",\n    \"> *\": { marginLeft: \"$space$2\" },\n});\nvar INITIAL_STATE = {\n    specs: {},\n    status: \"initialising\",\n    verbose: false,\n    watchMode: true,\n    suiteOnly: false,\n    specsCount: 0,\n};\nvar SandpackTests = function (_a) {\n    var _b = _a.verbose, verbose = _b === void 0 ? false : _b, _c = _a.watchMode, watchMode = _c === void 0 ? true : _c, style = _a.style, className = _a.className, onComplete = _a.onComplete, actionsChildren = _a.actionsChildren, _d = _a.showVerboseButton, showVerboseButton = _d === void 0 ? true : _d, _e = _a.showWatchButton, showWatchButton = _e === void 0 ? true : _e, _f = _a.hideTestsAndSupressLogs, hideTestsAndSupressLogs = _f === void 0 ? false : _f, props = __rest(_a, [\"verbose\", \"watchMode\", \"style\", \"className\", \"onComplete\", \"actionsChildren\", \"showVerboseButton\", \"showWatchButton\", \"hideTestsAndSupressLogs\"]);\n    var theme = useSandpackTheme();\n    var _g = useSandpackClient(), getClient = _g.getClient, iframe = _g.iframe, listen = _g.listen, sandpack = _g.sandpack;\n    var _h = React.useState(__assign(__assign({}, INITIAL_STATE), { verbose: verbose, watchMode: watchMode })), state = _h[0], setState = _h[1];\n    var runAllTests = React.useCallback(function () {\n        setState(function (oldState) { return (__assign(__assign({}, oldState), { status: \"running\", specs: {} })); });\n        var client = getClient();\n        if (client) {\n            client.dispatch({ type: \"run-all-tests\" });\n        }\n    }, [getClient]);\n    var runSpec = React.useCallback(function () {\n        setState(function (oldState) { return (__assign(__assign({}, oldState), { status: \"running\", specs: {} })); });\n        var client = getClient();\n        if (client) {\n            client.dispatch({ type: \"run-tests\", path: sandpack.activeFile });\n        }\n    }, [getClient, sandpack.activeFile]);\n    var testFileRegex = /.*\\.(test|spec)\\.[tj]sx?$/;\n    var isSpecOpen = sandpack.activeFile.match(testFileRegex) !== null;\n    React.useEffect(function () {\n        var currentDescribeBlocks = [];\n        var currentSpec = \"\";\n        var unsubscribe = listen(function (data) {\n            // Note: short-circuit if message isn't for the currently active spec when `suiteOnly` is true\n            if (state.suiteOnly &&\n                ((\"path\" in data && data.path !== sandpack.activeFile) ||\n                    (\"test\" in data &&\n                        \"path\" in data.test &&\n                        data.test.path !== sandpack.activeFile))) {\n                return;\n            }\n            if (data.type === \"action\" &&\n                data.action === \"clear-errors\" &&\n                data.source === \"jest\") {\n                currentSpec = data.path;\n                return;\n            }\n            if (data.type === \"test\") {\n                if (data.event === \"initialize_tests\") {\n                    currentDescribeBlocks = [];\n                    currentSpec = \"\";\n                    if (state.watchMode) {\n                        return runAllTests();\n                    }\n                    else {\n                        return setState(function (oldState) { return (__assign(__assign({}, oldState), { status: \"idle\", specs: {} })); });\n                    }\n                }\n                if (data.event === \"test_count\") {\n                    return setState(function (oldState) { return (__assign(__assign({}, oldState), { specsCount: data.count })); });\n                }\n                if (data.event === \"total_test_start\") {\n                    currentDescribeBlocks = [];\n                    return setState(function (oldState) { return (__assign(__assign({}, oldState), { status: \"running\" })); });\n                }\n                if (data.event === \"total_test_end\") {\n                    return setState(function (oldState) {\n                        if (onComplete !== undefined) {\n                            onComplete(oldState.specs);\n                        }\n                        return __assign(__assign({}, oldState), { status: \"complete\" });\n                    });\n                }\n                if (data.event === \"add_file\") {\n                    return setState(set([\"specs\", data.path], {\n                        describes: {},\n                        tests: {},\n                        name: data.path,\n                    }));\n                }\n                if (data.event === \"remove_file\") {\n                    return setState(function (oldState) {\n                        var specs = Object.entries(oldState.specs).reduce(function (acc, _a) {\n                            var _b;\n                            var key = _a[0], value = _a[1];\n                            if (key === data.path) {\n                                return acc;\n                            }\n                            else {\n                                return __assign(__assign({}, acc), (_b = {}, _b[key] = value, _b));\n                            }\n                        }, {});\n                        return __assign(__assign({}, oldState), { specs: specs });\n                    });\n                }\n                if (data.event === \"file_error\") {\n                    return setState(set([\"specs\", data.path, \"error\"], data.error));\n                }\n                if (data.event === \"describe_start\") {\n                    currentDescribeBlocks.push(data.blockName);\n                    var _a = splitTail(currentDescribeBlocks), describePath = _a[0], currentDescribe = _a[1];\n                    var spec = currentSpec;\n                    if (currentDescribe === undefined) {\n                        return;\n                    }\n                    return setState(set(__spreadArray(__spreadArray([\n                        \"specs\",\n                        spec,\n                        \"describes\"\n                    ], flatMap(describePath, function (name) { return [name, \"describes\"]; }), true), [\n                        currentDescribe,\n                    ], false), {\n                        name: data.blockName,\n                        tests: {},\n                        describes: {},\n                    }));\n                }\n                if (data.event === \"describe_end\") {\n                    currentDescribeBlocks.pop();\n                    return;\n                }\n                if (data.event === \"add_test\") {\n                    var _b = splitTail(currentDescribeBlocks), describePath = _b[0], currentDescribe = _b[1];\n                    var test_1 = {\n                        status: \"idle\",\n                        errors: [],\n                        name: data.testName,\n                        blocks: __spreadArray([], currentDescribeBlocks, true),\n                        path: data.path,\n                    };\n                    if (currentDescribe === undefined) {\n                        return setState(set([\"specs\", data.path, \"tests\", data.testName], test_1));\n                    }\n                    else {\n                        return setState(set(__spreadArray(__spreadArray([\n                            \"specs\",\n                            data.path,\n                            \"describes\"\n                        ], flatMap(describePath, function (name) { return [name, \"describes\"]; }), true), [\n                            currentDescribe,\n                            \"tests\",\n                            data.testName,\n                        ], false), test_1));\n                    }\n                }\n                if (data.event === \"test_start\") {\n                    var test_2 = data.test;\n                    var _c = splitTail(test_2.blocks), describePath = _c[0], currentDescribe = _c[1];\n                    var startedTest = {\n                        status: \"running\",\n                        name: test_2.name,\n                        blocks: test_2.blocks,\n                        path: test_2.path,\n                        errors: [],\n                    };\n                    if (currentDescribe === undefined) {\n                        return setState(set([\"specs\", test_2.path, \"tests\", test_2.name], startedTest));\n                    }\n                    else {\n                        return setState(set(__spreadArray(__spreadArray([\n                            \"specs\",\n                            test_2.path,\n                            \"describes\"\n                        ], flatMap(describePath, function (name) { return [name, \"describes\"]; }), true), [\n                            currentDescribe,\n                            \"tests\",\n                            test_2.name,\n                        ], false), startedTest));\n                    }\n                }\n                if (data.event === \"test_end\") {\n                    var test_3 = data.test;\n                    var _d = splitTail(test_3.blocks), describePath = _d[0], currentDescribe = _d[1];\n                    var endedTest = {\n                        status: test_3.status,\n                        errors: test_3.errors,\n                        duration: test_3.duration,\n                        name: test_3.name,\n                        blocks: test_3.blocks,\n                        path: test_3.path,\n                    };\n                    if (currentDescribe === undefined) {\n                        return setState(set([\"specs\", test_3.path, \"tests\", test_3.name], endedTest));\n                    }\n                    else {\n                        return setState(set(__spreadArray(__spreadArray([\n                            \"specs\",\n                            test_3.path,\n                            \"describes\"\n                        ], flatMap(describePath, function (name) { return [name, \"describes\"]; }), true), [\n                            currentDescribe,\n                            \"tests\",\n                            test_3.name,\n                        ], false), endedTest));\n                    }\n                }\n            }\n        });\n        return unsubscribe;\n    }, [state.suiteOnly, state.watchMode, sandpack.activeFile]);\n    React.useEffect(function watchMode() {\n        var unsunscribe = listen(function (_a) {\n            var type = _a.type;\n            if (type === \"done\" && state.watchMode) {\n                if (isSpecOpen) {\n                    runSpec();\n                }\n                else {\n                    runAllTests();\n                }\n            }\n        });\n        return unsunscribe;\n    }, [runSpec, runAllTests, state.watchMode, isSpecOpen]);\n    var openSpec = function (file) {\n        sandpack.setActiveFile(file);\n    };\n    var specs = Object.values(state.specs);\n    var duration = getDuration(specs);\n    var testResults = getAllTestResults(specs);\n    var suiteResults = getAllSuiteResults(specs);\n    var classNames = useClassNames();\n    return (jsxs(SandpackStack, __assign({ className: classNames(\"tests\", [className]), style: __assign(__assign({}, setTestTheme(theme.themeMode === \"dark\")), style) }, props, { children: [jsx(\"iframe\", { ref: iframe, style: { display: \"none\" }, title: \"Sandpack Tests\" }), jsx(Header$1, { hideTestsAndSupressLogs: hideTestsAndSupressLogs, setSuiteOnly: function () {\n                    return setState(function (s) { return (__assign(__assign({}, s), { suiteOnly: !s.suiteOnly })); });\n                }, setVerbose: function () {\n                    return setState(function (s) { return (__assign(__assign({}, s), { verbose: !s.verbose })); });\n                }, setWatchMode: function () {\n                    setState(function (s) { return (__assign(__assign({}, s), { watchMode: !s.watchMode })); });\n                }, showSuitesOnly: state.specsCount > 1, showVerboseButton: showVerboseButton, showWatchButton: showWatchButton, status: state.status, suiteOnly: state.suiteOnly, verbose: state.verbose, watchMode: state.watchMode }), state.status === \"running\" || state.status === \"initialising\" ? (jsx(Loading, { showOpenInCodeSandbox: false })) : (jsxs(\"div\", { className: previewActionsClassName.toString(), children: [actionsChildren, jsx(RunButton, { onClick: state.suiteOnly ? runSpec : runAllTests })] })), jsx(\"div\", { className: containerClassName.toString(), children: specs.length === 0 && state.status === \"complete\" ? (jsxs(\"div\", { className: fileErrorContainerClassName.toString(), children: [jsx(\"p\", { children: \"No test files found.\" }), jsxs(\"p\", { children: [\"Test match:\", \" \", jsx(\"span\", { className: failTextClassName.toString(), children: testFileRegex.toString() })] })] })) : (jsxs(Fragment, { children: [jsx(Specs, { hideTestsAndSupressLogs: hideTestsAndSupressLogs, openSpec: openSpec, specs: specs, status: state.status, verbose: state.verbose }), state.status === \"complete\" && testResults.total > 0 && (jsx(Summary, { duration: duration, suites: suiteResults, tests: testResults }))] })) })] })));\n};\nvar containerClassName = css({\n    padding: \"$space$4\",\n    height: \"100%\",\n    overflow: \"auto\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    fontFamily: \"$font$mono\",\n});\nvar fileErrorContainerClassName = css({\n    fontWeight: \"bold\",\n    color: \"$colors$base\",\n});\n\nvar SYNTAX_ERROR_PATTERN = [\"SyntaxError: \", \"Error in sandbox:\"];\nvar CLEAR_LOG = {\n    id: \"random\",\n    method: \"clear\",\n    data: [\"Console was cleared\"],\n};\nvar TRANSFORMED_TYPE_KEY = \"@t\";\nvar TRANSFORMED_TYPE_KEY_ALTERNATE = \"#@t\";\nvar CIRCULAR_REF_KEY = \"@r\";\nvar MAX_LENGTH_STRING = 10000;\nvar MAX_NEST_LEVEL = 2;\nvar MAX_KEYS = 400;\nvar MAX_MESSAGE_COUNT = MAX_KEYS * 2;\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-empty-function */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// Const\nvar GLOBAL = (function getGlobal() {\n    // NOTE: see http://www.ecma-international.org/ecma-262/6.0/index.html#sec-performeval step 10\n    var savedEval = eval;\n    return savedEval(\"this\");\n})();\nvar ARRAY_BUFFER_SUPPORTED = typeof ArrayBuffer === \"function\";\nvar MAP_SUPPORTED = typeof Map === \"function\";\nvar SET_SUPPORTED = typeof Set === \"function\";\nvar Arithmetic;\n(function (Arithmetic) {\n    Arithmetic[Arithmetic[\"infinity\"] = 0] = \"infinity\";\n    Arithmetic[Arithmetic[\"minusInfinity\"] = 1] = \"minusInfinity\";\n    Arithmetic[Arithmetic[\"minusZero\"] = 2] = \"minusZero\";\n})(Arithmetic || (Arithmetic = {}));\nvar transformers = {\n    Arithmetic: function (data) {\n        if (data === Arithmetic.infinity)\n            return Infinity;\n        if (data === Arithmetic.minusInfinity)\n            return -Infinity;\n        if (data === Arithmetic.minusZero)\n            return -0;\n        return data;\n    },\n    HTMLElement: function (data) {\n        var sandbox = document.implementation.createHTMLDocument(\"sandbox\");\n        try {\n            var element = sandbox.createElement(data.tagName);\n            element.innerHTML = data.innerHTML;\n            for (var _i = 0, _a = Object.keys(data.attributes); _i < _a.length; _i++) {\n                var attribute = _a[_i];\n                try {\n                    element.setAttribute(attribute, data.attributes[attribute]);\n                }\n                catch (_b) {\n                    //\n                }\n            }\n            return element;\n        }\n        catch (e) {\n            return data;\n        }\n    },\n    Function: function (data) {\n        var tempFun = function () { };\n        Object.defineProperty(tempFun, \"toString\", {\n            value: function () { return \"function \".concat(data.name, \"() {\").concat(data.body, \"}\"); },\n        });\n        return tempFun;\n    },\n    \"[[NaN]]\": function () {\n        return NaN;\n    },\n    \"[[undefined]]\": function () {\n        return void 0;\n    },\n    \"[[Date]]\": function (val) {\n        var date = new Date();\n        date.setTime(val);\n        return date;\n    },\n    \"[[RegExp]]\": function (val) {\n        return new RegExp(val.src, val.flags);\n    },\n    \"[[Error]]\": function (val) {\n        var Ctor = GLOBAL[val.name] || Error;\n        var err = new Ctor(val.message);\n        err.stack = val.stack;\n        return err;\n    },\n    \"[[ArrayBuffer]]\": function (val) {\n        if (ARRAY_BUFFER_SUPPORTED) {\n            var buffer = new ArrayBuffer(val.length);\n            var view = new Int8Array(buffer);\n            view.set(val);\n            return buffer;\n        }\n        return val;\n    },\n    \"[[TypedArray]]\": function (val) {\n        return typeof GLOBAL[val.ctorName] === \"function\"\n            ? new GLOBAL[val.ctorName](val.arr)\n            : val.arr;\n    },\n    \"[[Map]]\": function (val) {\n        if (MAP_SUPPORTED) {\n            // NOTE: new Map(iterable) is not supported by all browsers\n            var map = new Map();\n            for (var i = 0; i < val.length; i += 2)\n                map.set(val[i], val[i + 1]);\n            return map;\n        }\n        var kvArr = [];\n        // @ts-ignore\n        for (var j = 0; j < val.length; j += 2)\n            kvArr.push([val[i], val[i + 1]]);\n        return kvArr;\n    },\n    \"[[Set]]\": function (val) {\n        if (SET_SUPPORTED) {\n            // NOTE: new Set(iterable) is not supported by all browsers\n            var set = new Set();\n            for (var i = 0; i < val.length; i++)\n                set.add(val[i]);\n            return set;\n        }\n        return val;\n    },\n};\n\n/* eslint-disable @typescript-eslint/array-type */\nvar formatSymbols = function (message) {\n    var _a;\n    if (typeof message === \"string\" ||\n        typeof message === \"number\" ||\n        message === null) {\n        return message;\n    }\n    else if (Array.isArray(message)) {\n        return message.map(formatSymbols);\n    }\n    else if (typeof message == \"object\" && TRANSFORMED_TYPE_KEY in message) {\n        var type = message[TRANSFORMED_TYPE_KEY];\n        var transform = transformers[type];\n        return transform(message.data);\n    }\n    else if (typeof message == \"object\" &&\n        TRANSFORMED_TYPE_KEY_ALTERNATE in message) {\n        var type = message[TRANSFORMED_TYPE_KEY_ALTERNATE];\n        var transform = transformers[type];\n        return transform(message.data);\n    }\n    else if (typeof message == \"object\" &&\n        ((_a = message.constructor) === null || _a === void 0 ? void 0 : _a.name) === \"NodeList\") {\n        var NodeList_1 = {};\n        Object.entries(message).forEach(function (_a) {\n            var key = _a[0], value = _a[1];\n            // @ts-ignore\n            NodeList_1[key] = formatSymbols(value);\n        });\n        return NodeList_1;\n    }\n    return message;\n};\nvar arrayToString = function (output, references, level) {\n    var mergeArray = output.reduce(function (acc, curr, index) {\n        return \"\".concat(acc).concat(index ? \", \" : \"\").concat(fromConsoleToString(curr, references, level));\n    }, \"\");\n    return \"[\".concat(mergeArray, \"]\");\n};\nvar objectToString = function (output, references, level) {\n    var constructorName = output.constructor.name !== \"Object\" ? \"\".concat(output.constructor.name, \" \") : \"\";\n    if (level > MAX_NEST_LEVEL) {\n        return constructorName;\n    }\n    var entries = Object.entries(output);\n    var formattedObject = Object.entries(output).reduce(function (acc, _a, index) {\n        var key = _a[0], value = _a[1];\n        var comma = index === 0 ? \"\" : \", \";\n        var breakLine = entries.length > 10 ? \"\\n  \" : \"\";\n        var formatted = fromConsoleToString(value, references, level);\n        if (index === MAX_KEYS) {\n            return acc + breakLine + \"...\";\n        }\n        else if (index > MAX_KEYS) {\n            return acc;\n        }\n        return acc + \"\".concat(comma).concat(breakLine).concat(key, \": \") + formatted;\n    }, \"\");\n    return \"\".concat(constructorName, \"{ \").concat(formattedObject).concat(entries.length > 10 ? \"\\n\" : \" \", \"}\");\n};\nvar fromConsoleToString = function (message, references, level) {\n    var _a;\n    if (level === void 0) { level = 0; }\n    try {\n        var output_1 = formatSymbols(message);\n        if (Array.isArray(output_1)) {\n            return arrayToString(output_1, references, level + 1);\n        }\n        switch (typeof output_1) {\n            case \"string\":\n                return \"\\\"\".concat(output_1, \"\\\"\").slice(0, MAX_LENGTH_STRING);\n            case \"number\":\n            case \"function\":\n            case \"symbol\":\n                return output_1.toString();\n            case \"boolean\":\n                return String(output_1);\n            case \"undefined\":\n                return \"undefined\";\n            case \"object\":\n            default:\n                if (output_1 instanceof RegExp ||\n                    output_1 instanceof Error ||\n                    output_1 instanceof Date) {\n                    return output_1.toString();\n                }\n                if (output_1 === null) {\n                    return String(null);\n                }\n                if (output_1 instanceof HTMLElement) {\n                    return output_1.outerHTML.slice(0, MAX_LENGTH_STRING);\n                }\n                if (Object.entries(output_1).length === 0) {\n                    return \"{}\";\n                }\n                if (CIRCULAR_REF_KEY in output_1) {\n                    if (level > MAX_NEST_LEVEL) {\n                        return \"Unable to print information\";\n                    }\n                    var newMessage = references[output_1[CIRCULAR_REF_KEY]];\n                    return fromConsoleToString(newMessage, references, level + 1);\n                }\n                if (((_a = output_1.constructor) === null || _a === void 0 ? void 0 : _a.name) === \"NodeList\") {\n                    var length_1 = output_1.length;\n                    var nodes = new Array(length_1).fill(null).map(function (_, index) {\n                        return fromConsoleToString(output_1[index], references);\n                    });\n                    return \"NodeList(\".concat(output_1.length, \")[\").concat(nodes, \"]\");\n                }\n                return objectToString(output_1, references, level + 1);\n        }\n    }\n    catch (_b) {\n        return \"Unable to print information\";\n    }\n};\n\nvar getType = function (message) {\n    switch (message) {\n        case \"warn\":\n            return \"warning\";\n        case \"clear\":\n            return \"clear\";\n        case \"error\":\n            return \"error\";\n        case \"log\":\n        case \"info\":\n        default:\n            return \"info\";\n    }\n};\n\nvar _a;\nvar ConsoleList = function (_a) {\n    var data = _a.data;\n    var classNames = useClassNames();\n    return (jsx(Fragment, { children: data.map(function (_a, logIndex, references) {\n            var data = _a.data, id = _a.id, method = _a.method;\n            if (!data)\n                return null;\n            if (Array.isArray(data)) {\n                return (jsx(React.Fragment, { children: data.map(function (msg, msgIndex) {\n                        var fixReferences = references.slice(logIndex, references.length);\n                        return (jsx(\"div\", { className: classNames(\"console-item\", [\n                                consoleItemClassName({ variant: getType(method) }),\n                            ]), children: jsx(CodeMirror, { code: method === \"clear\"\n                                    ? msg\n                                    : fromConsoleToString(msg, fixReferences), fileType: \"js\", initMode: \"user-visible\", showReadOnly: false, readOnly: true, wrapContent: true }) }, \"\".concat(id, \"-\").concat(msgIndex)));\n                    }) }, id));\n            }\n            return null;\n        }) }));\n};\nvar consoleItemClassName = css((_a = {\n        width: \"100%\",\n        padding: \"$space$3 $space$2\",\n        fontSize: \".8em\",\n        position: \"relative\",\n        \"&:not(:first-child):after\": {\n            content: \"\",\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            right: 0,\n            height: 1,\n            background: \"$colors$surface3\",\n        },\n        /**\n         * Editor reset\n         */\n        \".sp-cm\": {\n            padding: 0,\n        },\n        \".cm-editor\": {\n            background: \"none\",\n        },\n        \".cm-content\": {\n            padding: 0,\n        }\n    },\n    _a[\".\".concat(THEME_PREFIX, \"-pre-placeholder\")] = {\n        margin: \"0 !important\",\n        fontSize: \"1em\",\n    },\n    _a.variants = {\n        variant: {\n            error: {\n                color: \"$colors$error\",\n                background: \"$colors$errorSurface\",\n                \"&:not(:first-child):after\": {\n                    background: \"$colors$error\",\n                    opacity: 0.07,\n                },\n            },\n            warning: {\n                color: \"$colors$warning\",\n                background: \"$colors$warningSurface\",\n                \"&:not(:first-child):after\": {\n                    background: \"$colors$warning\",\n                    opacity: 0.07,\n                },\n            },\n            clear: {\n                fontStyle: \"italic\",\n            },\n            info: {},\n        },\n    },\n    _a));\n\nvar wrapperClassName = css({\n    justifyContent: \"space-between\",\n    borderBottom: \"1px solid $colors$surface2\",\n    padding: \"0 $space$2\",\n    fontFamily: \"$font$mono\",\n    height: \"$layout$headerHeight\",\n    minHeight: \"$layout$headerHeight\",\n    overflowX: \"auto\",\n    whiteSpace: \"nowrap\",\n});\nvar flexClassName = css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: \"$space$2\",\n});\nvar Header = function (_a) {\n    var currentTab = _a.currentTab, setCurrentTab = _a.setCurrentTab, node = _a.node;\n    var classNames = useClassNames();\n    var buttonsClassName = classNames(\"console-header-button\", [\n        buttonClassName,\n        roundedButtonClassName,\n        css({ padding: \"$space$1 $space$3\" }),\n    ]);\n    return (jsxs(\"div\", { className: classNames(\"console-header\", [\n            wrapperClassName,\n            flexClassName,\n        ]), children: [jsxs(\"p\", { className: classNames(\"console-header-title\", [\n                    css({\n                        lineHeight: 1,\n                        margin: 0,\n                        color: \"$colors$base\",\n                        fontSize: \"$font$size\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        gap: \"$space$2\",\n                    }),\n                ]), children: [jsx(ConsoleIcon, {}), jsx(\"span\", { children: \"Terminal\" })] }), node && (jsxs(\"div\", { className: classNames(\"console-header-actions\", [flexClassName]), children: [jsx(\"button\", { className: buttonsClassName, \"data-active\": currentTab === \"server\", onClick: function () { return setCurrentTab(\"server\"); }, type: \"button\", children: \"Server\" }), jsx(\"button\", { className: buttonsClassName, \"data-active\": currentTab === \"client\", onClick: function () { return setCurrentTab(\"client\"); }, type: \"button\", children: \"Client\" })] }))] }));\n};\n\n/**\n * It provides an interface to consume the logs from a sandpack client.\n *\n * @category Hooks\n */\nvar useSandpackConsole = function (_a) {\n    var clientId = _a.clientId, _b = _a.maxMessageCount, maxMessageCount = _b === void 0 ? MAX_MESSAGE_COUNT : _b, _c = _a.showSyntaxError, showSyntaxError = _c === void 0 ? false : _c, _d = _a.resetOnPreviewRestart, resetOnPreviewRestart = _d === void 0 ? false : _d;\n    var _e = React.useState([]), logs = _e[0], setLogs = _e[1];\n    var listen = useSandpack().listen;\n    React.useEffect(function () {\n        var unsubscribe = listen(function (message) {\n            if (resetOnPreviewRestart && message.type === \"start\") {\n                setLogs([]);\n            }\n            else if (message.type === \"console\" && message.codesandbox) {\n                var payloadLog = Array.isArray(message.log)\n                    ? message.log\n                    : [message.log];\n                if (payloadLog.find(function (_a) {\n                    var method = _a.method;\n                    return method === \"clear\";\n                })) {\n                    return setLogs([CLEAR_LOG]);\n                }\n                var logsMessages_1 = showSyntaxError\n                    ? payloadLog\n                    : payloadLog.filter(function (messageItem) {\n                        var _a, _b, _c;\n                        var messagesWithoutSyntaxErrors = (_c = (_b = (_a = messageItem === null || messageItem === void 0 ? void 0 : messageItem.data) === null || _a === void 0 ? void 0 : _a.filter) === null || _b === void 0 ? void 0 : _b.call(_a, function (dataItem) {\n                            if (typeof dataItem !== \"string\")\n                                return true;\n                            var matches = SYNTAX_ERROR_PATTERN.filter(function (lookFor) {\n                                return dataItem.startsWith(lookFor);\n                            });\n                            return matches.length === 0;\n                        })) !== null && _c !== void 0 ? _c : [];\n                        return messagesWithoutSyntaxErrors.length > 0;\n                    });\n                if (!logsMessages_1)\n                    return;\n                setLogs(function (prev) {\n                    var messages = __spreadArray(__spreadArray([], prev, true), logsMessages_1, true).filter(function (value, index, self) {\n                        return index === self.findIndex(function (s) { return s.id === value.id; });\n                    });\n                    while (messages.length > maxMessageCount) {\n                        messages.shift();\n                    }\n                    return messages;\n                });\n            }\n        }, clientId);\n        return unsubscribe;\n    }, [showSyntaxError, maxMessageCount, clientId, resetOnPreviewRestart]);\n    return { logs: logs, reset: function () { return setLogs([]); } };\n};\n\n/**\n * `SandpackConsole` is a Sandpack devtool that allows printing\n * the console logs from a Sandpack client. It is designed to be\n * a light version of a browser console, which means that it's\n * limited to a set of common use cases you may encounter when coding.\n */\nvar SandpackConsole = React.forwardRef(function (_a, ref) {\n    var _b;\n    var _c = _a.showHeader, showHeader = _c === void 0 ? true : _c, _d = _a.showSyntaxError, showSyntaxError = _d === void 0 ? false : _d, maxMessageCount = _a.maxMessageCount, onLogsChange = _a.onLogsChange, className = _a.className; _a.showSetupProgress; var _f = _a.showResetConsoleButton, showResetConsoleButton = _f === void 0 ? true : _f, _g = _a.showRestartButton, showRestartButton = _g === void 0 ? true : _g, _h = _a.resetOnPreviewRestart, resetOnPreviewRestart = _h === void 0 ? false : _h, _j = _a.actionsChildren, actionsChildren = _j === void 0 ? jsx(Fragment, {}) : _j, _k = _a.standalone, standalone = _k === void 0 ? false : _k, props = __rest(_a, [\"showHeader\", \"showSyntaxError\", \"maxMessageCount\", \"onLogsChange\", \"className\", \"showSetupProgress\", \"showResetConsoleButton\", \"showRestartButton\", \"resetOnPreviewRestart\", \"actionsChildren\", \"standalone\"]);\n    var environment = useSandpack().sandpack.environment;\n    var _l = useSandpackClient(), iframe = _l.iframe, internalClientId = _l.clientId;\n    var restart = useSandpackShell().restart;\n    var _m = React.useState(environment === \"node\" ? \"server\" : \"client\"), currentTab = _m[0], setCurrentTab = _m[1];\n    var clientId = standalone ? internalClientId : undefined;\n    var _o = useSandpackConsole({\n        maxMessageCount: maxMessageCount,\n        showSyntaxError: showSyntaxError,\n        resetOnPreviewRestart: resetOnPreviewRestart,\n        clientId: clientId,\n    }), consoleData = _o.logs, resetConsole = _o.reset;\n    var _p = useSandpackShellStdout({\n        maxMessageCount: maxMessageCount,\n        resetOnPreviewRestart: resetOnPreviewRestart,\n        clientId: clientId,\n    }), stdoutData = _p.logs, resetStdout = _p.reset;\n    var wrapperRef = React.useRef(null);\n    React.useEffect(function () {\n        onLogsChange === null || onLogsChange === void 0 ? void 0 : onLogsChange(consoleData);\n        if (wrapperRef.current) {\n            wrapperRef.current.scrollTop = wrapperRef.current.scrollHeight;\n        }\n    }, [onLogsChange, consoleData, stdoutData, currentTab]);\n    var isServerTab = currentTab === \"server\";\n    var isNodeEnvironment = environment === \"node\";\n    React.useImperativeHandle(ref, function () { return ({\n        reset: function () {\n            resetConsole();\n            resetStdout();\n        },\n    }); });\n    var classNames = useClassNames();\n    return (jsxs(SandpackStack, __assign({ className: classNames(\"console\", [\n            css((_b = {\n                    height: \"100%\",\n                    background: \"$surface1\",\n                    iframe: { display: \"none\" }\n                },\n                _b[\".\".concat(THEME_PREFIX, \"-bridge-frame\")] = {\n                    display: \"block\",\n                    border: 0,\n                    position: \"absolute\",\n                    left: \"$space$2\",\n                    bottom: \"$space$2\",\n                    zIndex: \"$top\",\n                    height: 12,\n                    width: \"30%\",\n                    mixBlendMode: \"multiply\",\n                    pointerEvents: \"none\",\n                },\n                _b)),\n            className,\n        ]) }, props, { children: [showHeader && isNodeEnvironment && (jsx(Header, { currentTab: currentTab, node: isNodeEnvironment, setCurrentTab: setCurrentTab })), jsx(\"div\", { ref: wrapperRef, className: classNames(\"console-list\", [\n                    css({ overflow: \"auto\", scrollBehavior: \"smooth\" }),\n                ]), children: isServerTab ? (jsx(StdoutList, { data: stdoutData })) : (jsx(ConsoleList, { data: consoleData })) }), jsxs(\"div\", { className: classNames(\"console-actions\", [\n                    css({\n                        position: \"absolute\",\n                        bottom: \"$space$2\",\n                        right: \"$space$2\",\n                        display: \"flex\",\n                        gap: \"$space$2\",\n                    }),\n                ]), children: [actionsChildren, showRestartButton && isServerTab && (jsx(RoundedButton, { onClick: function () {\n                            restart();\n                            resetConsole();\n                            resetStdout();\n                        }, children: jsx(RestartIcon, {}) })), showResetConsoleButton && (jsx(RoundedButton, { onClick: function () {\n                            if (currentTab === \"client\") {\n                                resetConsole();\n                            }\n                            else {\n                                resetStdout();\n                            }\n                        }, children: jsx(CleanIcon, {}) }))] }), standalone && (jsxs(Fragment, { children: [jsx(DependenciesProgress, { clientId: clientId }), jsx(\"iframe\", { ref: iframe })] }))] })));\n});\n\nvar Sandpack = function (_a) {\n    var _b, _c, _d, _e, _f, _g, _h, _j;\n    var options = _a.options, template = _a.template, customSetup = _a.customSetup, files = _a.files, theme = _a.theme, props = __rest(_a, [\"options\", \"template\", \"customSetup\", \"files\", \"theme\"]);\n    options !== null && options !== void 0 ? options : (options = {});\n    (_b = options.resizablePanels) !== null && _b !== void 0 ? _b : (options.resizablePanels = true);\n    (_c = options.editorWidthPercentage) !== null && _c !== void 0 ? _c : (options.editorWidthPercentage = 50);\n    (_d = options.showConsole) !== null && _d !== void 0 ? _d : (options.showConsole = false);\n    var rtlLayout = (_e = options === null || options === void 0 ? void 0 : options.rtl) !== null && _e !== void 0 ? _e : false;\n    var codeEditorOptions = {\n        showTabs: options.showTabs,\n        showLineNumbers: options.showLineNumbers,\n        showInlineErrors: options.showInlineErrors,\n        wrapContent: options.wrapContent,\n        closableTabs: options.closableTabs,\n        initMode: options.initMode,\n        extensions: (_f = options.codeEditor) === null || _f === void 0 ? void 0 : _f.extensions,\n        extensionsKeymap: (_g = options.codeEditor) === null || _g === void 0 ? void 0 : _g.extensionsKeymap,\n        readOnly: options.readOnly,\n        showReadOnly: options.showReadOnly,\n        additionalLanguages: (_h = options.codeEditor) === null || _h === void 0 ? void 0 : _h.additionalLanguages,\n    };\n    var providerOptions = {\n        /**\n         * TS-why: Type 'string | number | symbol' is not assignable to type 'string'\n         */\n        activeFile: options.activeFile,\n        visibleFiles: options.visibleFiles,\n        recompileMode: options.recompileMode,\n        recompileDelay: options.recompileDelay,\n        autorun: options.autorun,\n        autoReload: options.autoReload,\n        bundlerURL: options.bundlerURL,\n        startRoute: options.startRoute,\n        skipEval: options.skipEval,\n        fileResolver: options.fileResolver,\n        initMode: options.initMode,\n        initModeObserverOptions: options.initModeObserverOptions,\n        externalResources: options.externalResources,\n        logLevel: options.logLevel,\n        classes: options.classes,\n        experimental_enableServiceWorker: options.experimental_enableServiceWorker,\n        experimental_enableStableServiceWorkerId: options.experimental_enableStableServiceWorkerId,\n    };\n    /**\n     * Console\n     */\n    var _k = React.useState(options.showConsole), consoleVisibility = _k[0], setConsoleVisibility = _k[1];\n    var _l = React.useState(0), counter = _l[0], setCounter = _l[1];\n    var hasRightColumn = options.showConsole || options.showConsoleButton;\n    /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n    var templateFiles = (_j = SANDBOX_TEMPLATES[template]) !== null && _j !== void 0 ? _j : {};\n    var mode = ((options === null || options === void 0 ? void 0 : options.layout)\n        ? options === null || options === void 0 ? void 0 : options.layout\n        : \"mode\" in templateFiles\n            ? templateFiles.mode\n            : \"preview\");\n    var actionsChildren = options.showConsoleButton ? (jsx(ConsoleCounterButton, { counter: counter, onClick: function () { return setConsoleVisibility(function (prev) { return !prev; }); } })) : undefined;\n    /**\n     * Resizable\n     */\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n    var dragEventTargetRef = React.useRef(null);\n    var _m = React.useState(options.editorWidthPercentage), horizontalSize = _m[0], setHorizontalSize = _m[1];\n    var _o = React.useState(70), verticalSize = _o[0], setVerticalSize = _o[1];\n    var RightColumn = hasRightColumn ? SandpackStack : React.Fragment;\n    var rightColumnStyle = {\n        flexGrow: 100 - horizontalSize,\n        flexShrink: 100 - horizontalSize,\n        flexBasis: 0,\n        width: 100 - horizontalSize + \"%\",\n        gap: consoleVisibility ? 1 : 0,\n        height: options.editorHeight, // use the original editor height\n    };\n    var topRowStyle = hasRightColumn\n        ? {\n            flexGrow: verticalSize,\n            flexShrink: verticalSize,\n            flexBasis: 0,\n            overflow: \"hidden\",\n        }\n        : rightColumnStyle;\n    var onDragMove = function (event) {\n        if (!dragEventTargetRef.current)\n            return;\n        var container = dragEventTargetRef.current.parentElement;\n        if (!container)\n            return;\n        var direction = dragEventTargetRef.current.dataset.direction;\n        var isHorizontal = direction === \"horizontal\";\n        var _a = container.getBoundingClientRect(), left = _a.left, top = _a.top, height = _a.height, width = _a.width;\n        var offset = isHorizontal\n            ? ((event.clientX - left) / width) * 100\n            : ((event.clientY - top) / height) * 100;\n        var boundaries = Math.min(Math.max(offset, 25), 75);\n        if (isHorizontal) {\n            setHorizontalSize(rtlLayout ? 100 - boundaries : boundaries);\n        }\n        else {\n            setVerticalSize(boundaries);\n        }\n        container.querySelectorAll(\".\".concat(THEME_PREFIX, \"-stack\")).forEach(function (item) {\n            item.style.pointerEvents = \"none\";\n        });\n    };\n    var stopDragging = function () {\n        var _a;\n        var container = (_a = dragEventTargetRef.current) === null || _a === void 0 ? void 0 : _a.parentElement;\n        if (!container)\n            return;\n        container.querySelectorAll(\".\".concat(THEME_PREFIX, \"-stack\")).forEach(function (item) {\n            item.style.pointerEvents = \"\";\n        });\n        dragEventTargetRef.current = null;\n    };\n    React.useEffect(function () {\n        if (!(options === null || options === void 0 ? void 0 : options.resizablePanels))\n            return;\n        document.body.addEventListener(\"mousemove\", onDragMove);\n        document.body.addEventListener(\"mouseup\", stopDragging);\n        return function () {\n            document.body.removeEventListener(\"mousemove\", onDragMove);\n            document.body.removeEventListener(\"mouseup\", stopDragging);\n        };\n    }, [options]);\n    React.useEffect(function () {\n        var _a;\n        setConsoleVisibility((_a = options === null || options === void 0 ? void 0 : options.showConsole) !== null && _a !== void 0 ? _a : false);\n    }, [options.showConsole]);\n    var rightColumnProps = hasRightColumn\n        ? { className: THEME_PREFIX + \"-preset-column\", style: rightColumnStyle }\n        : {};\n    var classNames = useClassNames();\n    return (jsx(SandpackProvider, __assign({ customSetup: customSetup, files: files, options: providerOptions, template: template, theme: theme }, props, { children: jsxs(SandpackLayout, { className: rtlLayout ? classNames(\"rtl-layout\", [rtlLayoutClassName]) : \"\", children: [jsx(SandpackCodeEditor, __assign({}, codeEditorOptions, { style: {\n                        height: options.editorHeight,\n                        flexGrow: horizontalSize,\n                        flexShrink: horizontalSize,\n                        flexBasis: 0,\n                        overflow: \"hidden\",\n                    } })), options.resizablePanels && (jsx(\"div\", { className: classNames(\"resize-handler\", [\n                        dragHandler({ direction: \"horizontal\" }),\n                    ]), \"data-direction\": \"horizontal\", onMouseDown: function (event) {\n                        dragEventTargetRef.current = event.target;\n                    }, style: {\n                        left: \"calc(\".concat(rtlLayout ? 100 - horizontalSize : horizontalSize, \"% - 5px)\"),\n                    } })), jsxs(RightColumn, __assign({}, rightColumnProps, { children: [mode === \"preview\" && (jsx(SandpackPreview, { actionsChildren: actionsChildren, showNavigator: options.showNavigator, showRefreshButton: options.showRefreshButton, style: topRowStyle })), mode === \"tests\" && (jsx(SandpackTests, { actionsChildren: actionsChildren, style: topRowStyle })), mode === \"console\" && (jsx(SandpackConsole, { actionsChildren: actionsChildren, style: topRowStyle, standalone: true })), (options.showConsoleButton || consoleVisibility) && (jsxs(Fragment, { children: [options.resizablePanels && consoleVisibility && (jsx(\"div\", { className: classNames(\"resize-handler\", [\n                                        dragHandler({ direction: \"vertical\" }),\n                                    ]), \"data-direction\": \"vertical\", onMouseDown: function (event) {\n                                        dragEventTargetRef.current = event.target;\n                                    }, style: { top: \"calc(\".concat(verticalSize, \"% - 5px)\") } })), jsx(\"div\", { className: classNames(\"console-wrapper\", [consoleWrapper]), style: {\n                                        flexGrow: consoleVisibility ? 100 - verticalSize : 0,\n                                        flexShrink: consoleVisibility ? 100 - verticalSize : 0,\n                                        flexBasis: 0,\n                                    }, children: jsx(SandpackConsole, { onLogsChange: function (logs) { return setCounter(logs.length); }, showHeader: false }) })] }))] }))] }) }), template));\n};\nvar dragHandler = css({\n    position: \"absolute\",\n    zIndex: \"$top\",\n    variants: {\n        direction: {\n            vertical: {\n                right: 0,\n                left: 0,\n                height: 10,\n                cursor: \"ns-resize\",\n            },\n            horizontal: {\n                top: 0,\n                bottom: 0,\n                width: 10,\n                cursor: \"ew-resize\",\n            },\n        },\n    },\n    \"@media screen and (max-width: 768px)\": {\n        display: \"none\",\n    },\n});\nvar ConsoleCounterButton = function (_a) {\n    var onClick = _a.onClick, counter = _a.counter;\n    return (jsxs(RoundedButton, { className: buttonCounter.toString(), onClick: onClick, children: [jsx(ConsoleIcon, {}), counter > 0 && jsx(\"strong\", { children: counter })] }));\n};\nvar buttonCounter = css({\n    position: \"relative\",\n    strong: {\n        background: \"$colors$clickable\",\n        color: \"$colors$surface1\",\n        minWidth: 12,\n        height: 12,\n        padding: \"0 2px\",\n        borderRadius: 12,\n        fontSize: 8,\n        lineHeight: \"12px\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        fontWeight: \"normal\",\n    },\n});\nvar consoleWrapper = css({\n    width: \"100%\",\n    overflow: \"hidden\",\n});\nvar rtlLayoutClassName = css({\n    flexDirection: \"row-reverse\",\n    \"@media screen and (max-width: 768px)\": {\n        flexFlow: \"wrap-reverse !important\",\n        flexDirection: \"initial\",\n    },\n});\n\nexport { ANGULAR_TEMPLATE, ASTRO_TEMPLATE, BackwardIcon, CleanIcon, CloseIcon, CodeMirror as CodeEditor, ConsoleIcon, DependenciesProgress, DirectoryIconClosed, DirectoryIconOpen, ErrorOverlay, ExportIcon, FADE_ANIMATION_DURATION, FileIcon, FileTabs, ForwardIcon, LoadingOverlay, Navigator, OpenInCodeSandboxButton, REACT_TEMPLATE, REACT_TYPESCRIPT_TEMPLATE, RefreshIcon, RestartIcon, RoundedButton, RunButton$1 as RunButton, RunIcon, SANDBOX_TEMPLATES, SANDPACK_THEMES, SOLID_TEMPLATE, SVELTE_TEMPLATE, Sandpack, SandpackCodeEditor, SandpackCodeViewer, SandpackConsole, SandpackConsumer, SandpackFileExplorer, SandpackLayout, SandpackPreview, SandpackProvider, Sandpack$1 as SandpackReactContext, SandpackStack, SandpackTests, SandpackThemeConsumer, SandpackThemeContext, SandpackThemeProvider, SandpackTranspiledCode, SignInIcon, SignOutIcon, TEST_TYPESCRIPT_TEMPLATE, UnstyledOpenInCodeSandboxButton, VANILLA_TEMPLATE, VANILLA_TYPESCRIPT_TEMPLATE, VUE_TEMPLATE, defaultDark, defaultLight, getCssText as getSandpackCssText, layoutClassName, stackClassName, tabButton, useActiveCode, useClassNames, useErrorMessage, useLoadingOverlayState, useSandpack, useSandpackClient, useSandpackConsole, useSandpackNavigation, useSandpackPreviewProgress, useSandpackShell, useSandpackShellStdout, useSandpackTheme, useTranspiledCode };\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArray","to","from","pack","ar","l","Array","slice","concat","_a$a","_a$9","SVG","props","jsx","fill","height","viewBox","width","xmlns","SignInIcon","jsxs","children","d","SignOutIcon","RestartIcon","stroke","strokeLinecap","strokeLinejoin","RunIcon","BackwardIcon","ForwardIcon","RefreshIcon","clipRule","fillRule","CleanIcon","cx","cy","r","ExportIcon","CloseIcon","ConsoleIcon","defaultLight","colors","surface1","surface2","surface3","disabled","base","clickable","hover","accent","error","errorSurface","warning","warningSurface","syntax","plain","comment","color","fontStyle","keyword","tag","punctuation","definition","property","static","string","font","mono","size","lineHeight","defaultDark","SANDPACK_THEMES","light","dark","auto","window","matchMedia","matches","getFileName","filePath","lastIndexOfSlash","lastIndexOf","isDarkColor","b","startsWith","parseInt","substr","rgbValues","replace","split","lastCount","generateRandomId","Date","now","toString","defineProperty","getOwnPropertyDescriptors","defineProperties","THEME_PREFIX","createTheme","prefix","css","keyframes","getCssText","defaultVariables","space","reduce","acc","index","_a","border","radius","layout","headerHeight","transitions","default","zIndices","overlay","top","simpleHashFunction","str","hash","charCodeAt","Math","abs","fakeCss","ClassNamesContext","createContext","ClassNamesProvider","classes","Provider","useClassNames","contextClassNames","useContext","customClassName","allClassNames","custom","joinClassNames","args","_i","filter","Boolean","join","wrapperClassName$3","all","fontSize","fontFamily","display","boxSizing","textRendering","WebkitTapHighlightColor","WebkitFontSmoothing","variants","variant","colorScheme","MozOsxFontSmoothing","outline","SandpackThemeContext","theme","id","mode","SandpackThemeProvider","themeFromProps","className","_b","prefferedTheme","setPreferredTheme","_c","inputTheme","_d","_e","predefinedTheme","Error","baseTheme","JSON","stringify","standardizeTheme","classNames","themeClassName","entries","tokenAcc","tokenName","tokenValue","newValues","valueAcc","styleProp","styleValue","standardizeStitchesTheme","colorSchemeChange","addEventListener","removeEventListener","commonFiles","Consumer","code","ASTRO_TEMPLATE","files","dependencies","astro","scripts","dev","start","build","preview","main","environment","NEXTJS_TEMPLATE","name","version","private","lint","react","NODE_TEMPLATE","VITE_TEMPLATE","devDependencies","vite","VITE_PREACT_TEMPLATE","preact","VITE_PREACT_TS_TEMPLATE","compilerOptions","target","useDefineForClassFields","lib","allowJs","skipLibCheck","esModuleInterop","allowSyntheticDefaultImports","strict","forceConsistentCasingInFileNames","module","moduleResolution","resolveJsonModule","isolatedModules","noEmit","jsxImportSource","include","references","path","composite","typescript","VITE_REACT_TEMPLATE","VITE_REACT_TS_TEMPLATE","VITE_SVELTE_TEMPLATE","type","svelte","VITE_SVELTE_TS_TEMPLATE","extends","checkJs","tslib","VITE_VUE_TEMPLATE","vue","VITE_VUE_TS_TEMPLATE","ANGULAR_TEMPLATE","rxjs","REACT_TEMPLATE","REACT_TYPESCRIPT_TEMPLATE","SOLID_TEMPLATE","SVELTE_TEMPLATE","TEST_TYPESCRIPT_TEMPLATE","VANILLA_TEMPLATE","VANILLA_TYPESCRIPT_TEMPLATE","VUE_TEMPLATE","serve","VUE_TS_TEMPLATE","experimentalDecorators","sourceMap","baseUrl","types","paths","exclude","SANDBOX_TEMPLATES","angular","solid","vanilla","node","nextjs","getSandpackStateFromProps","_f","normalizedFilesPath","projectSetup","combineTemplateFilesToSetup","template","customSetup","visibleFiles","options","activeFile","resolveFile","undefined","keys","forEach","file","active","hidden","entry","includes","shouldUpdatePreview","normalizedPath","resolvedPath","strategies","removeExtension","attemptPath","defaultTemplate","convertedFilesToBundlerFiles","baseTemplate","key","ensureLength","padEnd","generateShortId","input","encoder","data","hashBuffer","hashArray","TextEncoder","encode","crypto","subtle","digest","Uint8Array","btoa","String","fromCharCode","useClient","filesState","teamId","sandboxId","initModeFromProps","initMode","useState","startRoute","bundlerState","reactDevTools","status","autorun","state","setState","intersectionObserverCallback","useRef","intersectionObserver","lazyAnchorRef","registeredIframes","clients","timeoutHook","unsubscribeClientListeners","unsubscribe","queuedListeners","global","debounceHook","prevEnvironment","experimental_stableServiceWorkerId","useId","reactDomId_1","map","useAsyncSandpackId","createClient","useCallback","iframe","clientId","clientPropsOverride","timeOut","client","_g","_h","current","destroy","bundlerTimeOut","clearTimeout","setTimeout","unregisterAllClients","prev","externalResources","bundlerURL","fileResolver","skipEval","logLevel","showOpenInCodeSandbox","showErrorScreen","showLoadingScreen","customNpmRegistries","npmRegistries","experimental_enableServiceWorker","experimental_enableStableServiceWorkerId","listen","handleMessage","listenerId","listener","unregisterBundler","runSandpack","some","isIntersecting","initializeSandpackIframe","observerOptions","initModeObserverOptions","rootMargin","unobserve","IntersectionObserver","observe","registerBundler","contentWindow","location","removeAttribute","values","listenerOfClient","msg","compilatonError","action","notificationType","message","title","recompileMode","recompileDelay","useEffect","updateSandbox","disconnect","registerReactDevTools","addListener","unsubscribeListener","listenerId_1","listenerId_2","currentClientUnsubscribeListeners_1","dispatchMessage","dispatch","console","warn","unsubscribeClientListenersRef","queuedListenersRef","Sandpack$1","SandpackProvider","style","originalStateFromProps","isMountedRef","updateFile","pathOrFiles","operations","openFile","rest","newPaths","resetFile","prevState","resetAllFiles","setActiveFile","updateCurrentFile","addFile","closeFile","indexOfRemovedPath","openPath","deleteFile","newFiles","remainingVisibleFiles","nextFile","visibleFilesFromProps","useFiles","fileState","fileOperations","clientState","clientOperations","appState","editorState","useAppState","autoReload","exportOptions","useSandpack","sandpack","_a$8","_b$2","_a$7","_a$6","useActiveCode","readOnly","updateCode","iconStandaloneClassName","svg","margin","buttonClassName","appearance","alignItems","backgroundColor","transition","cursor","textDecoration","minWidth","padding","paddingRight","paddingLeft","gap","roundedButtonClassName","borderRadius","background","iconClassName","fadeIn","opacity","absoluteClassName","position","bottom","left","right","overflow","zIndex","errorClassName","whiteSpace","flexDirection","marginTop","solidBg","true","errorBundlerClassName","errorMessageClassName","animation","errorCode","a","tabsClassName","borderBottom","tabsScrollableClassName","flexWrap","minHeight","marginBottom","closeButtonClassName","marginLeft","visibility","tabButton","FileTabs","closableTabs","handleCloseFile","ev","stopPropagation","tabElm","closest","pathToClose","getAttribute","translate","role","onClick","currentPath","documentFileName","pathsWithDuplicateFileNames","curr","otherPaths","currentPathParts","resultPathParts","unshift","fileIndex","otherPathParts","partsFromEnd","currentPathPart","otherPathPart","calculateNearestUniquePath","RoundedButton","runButtonClassName","RunButton$1","event","stackClassName","SandpackStack","useSandpackTheme","themeId","themeMode","shallowEqual","getCodeMirrorPosition","doc","line","column","classNameToken","useCombinedRefs","refs","element","ref","_a$5","_b$1","_a$4","lineDeco","attributes","class","activeLineHighlighter","fromClass","class_1","decorations","none","update","_this","transactions","trans","errorValue","annotation","view","set","range","placeholderClassName","tokensClassName","token","editorClassName","flex","cmClassName","readOnlyClassName","CodeMirror","fileType","onCodeUpdate","showLineNumbers","showInlineErrors","wrapContent","showReadOnly","decorators","_j","_k","extensions","_l","extensionsKeymap","_m","additionalLanguages","wrapper","combinedRef","cmView","_o","_p","internalCode","setInternalCode","_q","shouldInitEditor","setShouldInitEditor","_r","prevExtension","prevExtensionKeymap","threshold","getCodemirror","languageExtension","extension","extensionDotIndex","additionalLanguages_1","additionalLanguage","getLanguageFromFile","langSupport","javascript","html","additionalLanguages_2","language","getCodeMirrorLanguage","highlightTheme","define","link","emphasis","strong","fontWeight","atom","number","bool","variableName","standard","tagName","function","propertyName","literal","inserted","quote","getSyntaxHighlight","syntaxHighlightRender","tree","parser","parse","offSet","codeElementsRender","addElement","createElement","useSyntaxHighlight","sortedDecorators","sort","d1","d2","parentDiv","existingPlaceholder","querySelector","removeChild","parent","tr","docChanged","newCode","newDoc","sliceString","contentDOM","setAttribute","classList","add","customCommandsKeymap","run","customKey","find","focus","extensionList","of","backgroundBlendMode","caretColor","editable","positions","getDecoration","rangesDecorators","item","markDeco","mark","elementAttributes","positionLineStart","startColumn","endColumn","positionLineEnd","lineWrapping","effects","reconfigure","dependenciesAreDiff","appendConfig","selection","ranges","changes","insert","annotations","gutterLineOffset","offset","Fragment","onKeyDown","evt","preventDefault","tabIndex","suppressHydrationWarning","SandpackCodeEditor","forwardRef","showTabs","showRunButton","readOnlyFile","shouldShowTabs","handleCodeUpdate","layoutClassName","propCode","flexGrow","flexShrink","flexBasis","SandpackLayout","useSandpackClient","iframeRef","iframeElement","clientIdValue","getClient","useSandpackShell","restart","openPreview","useSandpackPreviewProgress","isReady","setIsReady","totalDependencies","setTotalDependencies","loadingMessage","setLoadingMessage","timeout","timer","firstLoad","progress","total","totalPending","originalMessage","firstTotalPending","command","trim","mapProgressMessage","useSandpackShellStdout","maxMessageCount","resetOnPreviewRestart","logs","setLogs","payload","messages","shift","reset","mapBundlerErrors","errorMessage","test","exitCode","match","Number","ErrorOverlay","otherProps","useErrorMessage","isSandpackBundlerError","href","convertBundleIntoReact","linkify","useClasses","bundle","bg","fg","decoration","createStyle","substring","createClass","content","linkRegex","exec","pre","url","startIndex","lastIndex","Ansi","use_classes","escapeCarriageReturn","txt","tmp","fixBackspace","json","remove_empty","bind","_a$3","_a$2","_a$1","Arithmetic","StdoutList","consoleItemClassName$1","CSB_URL","getFileParameters","parameters","normalizedFiles","fileName","isBinary","UnstyledOpenInCodeSandboxButton","ExportToWorkspaceButton","RegularExportButton","apiToken","fetch","method","privacy","headers","Authorization","open","alias","formRef","paramsValues","setParamsValues","params","searchParams","URLSearchParams","query","utm_medium","get","submit","rel","OpenInCodeSandboxButton","cubeClassName","transform","wrapperClassName$2","cubeRotate","sidesClassNames","animationFillMode","transformStyle","transformOrigin","Loading","loadingClassName","LoadingOverlay","loading","shouldShowStdout","setShouldShowStdout","loadingOverlayState","externalLoading","fadeTimeout","useLoadingOverlayState","progressMessage","stdoutData","stillLoading","stdoutPreview","progressClassName$1","overflowX","textOverflow","DependenciesProgress","progressClassName","navigatorClassName","span","marginRight","inputClassName","Navigator","onURLChange","setBaseUrl","relativeUrl","setRelativeUrl","backEnabled","setBackEnabled","forwardEnabled","setForwardEnabled","unsub","back","forward","splitUrl","newBaseUrl","newRelativeUrl","buttonsClassNames","justifyContent","onChange","currentTarget","previewClassName","mixBlendMode","pointerEvents","previewIframe","maxHeight","previewActionsClassName$1","SandpackPreview","showNavigator","showRefreshButton","showSandpackErrorOverlay","showOpenNewtab","showRestartButton","actionsChildren","iframeComputedHeight","setComputedAutoHeight","refresh","useSandpackNavigation","newUrl","src","wrapperClassName$1","flexClassName$1","Header$1","suiteOnly","setSuiteOnly","setVerbose","verbose","watchMode","setWatchMode","showSuitesOnly","showWatchButton","showVerboseButton","hideTestsAndSupressLogs","buttonsClassName","RunButton","pass","fail","skip","passTextClassName","failTextClassName","skipTextClassName","titleTextClassName","runBackgroundClassName","passBackgroundClassName","failBackgroundClassName","testContainerClassName","containerClassName$4","testClassName","durationClassName","gapRightClassName","Tests","tests","duration","getTests","block","describes","getSpecTestResults","spec","isEmpty","splitTail","as","flatMap","object","nameClassName","containerClassName$3","Describes","describe","containerClassName$2","FormattedError","dangerouslySetInnerHTML","__html","formatDiffMessage","escapeHtml","unsafe","finalMessage","matcherResult","mappedErrors","endsWith","_originalScriptCode","widestNumber_1","max","lineNumber","margin_1","currentLineMargin","newMargin","highlight","toBeIndex","toBeMargin","fileContainer","gapBottomClassName$1","failTestClassName","labelClassName$1","specLabelClassName","textTransform","filePathButtonClassName","filePathClassName","textDecorationStyle","textDecorationLine","fileNameClassName","Specs","specs","openSpec","SpecLabel","FilePath","stats","blocks","errors","parts","basePath","gapBottomClassName","labelClassName","containerClassName$1","Summary","suites","widestLabel","withMargin","difference","previewActionsClassName","INITIAL_STATE","specsCount","SandpackTests","onComplete","runAllTests","oldState","runSpec","testFileRegex","isSpecOpen","currentDescribeBlocks","currentSpec","source","count","blockName","describePath","currentDescribe","test_1","testName","test_2","startedTest","test_3","endedTest","unsunscribe","isDark","getDuration","testResults","getAllTestResults","suiteResults","getAllSuiteResults","containerClassName","fileErrorContainerClassName","SYNTAX_ERROR_PATTERN","CLEAR_LOG","GLOBAL","savedEval","eval","ARRAY_BUFFER_SUPPORTED","ArrayBuffer","MAP_SUPPORTED","Map","SET_SUPPORTED","Set","transformers","infinity","Infinity","minusInfinity","minusZero","HTMLElement","sandbox","document","implementation","createHTMLDocument","innerHTML","attribute","Function","tempFun","NaN","val","date","setTime","RegExp","flags","err","stack","buffer","Int8Array","ctorName","arr","kvArr","j","formatSymbols","isArray","constructor","NodeList_1","fromConsoleToString","level","output_1","output","mergeArray","arrayToString","outerHTML","newMessage","length_1","nodes","constructorName","formattedObject","comma","breakLine","formatted","objectToString","getType","ConsoleList","logIndex","msgIndex","fixReferences","consoleItemClassName","clear","info","wrapperClassName","flexClassName","Header","currentTab","setCurrentTab","SandpackConsole","showHeader","showSyntaxError","onLogsChange","showSetupProgress","showResetConsoleButton","standalone","internalClientId","MAX_KEYS","codesandbox","payloadLog","log","logsMessages_1","messageItem","dataItem","lookFor","self","findIndex","useSandpackConsole","consoleData","resetConsole","resetStdout","wrapperRef","scrollTop","scrollHeight","isServerTab","isNodeEnvironment","scrollBehavior","Sandpack","resizablePanels","editorWidthPercentage","showConsole","rtlLayout","rtl","codeEditorOptions","codeEditor","providerOptions","consoleVisibility","setConsoleVisibility","counter","setCounter","hasRightColumn","showConsoleButton","templateFiles","ConsoleCounterButton","dragEventTargetRef","horizontalSize","setHorizontalSize","verticalSize","setVerticalSize","RightColumn","rightColumnStyle","editorHeight","topRowStyle","onDragMove","container","parentElement","isHorizontal","dataset","direction","getBoundingClientRect","clientX","clientY","boundaries","min","querySelectorAll","stopDragging","rightColumnProps","rtlLayoutClassName","dragHandler","onMouseDown","consoleWrapper","vertical","horizontal","buttonCounter","flexFlow"],"sourceRoot":""}